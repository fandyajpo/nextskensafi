"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/guru/dashboard",{

/***/ "./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar downloadFile = function (url, data) {\n    var blobUrl = typeof data === 'string' ? '' : URL.createObjectURL(new Blob([data], { type: '' }));\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = blobUrl || url;\n    link.setAttribute('download', getFileName(url));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n};\n\nvar AttachmentList = function (_a) {\n    var files = _a.files;\n    var containerRef = React__namespace.useRef();\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var attachmentItemsRef = React__namespace.useRef([]);\n    var clickDownloadLabel = l10n && l10n.attachment\n        ? l10n.attachment.clickToDownload\n        : 'Click to download';\n    var handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (items, activeEle) { return items.indexOf(activeEle) + 1; });\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                moveToItem(function (items, activeEle) { return items.indexOf(activeEle) - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (items, _) { return items.length - 1; });\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var moveToItem = function (getItemIndex) {\n        var container = containerRef.current;\n        var attachmentItems = [].slice.call(container.getElementsByClassName('rpv-attachment__item'));\n        if (attachmentItems.length === 0) {\n            return;\n        }\n        attachmentItems.forEach(function (item) { return item.setAttribute('tabindex', '-1'); });\n        var activeEle = document.activeElement;\n        var targetIndex = Math.min(attachmentItems.length - 1, Math.max(0, getItemIndex(attachmentItems, activeEle)));\n        var targetEle = attachmentItems[targetIndex];\n        targetEle.setAttribute('tabindex', '0');\n        targetEle.focus();\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var attachmentItems = [].slice.call(container.getElementsByClassName('rpv-attachment__item'));\n        attachmentItemsRef.current = attachmentItems;\n        if (attachmentItems.length > 0) {\n            var firstItem = attachmentItems[0];\n            firstItem.focus();\n            firstItem.setAttribute('tabindex', '0');\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { \"data-testid\": \"attachment__list\", className: core.classNames({\n            'rpv-attachment__list': true,\n            'rpv-attachment__list--rtl': isRtl,\n        }), ref: containerRef, tabIndex: -1, onKeyDown: handleKeyDown }, files.map(function (file) { return (React__namespace.createElement(\"button\", { className: \"rpv-attachment__item\", key: file.fileName, tabIndex: -1, title: clickDownloadLabel, type: \"button\", onClick: function () { return downloadFile(file.fileName, file.data); } }, file.fileName)); })));\n};\n\nvar AttachmentLoader = function (_a) {\n    var doc = _a.doc;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var noAttachmentLabel = l10n && l10n.attachment\n        ? l10n.attachment.noAttachment\n        : 'There is no attachment';\n    var _b = React__namespace.useState({\n        files: [],\n        isLoaded: false,\n    }), attachments = _b[0], setAttachments = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getAttachments().then(function (response) {\n            var files = response\n                ? Object.keys(response).map(function (file) {\n                    return {\n                        data: response[file].content,\n                        fileName: response[file].filename,\n                    };\n                })\n                : [];\n            setAttachments({\n                files: files,\n                isLoaded: true,\n            });\n        });\n    }, [doc]);\n    return !attachments.isLoaded ? (React__namespace.createElement(core.Spinner, null)) : attachments.files.length === 0 ? (React__namespace.createElement(\"div\", { \"data-testid\": \"attachment__empty\", className: core.classNames({\n            'rpv-attachment__empty': true,\n            'rpv-attachment__empty--rtl': isRtl,\n        }) }, noAttachmentLabel)) : (React__namespace.createElement(AttachmentList, { files: attachments.files }));\n};\n\nvar AttachmentListWithStore = function (_a) {\n    var store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(AttachmentLoader, { doc: currentDoc })) : (React__namespace.createElement(\"div\", { className: \"rpv-attachment__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar attachmentPlugin = function () {\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var AttachmentsDecorator = function () { return React__namespace.createElement(AttachmentListWithStore, { store: store }); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Attachments: AttachmentsDecorator,\n    };\n};\n\nexports.attachmentPlugin = attachmentPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvY2pzL2F0dGFjaG1lbnQuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlGQUF5RixVQUFVO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxzQ0FBc0M7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EseURBQXlELHNDQUFzQztBQUMvRjtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMEJBQTBCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxXQUFXO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw2Q0FBNkM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0EsU0FBUyw4REFBOEQsOEJBQThCLG1EQUFtRCx1SUFBdUksa0RBQWtELG9CQUFvQjtBQUNyVzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCxvS0FBb0s7QUFDcEs7QUFDQTtBQUNBLFNBQVMsR0FBRywwRUFBMEUsMEJBQTBCO0FBQ2hIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEVBQTRFLGlCQUFpQiw4Q0FBOEMscUNBQXFDO0FBQ2hMO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsMEJBQTBCLElBQUk7QUFDckYsNkNBQTZDLGlFQUFpRSxjQUFjO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9hdHRhY2htZW50L2xpYi9janMvYXR0YWNobWVudC5qcz8yZGQ5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgdmFyIHN0ciA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdIDogdXJsO1xufTtcblxudmFyIGRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uICh1cmwsIGRhdGEpIHtcbiAgICB2YXIgYmxvYlVybCA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/ICcnIDogVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogJycgfSkpO1xuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsaW5rLmhyZWYgPSBibG9iVXJsIHx8IHVybDtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBnZXRGaWxlTmFtZSh1cmwpKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgIGlmIChibG9iVXJsKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgfVxufTtcblxudmFyIEF0dGFjaG1lbnRMaXN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGZpbGVzID0gX2EuZmlsZXM7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgYXR0YWNobWVudEl0ZW1zUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoW10pO1xuICAgIHZhciBjbGlja0Rvd25sb2FkTGFiZWwgPSBsMTBuICYmIGwxMG4uYXR0YWNobWVudFxuICAgICAgICA/IGwxMG4uYXR0YWNobWVudC5jbGlja1RvRG93bmxvYWRcbiAgICAgICAgOiAnQ2xpY2sgdG8gZG93bmxvYWQnO1xuICAgIHZhciBoYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoaXRlbXMsIGFjdGl2ZUVsZSkgeyByZXR1cm4gaXRlbXMuaW5kZXhPZihhY3RpdmVFbGUpICsgMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoaXRlbXMsIGFjdGl2ZUVsZSkgeyByZXR1cm4gaXRlbXMuaW5kZXhPZihhY3RpdmVFbGUpIC0gMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFbmQnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBtb3ZlVG9JdGVtKGZ1bmN0aW9uIChpdGVtcywgXykgeyByZXR1cm4gaXRlbXMubGVuZ3RoIC0gMTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoXywgX18pIHsgcmV0dXJuIDA7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbW92ZVRvSXRlbSA9IGZ1bmN0aW9uIChnZXRJdGVtSW5kZXgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgYXR0YWNobWVudEl0ZW1zID0gW10uc2xpY2UuY2FsbChjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncnB2LWF0dGFjaG1lbnRfX2l0ZW0nKSk7XG4gICAgICAgIGlmIChhdHRhY2htZW50SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNobWVudEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpOyB9KTtcbiAgICAgICAgdmFyIGFjdGl2ZUVsZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHZhciB0YXJnZXRJbmRleCA9IE1hdGgubWluKGF0dGFjaG1lbnRJdGVtcy5sZW5ndGggLSAxLCBNYXRoLm1heCgwLCBnZXRJdGVtSW5kZXgoYXR0YWNobWVudEl0ZW1zLCBhY3RpdmVFbGUpKSk7XG4gICAgICAgIHZhciB0YXJnZXRFbGUgPSBhdHRhY2htZW50SXRlbXNbdGFyZ2V0SW5kZXhdO1xuICAgICAgICB0YXJnZXRFbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRhcmdldEVsZS5mb2N1cygpO1xuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdHRhY2htZW50SXRlbXMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdycHYtYXR0YWNobWVudF9faXRlbScpKTtcbiAgICAgICAgYXR0YWNobWVudEl0ZW1zUmVmLmN1cnJlbnQgPSBhdHRhY2htZW50SXRlbXM7XG4gICAgICAgIGlmIChhdHRhY2htZW50SXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0SXRlbSA9IGF0dGFjaG1lbnRJdGVtc1swXTtcbiAgICAgICAgICAgIGZpcnN0SXRlbS5mb2N1cygpO1xuICAgICAgICAgICAgZmlyc3RJdGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcImF0dGFjaG1lbnRfX2xpc3RcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi1hdHRhY2htZW50X19saXN0JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYXR0YWNobWVudF9fbGlzdC0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pLCByZWY6IGNvbnRhaW5lclJlZiwgdGFiSW5kZXg6IC0xLCBvbktleURvd246IGhhbmRsZUtleURvd24gfSwgZmlsZXMubWFwKGZ1bmN0aW9uIChmaWxlKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1hdHRhY2htZW50X19pdGVtXCIsIGtleTogZmlsZS5maWxlTmFtZSwgdGFiSW5kZXg6IC0xLCB0aXRsZTogY2xpY2tEb3dubG9hZExhYmVsLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb3dubG9hZEZpbGUoZmlsZS5maWxlTmFtZSwgZmlsZS5kYXRhKTsgfSB9LCBmaWxlLmZpbGVOYW1lKSk7IH0pKSk7XG59O1xuXG52YXIgQXR0YWNobWVudExvYWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgbm9BdHRhY2htZW50TGFiZWwgPSBsMTBuICYmIGwxMG4uYXR0YWNobWVudFxuICAgICAgICA/IGwxMG4uYXR0YWNobWVudC5ub0F0dGFjaG1lbnRcbiAgICAgICAgOiAnVGhlcmUgaXMgbm8gYXR0YWNobWVudCc7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGZpbGVzOiBbXSxcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgIH0pLCBhdHRhY2htZW50cyA9IF9iWzBdLCBzZXRBdHRhY2htZW50cyA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jLmdldEF0dGFjaG1lbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBmaWxlcyA9IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgPyBPYmplY3Qua2V5cyhyZXNwb25zZSkubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXNwb25zZVtmaWxlXS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IHJlc3BvbnNlW2ZpbGVdLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIHNldEF0dGFjaG1lbnRzKHtcbiAgICAgICAgICAgICAgICBmaWxlczogZmlsZXMsXG4gICAgICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2RvY10pO1xuICAgIHJldHVybiAhYXR0YWNobWVudHMuaXNMb2FkZWQgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpIDogYXR0YWNobWVudHMuZmlsZXMubGVuZ3RoID09PSAwID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJhdHRhY2htZW50X19lbXB0eVwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAncnB2LWF0dGFjaG1lbnRfX2VtcHR5JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYXR0YWNobWVudF9fZW1wdHktLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LCBub0F0dGFjaG1lbnRMYWJlbCkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBdHRhY2htZW50TGlzdCwgeyBmaWxlczogYXR0YWNobWVudHMuZmlsZXMgfSkpO1xufTtcblxudmFyIEF0dGFjaG1lbnRMaXN0V2l0aFN0b3JlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9iWzBdLCBzZXRDdXJyZW50RG9jID0gX2JbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEF0dGFjaG1lbnRMb2FkZXIsIHsgZG9jOiBjdXJyZW50RG9jIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWF0dGFjaG1lbnRfX2xvYWRlclwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIG51bGwpKSk7XG59O1xuXG52YXIgYXR0YWNobWVudFBsdWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgQXR0YWNobWVudHNEZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQXR0YWNobWVudExpc3RXaXRoU3RvcmUsIHsgc3RvcmU6IHN0b3JlIH0pOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgQXR0YWNobWVudHM6IEF0dGFjaG1lbnRzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLmF0dGFjaG1lbnRQbHVnaW4gPSBhdHRhY2htZW50UGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/attachment/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/attachment/lib/index.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/attachment.js */ \"./node_modules/@react-pdf-viewer/attachment/lib/cjs/attachment.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLG9JQUErQztBQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudC9saWIvaW5kZXguanM/Njk0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvYXR0YWNobWVudC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9hdHRhY2htZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/attachment/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () {\n    return (React__namespace.createElement(core.Icon, { size: 16 },\n        React__namespace.createElement(\"path\", { d: \"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z\" })));\n};\n\nvar RightArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z\" }))); };\n\nvar shouldBeCollapsed = function (bookmark) {\n    var count = bookmark.count, items = bookmark.items;\n    if (count >= 0) {\n        return false;\n    }\n    var numSubItems = items.length;\n    if (numSubItems === 0) {\n        return false;\n    }\n    var subItems = items.concat([]);\n    while (subItems.length > 0) {\n        var firstChild = subItems.shift();\n        var children = firstChild.items;\n        if (firstChild.count && children && firstChild.count > 0 && children.length > 0) {\n            numSubItems += children.length;\n            subItems = subItems.concat(children);\n        }\n    }\n    return Math.abs(count) === numSubItems;\n};\n\nvar BookmarkItem = function (_a) {\n    var bookmark = _a.bookmark, depth = _a.depth, doc = _a.doc, index = _a.index, isBookmarkExpanded = _a.isBookmarkExpanded, numberOfSiblings = _a.numberOfSiblings, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var defaultIsCollapsed = React__namespace.useMemo(function () { return shouldBeCollapsed(bookmark); }, [bookmark]);\n    var defaultExpanded = isBookmarkExpanded\n        ? isBookmarkExpanded({ bookmark: bookmark, doc: doc, depth: depth, index: index })\n        : !defaultIsCollapsed;\n    var _b = React__namespace.useState(defaultExpanded), expanded = _b[0], setExpanded = _b[1];\n    var hasSubItems = bookmark.items && bookmark.items.length > 0;\n    var toggleSubItems = function () { return setExpanded(function (expanded) { return !expanded; }); };\n    var clickBookmark = function () {\n        if (hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    var clickItem = function () {\n        if (!hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    var defaultRenderItem = function (onClickItem, children) { return (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__item\", style: {\n            paddingLeft: \"\".concat(depth * 1.25, \"rem\"),\n        }, onClick: onClickItem }, children)); };\n    var defaultRenderToggle = function (expandIcon, collapseIcon) {\n        return hasSubItems ? (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\", \"data-testid\": \"bookmark__toggle-\".concat(depth, \"-\").concat(index), onClick: toggleSubItems }, expanded ? expandIcon : collapseIcon)) : (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\" }));\n    };\n    var defaultRenderTitle = function (onClickBookmark) {\n        return bookmark.url ? (React__namespace.createElement(\"a\", { className: \"rpv-bookmark__title\", href: bookmark.url, rel: \"noopener noreferrer nofollow\", target: bookmark.newWindow ? '_blank' : '' }, bookmark.title)) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__title\", \"aria-label\": bookmark.title, onClick: onClickBookmark }, bookmark.title));\n    };\n    return (React__namespace.createElement(\"li\", { \"aria-expanded\": expanded ? 'true' : 'false', \"aria-label\": bookmark.title, \"aria-level\": depth + 1, \"aria-posinset\": index + 1, \"aria-setsize\": numberOfSiblings, role: \"treeitem\", tabIndex: -1 },\n        renderBookmarkItem\n            ? renderBookmarkItem({\n                bookmark: bookmark,\n                depth: depth,\n                hasSubItems: hasSubItems,\n                index: index,\n                isExpanded: expanded,\n                defaultRenderItem: defaultRenderItem,\n                defaultRenderTitle: defaultRenderTitle,\n                defaultRenderToggle: defaultRenderToggle,\n                onClickItem: clickItem,\n                onClickTitle: clickBookmark,\n                onToggleSubItems: toggleSubItems,\n            })\n            : defaultRenderItem(clickItem, React__namespace.createElement(React__namespace.Fragment, null,\n                defaultRenderToggle(React__namespace.createElement(DownArrowIcon, null), React__namespace.createElement(RightArrowIcon, null)),\n                defaultRenderTitle(clickBookmark))),\n        hasSubItems && expanded && (React__namespace.createElement(BookmarkList, { bookmarks: bookmark.items, depth: depth + 1, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: false, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest }))));\n};\n\nvar BookmarkList = function (_a) {\n    var bookmarks = _a.bookmarks, _b = _a.depth, depth = _b === void 0 ? 0 : _b, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, isRoot = _a.isRoot, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    return (React__namespace.createElement(\"ul\", { className: \"rpv-bookmark__list\", role: isRoot ? 'tree' : 'group', tabIndex: -1 }, bookmarks.map(function (bookmark, index) { return (React__namespace.createElement(BookmarkItem, { bookmark: bookmark, depth: depth, doc: doc, index: index, isBookmarkExpanded: isBookmarkExpanded, key: index, numberOfSiblings: bookmarks.length, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest })); })));\n};\n\nvar Toggle;\n(function (Toggle) {\n    Toggle[Toggle[\"Collapse\"] = 0] = \"Collapse\";\n    Toggle[Toggle[\"Expand\"] = 1] = \"Expand\";\n})(Toggle || (Toggle = {}));\nvar BookmarkListRoot = function (_a) {\n    var bookmarks = _a.bookmarks, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var containerRef = React__namespace.useRef();\n    var _b = React__namespace.useState(store.get('linkAnnotations') || {}), links = _b[0], setLinks = _b[1];\n    var updateLinkAnnotation = function (bookmark, links) {\n        var dest = bookmark.dest;\n        if (!dest || typeof dest !== 'string' || !links[dest]) {\n            return;\n        }\n        var annotationContainer = links[dest];\n        annotationContainer.querySelectorAll(\"a[data-annotation-link-dest=\\\"\".concat(dest, \"\\\"]\")).forEach(function (node) {\n            node.setAttribute('aria-label', bookmark.title);\n        });\n        if (!bookmark.items || !bookmark.items.length) {\n            return;\n        }\n        bookmark.items.forEach(function (item) { return updateLinkAnnotation(item, links); });\n    };\n    var handleLinkAnnotationsChanged = function (links) { return setLinks(links); };\n    var jumpToDest = function (dest) {\n        core.getDestination(doc, dest).then(function (target) {\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset, scaleTo = target.scaleTo;\n            onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n        });\n    };\n    var handleKeyDown = function (e) {\n        var container = containerRef.current;\n        if (!container || !(e.target instanceof HTMLElement) || !container.contains(e.target)) {\n            return;\n        }\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) + 1; });\n                break;\n            case 'ArrowLeft':\n                e.preventDefault();\n                toggle(Toggle.Collapse);\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                toggle(Toggle.Expand);\n                break;\n            case 'ArrowUp':\n                e.preventDefault;\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, _) { return bookmarkElements.length - 1; });\n                break;\n            case ' ':\n            case 'Enter':\n            case 'Space':\n                e.preventDefault();\n                clickBookmark();\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var clickBookmark = function () {\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var titleEle = closestItem.querySelector('.rpv-bookmark__title');\n        if (titleEle) {\n            titleEle.click();\n        }\n    };\n    var moveToItem = function (getItemIndex) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var activeEle = document.activeElement;\n        var targetIndex = Math.min(bookmarkElements.length - 1, Math.max(0, getItemIndex(bookmarkElements, activeEle)));\n        var targetEle = bookmarkElements[targetIndex];\n        activeEle.setAttribute('tabindex', '-1');\n        targetEle.setAttribute('tabindex', '0');\n        targetEle.focus();\n    };\n    var toggle = function (toggle) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var expanedAttribute = toggle === Toggle.Collapse ? 'true' : 'false';\n        if (closestItem && closestItem.parentElement.getAttribute('aria-expanded') === expanedAttribute) {\n            var toggleEle = closestItem.querySelector('.rpv-bookmark__toggle');\n            if (toggleEle) {\n                toggleEle.click();\n            }\n        }\n    };\n    React__namespace.useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown);\n        store.subscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        return function () {\n            document.removeEventListener('keydown', handleKeyDown);\n            store.unsubscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        bookmarks.forEach(function (bookmark) { return updateLinkAnnotation(bookmark, links); });\n    }, [links]);\n    React__namespace.useEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length > 0) {\n            bookmarkElements[0].focus();\n            bookmarkElements[0].setAttribute('tabindex', '0');\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef },\n        React__namespace.createElement(BookmarkList, { bookmarks: bookmarks, depth: 0, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: true, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: jumpToDest })));\n};\n\nvar BookmarkLoader = function (_a) {\n    var doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _b = React__namespace.useState({\n        isLoaded: false,\n        items: [],\n    }), bookmarks = _b[0], setBookmarks = _b[1];\n    React__namespace.useEffect(function () {\n        setBookmarks({\n            isLoaded: false,\n            items: [],\n        });\n        doc.getOutline().then(function (outline) {\n            setBookmarks({\n                isLoaded: true,\n                items: outline || [],\n            });\n        });\n    }, [doc]);\n    return !bookmarks.isLoaded ? (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null))) : bookmarks.items.length === 0 ? (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__empty\", className: core.classNames({\n            'rpv-bookmark__empty': true,\n            'rpv-bookmark__empty--rtl': isRtl,\n        }) }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark')) : (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__container\", className: core.classNames({\n            'rpv-bookmark__container': true,\n            'rpv-bookmark__container--rtl': isRtl,\n        }) },\n        React__namespace.createElement(BookmarkListRoot, { bookmarks: bookmarks.items, doc: doc, isBookmarkExpanded: isBookmarkExpanded, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest })));\n};\n\nvar BookmarkListWithStore = function (_a) {\n    var isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var jump = function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            jumpToDestination(pageIndex, bottomOffset, leftOffset, scaleTo);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(BookmarkLoader, { doc: currentDoc, isBookmarkExpanded: isBookmarkExpanded, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: jump })) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar bookmarkPlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            linkAnnotations: {},\n        });\n    }, []);\n    var BookmarksDecorator = function (props) { return (React__namespace.createElement(BookmarkListWithStore, { isBookmarkExpanded: props === null || props === void 0 ? void 0 : props.isBookmarkExpanded, renderBookmarkItem: props === null || props === void 0 ? void 0 : props.renderBookmarkItem, store: store })); };\n    var onAnnotationLayerRender = function (e) {\n        if (!e.annotations.length) {\n            return;\n        }\n        var links = e.annotations.filter(function (annotation) { return annotation.subtype === 'Link'; });\n        if (!links.length) {\n            return;\n        }\n        var linkAnnotations = store.get('linkAnnotations') || {};\n        links.forEach(function (annotation) { return (linkAnnotations[annotation.dest] = e.container); });\n        store.update('linkAnnotations', linkAnnotations);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Bookmarks: BookmarksDecorator,\n        onAnnotationLayerRender: onAnnotationLayerRender,\n    };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.RightArrowIcon = RightArrowIcon;\nexports.bookmarkPlugin = bookmarkPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsvbGliL2Nqcy9ib29rbWFyay5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esd0RBQXdELFVBQVU7QUFDbEUsaURBQWlELCtGQUErRjtBQUNoSjs7QUFFQSxtQ0FBbUMsb0RBQW9ELFVBQVU7QUFDakcsNkNBQTZDLG1HQUFtRzs7QUFFaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0VBQW9FLHFDQUFxQztBQUN6RztBQUNBLCtCQUErQiwwREFBMEQ7QUFDekY7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlDQUF5QyxtQkFBbUI7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsZ0RBQWdEO0FBQy9HO0FBQ0EsU0FBUyx3QkFBd0I7QUFDakM7QUFDQSx1RUFBdUUsaUlBQWlJLHFGQUFxRixtQ0FBbUM7QUFDaFU7QUFDQTtBQUNBLHFFQUFxRSx1SUFBdUksOERBQThELDBGQUEwRjtBQUNwVztBQUNBLG1EQUFtRCxtTUFBbU07QUFDdFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLGdNQUFnTTtBQUNuUjs7QUFFQTtBQUNBO0FBQ0EsbURBQW1ELGdGQUFnRiw2Q0FBNkMsdURBQXVELG9PQUFvTyxLQUFLO0FBQ2hkOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDJDQUEyQztBQUM1RjtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsaURBQWlEO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsaURBQWlEO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxxQ0FBcUM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFdBQVc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0RBQWdELCtDQUErQztBQUMvRixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0RBQW9ELG1CQUFtQjtBQUN2RSx1REFBdUQsZ0xBQWdMO0FBQ3ZPOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTCwwRUFBMEUsbUNBQW1DO0FBQzdHLHVJQUF1STtBQUN2STtBQUNBO0FBQ0EsU0FBUyxHQUFHLHlIQUF5SDtBQUNySTtBQUNBO0FBQ0EsU0FBUyxHQUFHO0FBQ1osMkRBQTJELGdLQUFnSztBQUMzTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDBFQUEwRSxtSUFBbUksOENBQThDLG1DQUFtQztBQUM5UjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixTQUFTO0FBQ1QsS0FBSztBQUNMLGdEQUFnRCxnRUFBZ0Usc01BQXNNO0FBQ3RUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHVDQUF1QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwREFBMEQ7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9ib29rbWFyay9saWIvY2pzL2Jvb2ttYXJrLmpzPzg0NmIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBEb3duQXJyb3dJY29uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNi40MjcsOC4yNDVBLjUuNSwwLDAsMSw2Ljg2Miw3LjVIMTcuMTM4YS41LjUsMCwwLDEsLjQzNS43NDlsLTUuMTM5LDlhLjUuNSwwLDAsMS0uODY4LDBaXCIgfSkpKTtcbn07XG5cbnZhciBSaWdodEFycm93SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTkuMjQ4LDE3LjU3MmEuNS41LDAsMCwxLS43NDgtLjQzNFY2Ljg2MmEuNS41LDAsMCwxLC43NDgtLjQzNGw4Ljk5Miw1LjEzOGEuNS41LDAsMCwxLDAsLjg2OFpcIiB9KSkpOyB9O1xuXG52YXIgc2hvdWxkQmVDb2xsYXBzZWQgPSBmdW5jdGlvbiAoYm9va21hcmspIHtcbiAgICB2YXIgY291bnQgPSBib29rbWFyay5jb3VudCwgaXRlbXMgPSBib29rbWFyay5pdGVtcztcbiAgICBpZiAoY291bnQgPj0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBudW1TdWJJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcbiAgICBpZiAobnVtU3ViSXRlbXMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgc3ViSXRlbXMgPSBpdGVtcy5jb25jYXQoW10pO1xuICAgIHdoaWxlIChzdWJJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBmaXJzdENoaWxkID0gc3ViSXRlbXMuc2hpZnQoKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZmlyc3RDaGlsZC5pdGVtcztcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQuY291bnQgJiYgY2hpbGRyZW4gJiYgZmlyc3RDaGlsZC5jb3VudCA+IDAgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbnVtU3ViSXRlbXMgKz0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgc3ViSXRlbXMgPSBzdWJJdGVtcy5jb25jYXQoY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmFicyhjb3VudCkgPT09IG51bVN1Ykl0ZW1zO1xufTtcblxudmFyIEJvb2ttYXJrSXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBib29rbWFyayA9IF9hLmJvb2ttYXJrLCBkZXB0aCA9IF9hLmRlcHRoLCBkb2MgPSBfYS5kb2MsIGluZGV4ID0gX2EuaW5kZXgsIGlzQm9va21hcmtFeHBhbmRlZCA9IF9hLmlzQm9va21hcmtFeHBhbmRlZCwgbnVtYmVyT2ZTaWJsaW5ncyA9IF9hLm51bWJlck9mU2libGluZ3MsIHJlbmRlckJvb2ttYXJrSXRlbSA9IF9hLnJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmUgPSBfYS5zdG9yZSwgb25KdW1wVG9EZXN0ID0gX2Eub25KdW1wVG9EZXN0O1xuICAgIHZhciBkZWZhdWx0SXNDb2xsYXBzZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gc2hvdWxkQmVDb2xsYXBzZWQoYm9va21hcmspOyB9LCBbYm9va21hcmtdKTtcbiAgICB2YXIgZGVmYXVsdEV4cGFuZGVkID0gaXNCb29rbWFya0V4cGFuZGVkXG4gICAgICAgID8gaXNCb29rbWFya0V4cGFuZGVkKHsgYm9va21hcms6IGJvb2ttYXJrLCBkb2M6IGRvYywgZGVwdGg6IGRlcHRoLCBpbmRleDogaW5kZXggfSlcbiAgICAgICAgOiAhZGVmYXVsdElzQ29sbGFwc2VkO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZGVmYXVsdEV4cGFuZGVkKSwgZXhwYW5kZWQgPSBfYlswXSwgc2V0RXhwYW5kZWQgPSBfYlsxXTtcbiAgICB2YXIgaGFzU3ViSXRlbXMgPSBib29rbWFyay5pdGVtcyAmJiBib29rbWFyay5pdGVtcy5sZW5ndGggPiAwO1xuICAgIHZhciB0b2dnbGVTdWJJdGVtcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldEV4cGFuZGVkKGZ1bmN0aW9uIChleHBhbmRlZCkgeyByZXR1cm4gIWV4cGFuZGVkOyB9KTsgfTtcbiAgICB2YXIgY2xpY2tCb29rbWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhhc1N1Ykl0ZW1zICYmIGJvb2ttYXJrLmRlc3QpIHtcbiAgICAgICAgICAgIG9uSnVtcFRvRGVzdChib29rbWFyay5kZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGNsaWNrSXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFoYXNTdWJJdGVtcyAmJiBib29rbWFyay5kZXN0KSB7XG4gICAgICAgICAgICBvbkp1bXBUb0Rlc3QoYm9va21hcmsuZGVzdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0UmVuZGVySXRlbSA9IGZ1bmN0aW9uIChvbkNsaWNrSXRlbSwgY2hpbGRyZW4pIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWJvb2ttYXJrX19pdGVtXCIsIHN0eWxlOiB7XG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogXCJcIi5jb25jYXQoZGVwdGggKiAxLjI1LCBcInJlbVwiKSxcbiAgICAgICAgfSwgb25DbGljazogb25DbGlja0l0ZW0gfSwgY2hpbGRyZW4pKTsgfTtcbiAgICB2YXIgZGVmYXVsdFJlbmRlclRvZ2dsZSA9IGZ1bmN0aW9uIChleHBhbmRJY29uLCBjb2xsYXBzZUljb24pIHtcbiAgICAgICAgcmV0dXJuIGhhc1N1Ykl0ZW1zID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicnB2LWJvb2ttYXJrX190b2dnbGVcIiwgXCJkYXRhLXRlc3RpZFwiOiBcImJvb2ttYXJrX190b2dnbGUtXCIuY29uY2F0KGRlcHRoLCBcIi1cIikuY29uY2F0KGluZGV4KSwgb25DbGljazogdG9nZ2xlU3ViSXRlbXMgfSwgZXhwYW5kZWQgPyBleHBhbmRJY29uIDogY29sbGFwc2VJY29uKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJycHYtYm9va21hcmtfX3RvZ2dsZVwiIH0pKTtcbiAgICB9O1xuICAgIHZhciBkZWZhdWx0UmVuZGVyVGl0bGUgPSBmdW5jdGlvbiAob25DbGlja0Jvb2ttYXJrKSB7XG4gICAgICAgIHJldHVybiBib29rbWFyay51cmwgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJycHYtYm9va21hcmtfX3RpdGxlXCIsIGhyZWY6IGJvb2ttYXJrLnVybCwgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3dcIiwgdGFyZ2V0OiBib29rbWFyay5uZXdXaW5kb3cgPyAnX2JsYW5rJyA6ICcnIH0sIGJvb2ttYXJrLnRpdGxlKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1ib29rbWFya19fdGl0bGVcIiwgXCJhcmlhLWxhYmVsXCI6IGJvb2ttYXJrLnRpdGxlLCBvbkNsaWNrOiBvbkNsaWNrQm9va21hcmsgfSwgYm9va21hcmsudGl0bGUpKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBcImFyaWEtZXhwYW5kZWRcIjogZXhwYW5kZWQgPyAndHJ1ZScgOiAnZmFsc2UnLCBcImFyaWEtbGFiZWxcIjogYm9va21hcmsudGl0bGUsIFwiYXJpYS1sZXZlbFwiOiBkZXB0aCArIDEsIFwiYXJpYS1wb3NpbnNldFwiOiBpbmRleCArIDEsIFwiYXJpYS1zZXRzaXplXCI6IG51bWJlck9mU2libGluZ3MsIHJvbGU6IFwidHJlZWl0ZW1cIiwgdGFiSW5kZXg6IC0xIH0sXG4gICAgICAgIHJlbmRlckJvb2ttYXJrSXRlbVxuICAgICAgICAgICAgPyByZW5kZXJCb29rbWFya0l0ZW0oe1xuICAgICAgICAgICAgICAgIGJvb2ttYXJrOiBib29rbWFyayxcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGgsXG4gICAgICAgICAgICAgICAgaGFzU3ViSXRlbXM6IGhhc1N1Ykl0ZW1zLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiBleHBhbmRlZCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0UmVuZGVySXRlbTogZGVmYXVsdFJlbmRlckl0ZW0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdFJlbmRlclRpdGxlOiBkZWZhdWx0UmVuZGVyVGl0bGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFJlbmRlclRvZ2dsZTogZGVmYXVsdFJlbmRlclRvZ2dsZSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrSXRlbTogY2xpY2tJdGVtLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2tUaXRsZTogY2xpY2tCb29rbWFyayxcbiAgICAgICAgICAgICAgICBvblRvZ2dsZVN1Ykl0ZW1zOiB0b2dnbGVTdWJJdGVtcyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IGRlZmF1bHRSZW5kZXJJdGVtKGNsaWNrSXRlbSwgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFJlbmRlclRvZ2dsZShSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bkFycm93SWNvbiwgbnVsbCksIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSaWdodEFycm93SWNvbiwgbnVsbCkpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRSZW5kZXJUaXRsZShjbGlja0Jvb2ttYXJrKSkpLFxuICAgICAgICBoYXNTdWJJdGVtcyAmJiBleHBhbmRlZCAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrTGlzdCwgeyBib29rbWFya3M6IGJvb2ttYXJrLml0ZW1zLCBkZXB0aDogZGVwdGggKyAxLCBkb2M6IGRvYywgaXNCb29rbWFya0V4cGFuZGVkOiBpc0Jvb2ttYXJrRXhwYW5kZWQsIGlzUm9vdDogZmFsc2UsIHJlbmRlckJvb2ttYXJrSXRlbTogcmVuZGVyQm9va21hcmtJdGVtLCBzdG9yZTogc3RvcmUsIG9uSnVtcFRvRGVzdDogb25KdW1wVG9EZXN0IH0pKSkpO1xufTtcblxudmFyIEJvb2ttYXJrTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBib29rbWFya3MgPSBfYS5ib29rbWFya3MsIF9iID0gX2EuZGVwdGgsIGRlcHRoID0gX2IgPT09IHZvaWQgMCA/IDAgOiBfYiwgZG9jID0gX2EuZG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQgPSBfYS5pc0Jvb2ttYXJrRXhwYW5kZWQsIGlzUm9vdCA9IF9hLmlzUm9vdCwgcmVuZGVyQm9va21hcmtJdGVtID0gX2EucmVuZGVyQm9va21hcmtJdGVtLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkp1bXBUb0Rlc3QgPSBfYS5vbkp1bXBUb0Rlc3Q7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJycHYtYm9va21hcmtfX2xpc3RcIiwgcm9sZTogaXNSb290ID8gJ3RyZWUnIDogJ2dyb3VwJywgdGFiSW5kZXg6IC0xIH0sIGJvb2ttYXJrcy5tYXAoZnVuY3Rpb24gKGJvb2ttYXJrLCBpbmRleCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0l0ZW0sIHsgYm9va21hcms6IGJvb2ttYXJrLCBkZXB0aDogZGVwdGgsIGRvYzogZG9jLCBpbmRleDogaW5kZXgsIGlzQm9va21hcmtFeHBhbmRlZDogaXNCb29rbWFya0V4cGFuZGVkLCBrZXk6IGluZGV4LCBudW1iZXJPZlNpYmxpbmdzOiBib29rbWFya3MubGVuZ3RoLCByZW5kZXJCb29rbWFya0l0ZW06IHJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmU6IHN0b3JlLCBvbkp1bXBUb0Rlc3Q6IG9uSnVtcFRvRGVzdCB9KSk7IH0pKSk7XG59O1xuXG52YXIgVG9nZ2xlO1xuKGZ1bmN0aW9uIChUb2dnbGUpIHtcbiAgICBUb2dnbGVbVG9nZ2xlW1wiQ29sbGFwc2VcIl0gPSAwXSA9IFwiQ29sbGFwc2VcIjtcbiAgICBUb2dnbGVbVG9nZ2xlW1wiRXhwYW5kXCJdID0gMV0gPSBcIkV4cGFuZFwiO1xufSkoVG9nZ2xlIHx8IChUb2dnbGUgPSB7fSkpO1xudmFyIEJvb2ttYXJrTGlzdFJvb3QgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYm9va21hcmtzID0gX2EuYm9va21hcmtzLCBkb2MgPSBfYS5kb2MsIGlzQm9va21hcmtFeHBhbmRlZCA9IF9hLmlzQm9va21hcmtFeHBhbmRlZCwgcmVuZGVyQm9va21hcmtJdGVtID0gX2EucmVuZGVyQm9va21hcmtJdGVtLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkp1bXBUb0Rlc3QgPSBfYS5vbkp1bXBUb0Rlc3Q7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2xpbmtBbm5vdGF0aW9ucycpIHx8IHt9KSwgbGlua3MgPSBfYlswXSwgc2V0TGlua3MgPSBfYlsxXTtcbiAgICB2YXIgdXBkYXRlTGlua0Fubm90YXRpb24gPSBmdW5jdGlvbiAoYm9va21hcmssIGxpbmtzKSB7XG4gICAgICAgIHZhciBkZXN0ID0gYm9va21hcmsuZGVzdDtcbiAgICAgICAgaWYgKCFkZXN0IHx8IHR5cGVvZiBkZXN0ICE9PSAnc3RyaW5nJyB8fCAhbGlua3NbZGVzdF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5ub3RhdGlvbkNvbnRhaW5lciA9IGxpbmtzW2Rlc3RdO1xuICAgICAgICBhbm5vdGF0aW9uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhW2RhdGEtYW5ub3RhdGlvbi1saW5rLWRlc3Q9XFxcIlwiLmNvbmNhdChkZXN0LCBcIlxcXCJdXCIpKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGJvb2ttYXJrLnRpdGxlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYm9va21hcmsuaXRlbXMgfHwgIWJvb2ttYXJrLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvb2ttYXJrLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIHVwZGF0ZUxpbmtBbm5vdGF0aW9uKGl0ZW0sIGxpbmtzKTsgfSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlTGlua0Fubm90YXRpb25zQ2hhbmdlZCA9IGZ1bmN0aW9uIChsaW5rcykgeyByZXR1cm4gc2V0TGlua3MobGlua3MpOyB9O1xuICAgIHZhciBqdW1wVG9EZXN0ID0gZnVuY3Rpb24gKGRlc3QpIHtcbiAgICAgICAgY29yZS5nZXREZXN0aW5hdGlvbihkb2MsIGRlc3QpLnRoZW4oZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHBhZ2VJbmRleCA9IHRhcmdldC5wYWdlSW5kZXgsIGJvdHRvbU9mZnNldCA9IHRhcmdldC5ib3R0b21PZmZzZXQsIGxlZnRPZmZzZXQgPSB0YXJnZXQubGVmdE9mZnNldCwgc2NhbGVUbyA9IHRhcmdldC5zY2FsZVRvO1xuICAgICAgICAgICAgb25KdW1wVG9EZXN0KHBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBzY2FsZVRvKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB8fCAhY29udGFpbmVyLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIG1vdmVUb0l0ZW0oZnVuY3Rpb24gKGJvb2ttYXJrRWxlbWVudHMsIGFjdGl2ZUVsZSkgeyByZXR1cm4gYm9va21hcmtFbGVtZW50cy5pbmRleE9mKGFjdGl2ZUVsZSkgKyAxOyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZShUb2dnbGUuQ29sbGFwc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZShUb2dnbGUuRXhwYW5kKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoYm9va21hcmtFbGVtZW50cywgYWN0aXZlRWxlKSB7IHJldHVybiBib29rbWFya0VsZW1lbnRzLmluZGV4T2YoYWN0aXZlRWxlKSAtIDE7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoYm9va21hcmtFbGVtZW50cywgXykgeyByZXR1cm4gYm9va21hcmtFbGVtZW50cy5sZW5ndGggLSAxOyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgY2FzZSAnU3BhY2UnOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjbGlja0Jvb2ttYXJrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbW92ZVRvSXRlbShmdW5jdGlvbiAoXywgX18pIHsgcmV0dXJuIDA7IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgY2xpY2tCb29rbWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb3Nlc3RJdGVtID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbG9zZXN0KCcucnB2LWJvb2ttYXJrX19pdGVtJyk7XG4gICAgICAgIHZhciB0aXRsZUVsZSA9IGNsb3Nlc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5ycHYtYm9va21hcmtfX3RpdGxlJyk7XG4gICAgICAgIGlmICh0aXRsZUVsZSkge1xuICAgICAgICAgICAgdGl0bGVFbGUuY2xpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG1vdmVUb0l0ZW0gPSBmdW5jdGlvbiAoZ2V0SXRlbUluZGV4KSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGJvb2ttYXJrRWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdycHYtYm9va21hcmtfX2l0ZW0nKSk7XG4gICAgICAgIGlmIChib29rbWFya0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVFbGUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB2YXIgdGFyZ2V0SW5kZXggPSBNYXRoLm1pbihib29rbWFya0VsZW1lbnRzLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIGdldEl0ZW1JbmRleChib29rbWFya0VsZW1lbnRzLCBhY3RpdmVFbGUpKSk7XG4gICAgICAgIHZhciB0YXJnZXRFbGUgPSBib29rbWFya0VsZW1lbnRzW3RhcmdldEluZGV4XTtcbiAgICAgICAgYWN0aXZlRWxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgdGFyZ2V0RWxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB0YXJnZXRFbGUuZm9jdXMoKTtcbiAgICB9O1xuICAgIHZhciB0b2dnbGUgPSBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGJvb2ttYXJrRWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdycHYtYm9va21hcmtfX2l0ZW0nKSk7XG4gICAgICAgIGlmIChib29rbWFya0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9zZXN0SXRlbSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdCgnLnJwdi1ib29rbWFya19faXRlbScpO1xuICAgICAgICB2YXIgZXhwYW5lZEF0dHJpYnV0ZSA9IHRvZ2dsZSA9PT0gVG9nZ2xlLkNvbGxhcHNlID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICAgICAgaWYgKGNsb3Nlc3RJdGVtICYmIGNsb3Nlc3RJdGVtLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09IGV4cGFuZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHZhciB0b2dnbGVFbGUgPSBjbG9zZXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcucnB2LWJvb2ttYXJrX190b2dnbGUnKTtcbiAgICAgICAgICAgIGlmICh0b2dnbGVFbGUpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVFbGUuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnbGlua0Fubm90YXRpb25zJywgaGFuZGxlTGlua0Fubm90YXRpb25zQ2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnbGlua0Fubm90YXRpb25zJywgaGFuZGxlTGlua0Fubm90YXRpb25zQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYm9va21hcmtzLmZvckVhY2goZnVuY3Rpb24gKGJvb2ttYXJrKSB7IHJldHVybiB1cGRhdGVMaW5rQW5ub3RhdGlvbihib29rbWFyaywgbGlua3MpOyB9KTtcbiAgICB9LCBbbGlua3NdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9va21hcmtFbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jwdi1ib29rbWFya19faXRlbScpKTtcbiAgICAgICAgaWYgKGJvb2ttYXJrRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYm9va21hcmtFbGVtZW50c1swXS5mb2N1cygpO1xuICAgICAgICAgICAgYm9va21hcmtFbGVtZW50c1swXS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0xpc3QsIHsgYm9va21hcmtzOiBib29rbWFya3MsIGRlcHRoOiAwLCBkb2M6IGRvYywgaXNCb29rbWFya0V4cGFuZGVkOiBpc0Jvb2ttYXJrRXhwYW5kZWQsIGlzUm9vdDogdHJ1ZSwgcmVuZGVyQm9va21hcmtJdGVtOiByZW5kZXJCb29rbWFya0l0ZW0sIHN0b3JlOiBzdG9yZSwgb25KdW1wVG9EZXN0OiBqdW1wVG9EZXN0IH0pKSk7XG59O1xuXG52YXIgQm9va21hcmtMb2FkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQgPSBfYS5pc0Jvb2ttYXJrRXhwYW5kZWQsIHJlbmRlckJvb2ttYXJrSXRlbSA9IF9hLnJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmUgPSBfYS5zdG9yZSwgb25KdW1wVG9EZXN0ID0gX2Eub25KdW1wVG9EZXN0O1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgIH0pLCBib29rbWFya3MgPSBfYlswXSwgc2V0Qm9va21hcmtzID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRCb29rbWFya3Moe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICB9KTtcbiAgICAgICAgZG9jLmdldE91dGxpbmUoKS50aGVuKGZ1bmN0aW9uIChvdXRsaW5lKSB7XG4gICAgICAgICAgICBzZXRCb29rbWFya3Moe1xuICAgICAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBvdXRsaW5lIHx8IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtkb2NdKTtcbiAgICByZXR1cm4gIWJvb2ttYXJrcy5pc0xvYWRlZCA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWJvb2ttYXJrX19sb2FkZXJcIiB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGlubmVyLCBudWxsKSkpIDogYm9va21hcmtzLml0ZW1zLmxlbmd0aCA9PT0gMCA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwiYm9va21hcmtfX2VtcHR5XCIsIGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtYm9va21hcmtfX2VtcHR5JzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtYm9va21hcmtfX2VtcHR5LS1ydGwnOiBpc1J0bCxcbiAgICAgICAgfSkgfSwgbDEwbiAmJiBsMTBuLmJvb2ttYXJrID8gbDEwbi5ib29rbWFyay5ub0Jvb2ttYXJrIDogJ1RoZXJlIGlzIG5vIGJvb2ttYXJrJykpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJib29rbWFya19fY29udGFpbmVyXCIsIGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtYm9va21hcmtfX2NvbnRhaW5lcic6IHRydWUsXG4gICAgICAgICAgICAncnB2LWJvb2ttYXJrX19jb250YWluZXItLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQm9va21hcmtMaXN0Um9vdCwgeyBib29rbWFya3M6IGJvb2ttYXJrcy5pdGVtcywgZG9jOiBkb2MsIGlzQm9va21hcmtFeHBhbmRlZDogaXNCb29rbWFya0V4cGFuZGVkLCByZW5kZXJCb29rbWFya0l0ZW06IHJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmU6IHN0b3JlLCBvbkp1bXBUb0Rlc3Q6IG9uSnVtcFRvRGVzdCB9KSkpO1xufTtcblxudmFyIEJvb2ttYXJrTGlzdFdpdGhTdG9yZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Jvb2ttYXJrRXhwYW5kZWQgPSBfYS5pc0Jvb2ttYXJrRXhwYW5kZWQsIHJlbmRlckJvb2ttYXJrSXRlbSA9IF9hLnJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnZG9jJykpLCBjdXJyZW50RG9jID0gX2JbMF0sIHNldEN1cnJlbnREb2MgPSBfYlsxXTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBzZXRDdXJyZW50RG9jKGRvYyk7XG4gICAgfTtcbiAgICB2YXIganVtcCA9IGZ1bmN0aW9uIChwYWdlSW5kZXgsIGJvdHRvbU9mZnNldCwgbGVmdE9mZnNldCwgc2NhbGVUbykge1xuICAgICAgICB2YXIganVtcFRvRGVzdGluYXRpb24gPSBzdG9yZS5nZXQoJ2p1bXBUb0Rlc3RpbmF0aW9uJyk7XG4gICAgICAgIGlmIChqdW1wVG9EZXN0aW5hdGlvbikge1xuICAgICAgICAgICAganVtcFRvRGVzdGluYXRpb24ocGFnZUluZGV4LCBib3R0b21PZmZzZXQsIGxlZnRPZmZzZXQsIHNjYWxlVG8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gY3VycmVudERvYyA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQm9va21hcmtMb2FkZXIsIHsgZG9jOiBjdXJyZW50RG9jLCBpc0Jvb2ttYXJrRXhwYW5kZWQ6IGlzQm9va21hcmtFeHBhbmRlZCwgcmVuZGVyQm9va21hcmtJdGVtOiByZW5kZXJCb29rbWFya0l0ZW0sIHN0b3JlOiBzdG9yZSwgb25KdW1wVG9EZXN0OiBqdW1wIH0pKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWJvb2ttYXJrX19sb2FkZXJcIiB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGlubmVyLCBudWxsKSkpO1xufTtcblxudmFyIGJvb2ttYXJrUGx1Z2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHtcbiAgICAgICAgICAgIGxpbmtBbm5vdGF0aW9uczoge30sXG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgQm9va21hcmtzRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrTGlzdFdpdGhTdG9yZSwgeyBpc0Jvb2ttYXJrRXhwYW5kZWQ6IHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5pc0Jvb2ttYXJrRXhwYW5kZWQsIHJlbmRlckJvb2ttYXJrSXRlbTogcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlckJvb2ttYXJrSXRlbSwgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgb25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUuYW5ub3RhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmtzID0gZS5hbm5vdGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFubm90YXRpb24pIHsgcmV0dXJuIGFubm90YXRpb24uc3VidHlwZSA9PT0gJ0xpbmsnOyB9KTtcbiAgICAgICAgaWYgKCFsaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlua0Fubm90YXRpb25zID0gc3RvcmUuZ2V0KCdsaW5rQW5ub3RhdGlvbnMnKSB8fCB7fTtcbiAgICAgICAgbGlua3MuZm9yRWFjaChmdW5jdGlvbiAoYW5ub3RhdGlvbikgeyByZXR1cm4gKGxpbmtBbm5vdGF0aW9uc1thbm5vdGF0aW9uLmRlc3RdID0gZS5jb250YWluZXIpOyB9KTtcbiAgICAgICAgc3RvcmUudXBkYXRlKCdsaW5rQW5ub3RhdGlvbnMnLCBsaW5rQW5ub3RhdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wVG9EZXN0aW5hdGlvbicsIHBsdWdpbkZ1bmN0aW9ucy5qdW1wVG9EZXN0aW5hdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgQm9va21hcmtzOiBCb29rbWFya3NEZWNvcmF0b3IsXG4gICAgICAgIG9uQW5ub3RhdGlvbkxheWVyUmVuZGVyOiBvbkFubm90YXRpb25MYXllclJlbmRlcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5Eb3duQXJyb3dJY29uID0gRG93bkFycm93SWNvbjtcbmV4cG9ydHMuUmlnaHRBcnJvd0ljb24gPSBSaWdodEFycm93SWNvbjtcbmV4cG9ydHMuYm9va21hcmtQbHVnaW4gPSBib29rbWFya1BsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/bookmark/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/bookmark/lib/index.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/bookmark.js */ \"./node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSw4SEFBNkM7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2Jvb2ttYXJrL2xpYi9pbmRleC5qcz81OWQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9ib29rbWFyay5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9ib29rbWFyay5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/bookmark/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar attachment = __webpack_require__(/*! @react-pdf-viewer/attachment */ \"./node_modules/@react-pdf-viewer/attachment/lib/index.js\");\nvar bookmark = __webpack_require__(/*! @react-pdf-viewer/bookmark */ \"./node_modules/@react-pdf-viewer/bookmark/lib/index.js\");\nvar thumbnail = __webpack_require__(/*! @react-pdf-viewer/thumbnail */ \"./node_modules/@react-pdf-viewer/thumbnail/lib/index.js\");\nvar toolbar = __webpack_require__(/*! @react-pdf-viewer/toolbar */ \"./node_modules/@react-pdf-viewer/toolbar/lib/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar BookmarkIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\\n            c0.552,0,1,0.448,1,1L11.5,10.5z\\n            M14.5,6.499h6\\n            M14.5,10.499h6\\n            M3.5,14.499h17\\n            M3.5,18.499h16.497\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar FileIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9\" }))); };\n\nvar ThumbnailIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\" }))); };\n\nvar TOOLTIP_OFFSET_LTR = { left: 8, top: 0 };\nvar TOOLTIP_OFFSET_RTL = { left: -8, top: 0 };\nvar Sidebar = function (_a) {\n    var attachmentTabContent = _a.attachmentTabContent, bookmarkTabContent = _a.bookmarkTabContent, store = _a.store, thumbnailTabContent = _a.thumbnailTabContent, tabs = _a.tabs;\n    var containerRef = React__namespace.useRef();\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState(store.get('isCurrentTabOpened') || false), opened = _b[0], setOpened = _b[1];\n    var _c = React__namespace.useState(Math.max(store.get('currentTab') || 0, 0)), currentTab = _c[0], setCurrentTab = _c[1];\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var resizeConstrain = function (size) { return size.firstHalfPercentage >= 20 && size.firstHalfPercentage <= 80; };\n    var defaultTabs = [\n        {\n            content: thumbnailTabContent,\n            icon: React__namespace.createElement(ThumbnailIcon, null),\n            title: l10n && l10n.defaultLayout\n                ? l10n.defaultLayout.thumbnail\n                : 'Thumbnail',\n        },\n        {\n            content: bookmarkTabContent,\n            icon: React__namespace.createElement(BookmarkIcon, null),\n            title: l10n && l10n.defaultLayout ? l10n.defaultLayout.bookmark : 'Bookmark',\n        },\n        {\n            content: attachmentTabContent,\n            icon: React__namespace.createElement(FileIcon, null),\n            title: l10n && l10n.defaultLayout\n                ? l10n.defaultLayout.attachment\n                : 'Attachment',\n        },\n    ];\n    var listTabs = tabs ? tabs(defaultTabs) : defaultTabs;\n    var toggleTab = function (index) {\n        if (currentTab === index) {\n            store.update('isCurrentTabOpened', !store.get('isCurrentTabOpened'));\n            var container = containerRef.current;\n            if (container) {\n                var width = container.style.width;\n                if (width) {\n                    container.style.removeProperty('width');\n                }\n            }\n        }\n        else {\n            store.update('currentTab', index);\n        }\n    };\n    var switchToTab = function (index) {\n        if (index >= 0 && index <= listTabs.length - 1) {\n            store.update('isCurrentTabOpened', true);\n            setCurrentTab(index);\n        }\n    };\n    var handleCurrentTabOpened = function (opened) {\n        setOpened(opened);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('currentTab', switchToTab);\n        store.subscribe('isCurrentTabOpened', handleCurrentTabOpened);\n        return function () {\n            store.unsubscribe('currentTab', switchToTab);\n            store.unsubscribe('isCurrentTabOpened', handleCurrentTabOpened);\n        };\n    }, []);\n    if (listTabs.length === 0) {\n        return React__namespace.createElement(React__namespace.Fragment, null);\n    }\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { \"data-testid\": \"default-layout__sidebar\", className: core.classNames({\n                'rpv-default-layout__sidebar': true,\n                'rpv-default-layout__sidebar--opened': opened,\n                'rpv-default-layout__sidebar--ltr': !isRtl,\n                'rpv-default-layout__sidebar--rtl': isRtl,\n            }), ref: containerRef },\n            React__namespace.createElement(\"div\", { className: \"rpv-default-layout__sidebar-tabs\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-default-layout__sidebar-headers\", role: \"tablist\", \"aria-orientation\": \"vertical\" }, listTabs.map(function (tab, index) { return (React__namespace.createElement(\"div\", { \"aria-controls\": \"rpv-default-layout__sidebar-content\", \"aria-selected\": currentTab === index, key: index, className: \"rpv-default-layout__sidebar-header\", id: \"rpv-default-layout__sidebar-tab-\".concat(index), role: \"tab\" },\n                    React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"default-layout-sidebar-tab-\".concat(index), position: isRtl ? core.Position.LeftCenter : core.Position.RightCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: tab.title, isSelected: currentTab === index, onClick: function () { return toggleTab(index); } }, tab.icon), content: function () { return tab.title; }, offset: isRtl ? TOOLTIP_OFFSET_RTL : TOOLTIP_OFFSET_LTR }))); })),\n                React__namespace.createElement(\"div\", { \"aria-labelledby\": \"rpv-default-layout__sidebar-tab-\".concat(currentTab), id: \"rpv-default-layout__sidebar-content\", className: core.classNames({\n                        'rpv-default-layout__sidebar-content': true,\n                        'rpv-default-layout__sidebar-content--opened': opened,\n                        'rpv-default-layout__sidebar-content--ltr': !isRtl,\n                        'rpv-default-layout__sidebar-content--rtl': isRtl,\n                    }), role: \"tabpanel\", tabIndex: -1 }, listTabs[currentTab].content))),\n        opened && React__namespace.createElement(core.Splitter, { constrain: resizeConstrain })));\n};\n\nvar defaultLayoutPlugin = function (props) {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            isCurrentTabOpened: false,\n            currentTab: 0,\n        });\n    }, []);\n    var attachmentPluginInstance = attachment.attachmentPlugin();\n    var bookmarkPluginInstance = bookmark.bookmarkPlugin();\n    var thumbnailPluginInstance = thumbnail.thumbnailPlugin(props ? props.thumbnailPlugin : {});\n    var toolbarPluginInstance = toolbar.toolbarPlugin(props ? props.toolbarPlugin : {});\n    var Attachments = attachmentPluginInstance.Attachments;\n    var Bookmarks = bookmarkPluginInstance.Bookmarks;\n    var Thumbnails = thumbnailPluginInstance.Thumbnails;\n    var Toolbar = toolbarPluginInstance.Toolbar;\n    var sidebarTabs = props ? props.sidebarTabs : function (defaultTabs) { return defaultTabs; };\n    var plugins = [attachmentPluginInstance, bookmarkPluginInstance, thumbnailPluginInstance, toolbarPluginInstance];\n    return {\n        attachmentPluginInstance: attachmentPluginInstance,\n        bookmarkPluginInstance: bookmarkPluginInstance,\n        thumbnailPluginInstance: thumbnailPluginInstance,\n        toolbarPluginInstance: toolbarPluginInstance,\n        activateTab: function (index) {\n            store.update('currentTab', index);\n        },\n        toggleTab: function (index) {\n            var currentTab = store.get('currentTab');\n            store.update('isCurrentTabOpened', !store.get('isCurrentTabOpened'));\n            if (currentTab !== index) {\n                store.update('currentTab', index);\n            }\n        },\n        install: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.install) {\n                    plugin.install(pluginFunctions);\n                }\n            });\n        },\n        renderPageLayer: function (renderProps) { return (React__namespace.createElement(React__namespace.Fragment, null, plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer(renderProps))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx },\n                React__namespace.createElement(React__namespace.Fragment, null)));\n        }))); },\n        renderViewer: function (renderProps) {\n            var slot = renderProps.slot;\n            plugins.forEach(function (plugin) {\n                if (plugin.renderViewer) {\n                    slot = plugin.renderViewer(__assign(__assign({}, renderProps), { slot: slot }));\n                }\n            });\n            var mergeSubSlot = slot.subSlot && slot.subSlot.attrs\n                ? {\n                    className: slot.subSlot.attrs.className,\n                    'data-testid': slot.subSlot.attrs['data-testid'],\n                    ref: slot.subSlot.attrs.ref,\n                    style: slot.subSlot.attrs.style,\n                }\n                : {};\n            slot.children = (React__namespace.createElement(\"div\", { className: \"rpv-default-layout__container\" },\n                React__namespace.createElement(\"div\", { \"data-testid\": \"default-layout__main\", className: core.classNames({\n                        'rpv-default-layout__main': true,\n                        'rpv-default-layout__main--rtl': renderProps.themeContext.direction === core.TextDirection.RightToLeft,\n                    }) },\n                    React__namespace.createElement(Sidebar, { attachmentTabContent: React__namespace.createElement(Attachments, null), bookmarkTabContent: React__namespace.createElement(Bookmarks, null), store: store, thumbnailTabContent: React__namespace.createElement(Thumbnails, null), tabs: sidebarTabs }),\n                    React__namespace.createElement(\"div\", { className: \"rpv-default-layout__body\", \"data-testid\": \"default-layout__body\" },\n                        React__namespace.createElement(\"div\", { className: \"rpv-default-layout__toolbar\" }, props && props.renderToolbar ? props.renderToolbar(Toolbar) : React__namespace.createElement(Toolbar, null)),\n                        React__namespace.createElement(\"div\", __assign({}, mergeSubSlot), slot.subSlot.children))),\n                slot.children));\n            slot.subSlot.attrs = {};\n            slot.subSlot.children = React__namespace.createElement(React__namespace.Fragment, null);\n            return slot;\n        },\n        uninstall: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginFunctions);\n                }\n            });\n        },\n        onDocumentLoad: function (documentLoadProps) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onDocumentLoad) {\n                    plugin.onDocumentLoad(documentLoadProps);\n                }\n            });\n            if (props && props.setInitialTab) {\n                props.setInitialTab(documentLoadProps.doc).then(function (initialTab) {\n                    store.update('currentTab', initialTab);\n                    store.update('isCurrentTabOpened', true);\n                });\n            }\n        },\n        onAnnotationLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onAnnotationLayerRender) {\n                    plugin.onAnnotationLayerRender(props);\n                }\n            });\n        },\n        onTextLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onTextLayerRender) {\n                    plugin.onTextLayerRender(props);\n                }\n            });\n        },\n        onViewerStateChange: function (viewerState) {\n            var newState = viewerState;\n            plugins.forEach(function (plugin) {\n                if (plugin.onViewerStateChange) {\n                    newState = plugin.onViewerStateChange(newState);\n                }\n            });\n            return newState;\n        },\n    };\n};\n\nvar setInitialTabFromPageMode = function (doc) {\n    return new Promise(function (resolve, _) {\n        doc.getPageMode().then(function (pageMode) {\n            if (!pageMode) {\n                resolve(-1);\n            }\n            else {\n                switch (pageMode) {\n                    case core.PageMode.Attachments:\n                        resolve(2);\n                        break;\n                    case core.PageMode.Bookmarks:\n                        resolve(1);\n                        break;\n                    case core.PageMode.Thumbnails:\n                        resolve(0);\n                        break;\n                    default:\n                        resolve(-1);\n                        break;\n                }\n            }\n        });\n    });\n};\n\nexports.BookmarkIcon = BookmarkIcon;\nexports.FileIcon = FileIcon;\nexports.ThumbnailIcon = ThumbnailIcon;\nexports.defaultLayoutPlugin = defaultLayoutPlugin;\nexports.setInitialTabFromPageMode = setInitialTabFromPageMode;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL2Nqcy9kZWZhdWx0LWxheW91dC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLDhGQUE4QjtBQUN2RCxlQUFlLG1CQUFPLENBQUMsMEZBQTRCO0FBQ25ELGdCQUFnQixtQkFBTyxDQUFDLDRGQUE2QjtBQUNyRCxjQUFjLG1CQUFPLENBQUMsd0ZBQTJCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMscVpBQXFaOztBQUVsYztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2Qyw0VEFBNFQ7O0FBRXpXLGtDQUFrQyxvREFBb0QsVUFBVTtBQUNoRyw2Q0FBNkMsbWRBQW1kOztBQUVoZ0IsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQyxvREFBb0QsK0NBQStDO0FBQ25HLHdEQUF3RCxtR0FBbUcsdUNBQXVDLGdEQUFnRCwrTkFBK047QUFDamQsbUVBQW1FLHNNQUFzTSwrRUFBK0UsNEJBQTRCLG9DQUFvQyxtQkFBbUIsMkRBQTJELE1BQU07QUFDNWUsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1DQUFtQztBQUN4RCxrRUFBa0UsNEJBQTRCO0FBQzlGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSw4RkFBOEY7QUFDOUYsc0ZBQXNGO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULGtEQUFrRDtBQUNsRCx5R0FBeUcsVUFBVSx1R0FBdUcsVUFBVTtBQUNwTztBQUNBLFNBQVMsTUFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGtCQUFrQixZQUFZO0FBQ2pHO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsNENBQTRDO0FBQ2pILHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0EscUJBQXFCLEdBQUc7QUFDeEIsOERBQThELHNQQUFzUDtBQUNwVCw0REFBNEQsOEVBQThFO0FBQzFJLGdFQUFnRSwwQ0FBMEM7QUFDMUcseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBLG9CQUFvQjtBQUNwQixnQkFBZ0I7QUFDaEIscUJBQXFCO0FBQ3JCLDJCQUEyQjtBQUMzQixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9janMvZGVmYXVsdC1sYXlvdXQuanM/NDg0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBhdHRhY2htZW50ID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvYXR0YWNobWVudCcpO1xudmFyIGJvb2ttYXJrID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvYm9va21hcmsnKTtcbnZhciB0aHVtYm5haWwgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwnKTtcbnZhciB0b29sYmFyID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhcicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgQm9va21hcmtJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNSwxLjVoMTFjMC41NTIsMCwxLDAuNDQ4LDEsMXYyMGMwLDAuNTUyLTAuNDQ4LDEtMSwxaC0yMWMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtMjBjMC0wLjU1MiwwLjQ0OC0xLDEtMWgzXFxuICAgICAgICAgICAgTTExLjUsMTAuNWMwLDAuNTUtMC4zLDAuNjYxLTAuNjU5LDAuMjQ4TDgsNy41bC0yLjg0NCwzLjI0NmMtMC4zNjMsMC40MTQtMC42NTksMC4zLTAuNjU5LTAuMjQ3di05YzAtMC41NTIsMC40NDgtMSwxLTFoNVxcbiAgICAgICAgICAgIGMwLjU1MiwwLDEsMC40NDgsMSwxTDExLjUsMTAuNXpcXG4gICAgICAgICAgICBNMTQuNSw2LjQ5OWg2XFxuICAgICAgICAgICAgTTE0LjUsMTAuNDk5aDZcXG4gICAgICAgICAgICBNMy41LDE0LjQ5OWgxN1xcbiAgICAgICAgICAgIE0zLjUsMTguNDk5aDE2LjQ5N1wiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIEZpbGVJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNy42MTgsMTUuMzQ1bDguNjY2LTguNjY2YzAuNzgtMC44MTIsMi4wNzEtMC44MzgsMi44ODMtMC4wNThzMC44MzgsMi4wNzEsMC4wNTgsMi44ODNcXG4gICAgICAgICAgICBjLTAuMDE5LDAuMDItMC4wMzgsMC4wMzktMC4wNTgsMC4wNThMNy40NjEsMjEuMzA1Yy0xLjU5MywxLjU5My00LjE3NSwxLjU5Mi01Ljc2Nywwcy0xLjU5Mi00LjE3NSwwLTUuNzY3YzAsMCwwLDAsMCwwXFxuICAgICAgICAgICAgTDEzLjkyOCwzLjMwNWMyLjE4OS0yLjE5LDUuNzM5LTIuMTksNy45MjktMC4wMDFzMi4xOSw1LjczOSwwLDcuOTI5bDAsMEwxMy4xOTIsMTkuOVwiIH0pKSk7IH07XG5cbnZhciBUaHVtYm5haWxJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSw5LjVjMCwwLjU1Mi0wLjQ0OCwxLTEsMWgtOGMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtOGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDhjMC41NTIsMCwxLDAuNDQ4LDEsMVY5LjV6XFxuICAgICAgICAgICAgTTIzLjUsOS41YzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWOS41elxcbiAgICAgICAgICAgIE0xMC41LDIyLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWMjIuNXpcXG4gICAgICAgICAgICBNMjMuNSwyMi41YzAsMC41NTItMC40NDgsMS0xLDEgaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjIyLjV6XCIgfSkpKTsgfTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUX0xUUiA9IHsgbGVmdDogOCwgdG9wOiAwIH07XG52YXIgVE9PTFRJUF9PRkZTRVRfUlRMID0geyBsZWZ0OiAtOCwgdG9wOiAwIH07XG52YXIgU2lkZWJhciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhdHRhY2htZW50VGFiQ29udGVudCA9IF9hLmF0dGFjaG1lbnRUYWJDb250ZW50LCBib29rbWFya1RhYkNvbnRlbnQgPSBfYS5ib29rbWFya1RhYkNvbnRlbnQsIHN0b3JlID0gX2Euc3RvcmUsIHRodW1ibmFpbFRhYkNvbnRlbnQgPSBfYS50aHVtYm5haWxUYWJDb250ZW50LCB0YWJzID0gX2EudGFicztcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoKTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2lzQ3VycmVudFRhYk9wZW5lZCcpIHx8IGZhbHNlKSwgb3BlbmVkID0gX2JbMF0sIHNldE9wZW5lZCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoTWF0aC5tYXgoc3RvcmUuZ2V0KCdjdXJyZW50VGFiJykgfHwgMCwgMCkpLCBjdXJyZW50VGFiID0gX2NbMF0sIHNldEN1cnJlbnRUYWIgPSBfY1sxXTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIHJlc2l6ZUNvbnN0cmFpbiA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBzaXplLmZpcnN0SGFsZlBlcmNlbnRhZ2UgPj0gMjAgJiYgc2l6ZS5maXJzdEhhbGZQZXJjZW50YWdlIDw9IDgwOyB9O1xuICAgIHZhciBkZWZhdWx0VGFicyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogdGh1bWJuYWlsVGFiQ29udGVudCxcbiAgICAgICAgICAgIGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxJY29uLCBudWxsKSxcbiAgICAgICAgICAgIHRpdGxlOiBsMTBuICYmIGwxMG4uZGVmYXVsdExheW91dFxuICAgICAgICAgICAgICAgID8gbDEwbi5kZWZhdWx0TGF5b3V0LnRodW1ibmFpbFxuICAgICAgICAgICAgICAgIDogJ1RodW1ibmFpbCcsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGJvb2ttYXJrVGFiQ29udGVudCxcbiAgICAgICAgICAgIGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChCb29rbWFya0ljb24sIG51bGwpLFxuICAgICAgICAgICAgdGl0bGU6IGwxMG4gJiYgbDEwbi5kZWZhdWx0TGF5b3V0ID8gbDEwbi5kZWZhdWx0TGF5b3V0LmJvb2ttYXJrIDogJ0Jvb2ttYXJrJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGVudDogYXR0YWNobWVudFRhYkNvbnRlbnQsXG4gICAgICAgICAgICBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRmlsZUljb24sIG51bGwpLFxuICAgICAgICAgICAgdGl0bGU6IGwxMG4gJiYgbDEwbi5kZWZhdWx0TGF5b3V0XG4gICAgICAgICAgICAgICAgPyBsMTBuLmRlZmF1bHRMYXlvdXQuYXR0YWNobWVudFxuICAgICAgICAgICAgICAgIDogJ0F0dGFjaG1lbnQnLFxuICAgICAgICB9LFxuICAgIF07XG4gICAgdmFyIGxpc3RUYWJzID0gdGFicyA/IHRhYnMoZGVmYXVsdFRhYnMpIDogZGVmYXVsdFRhYnM7XG4gICAgdmFyIHRvZ2dsZVRhYiA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnaXNDdXJyZW50VGFiT3BlbmVkJywgIXN0b3JlLmdldCgnaXNDdXJyZW50VGFiT3BlbmVkJykpO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGNvbnRhaW5lci5zdHlsZS53aWR0aDtcbiAgICAgICAgICAgICAgICBpZiAod2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd3aWR0aCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFRhYicsIGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHN3aXRjaFRvVGFiID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IGxpc3RUYWJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnaXNDdXJyZW50VGFiT3BlbmVkJywgdHJ1ZSk7XG4gICAgICAgICAgICBzZXRDdXJyZW50VGFiKGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZUN1cnJlbnRUYWJPcGVuZWQgPSBmdW5jdGlvbiAob3BlbmVkKSB7XG4gICAgICAgIHNldE9wZW5lZChvcGVuZWQpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2N1cnJlbnRUYWInLCBzd2l0Y2hUb1RhYik7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnaXNDdXJyZW50VGFiT3BlbmVkJywgaGFuZGxlQ3VycmVudFRhYk9wZW5lZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnY3VycmVudFRhYicsIHN3aXRjaFRvVGFiKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdpc0N1cnJlbnRUYWJPcGVuZWQnLCBoYW5kbGVDdXJyZW50VGFiT3BlbmVkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgaWYgKGxpc3RUYWJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwiZGVmYXVsdC1sYXlvdXRfX3NpZGViYXJcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXInOiB0cnVlLFxuICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItLW9wZW5lZCc6IG9wZW5lZCxcbiAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgJ3Jwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSwgcmVmOiBjb250YWluZXJSZWYgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItdGFic1wiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJzXCIsIHJvbGU6IFwidGFibGlzdFwiLCBcImFyaWEtb3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiIH0sIGxpc3RUYWJzLm1hcChmdW5jdGlvbiAodGFiLCBpbmRleCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiYXJpYS1jb250cm9sc1wiOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50XCIsIFwiYXJpYS1zZWxlY3RlZFwiOiBjdXJyZW50VGFiID09PSBpbmRleCwga2V5OiBpbmRleCwgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1oZWFkZXJcIiwgaWQ6IFwicnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLXRhYi1cIi5jb25jYXQoaW5kZXgpLCByb2xlOiBcInRhYlwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcImRlZmF1bHQtbGF5b3V0LXNpZGViYXItdGFiLVwiLmNvbmNhdChpbmRleCksIHBvc2l0aW9uOiBpc1J0bCA/IGNvcmUuUG9zaXRpb24uTGVmdENlbnRlciA6IGNvcmUuUG9zaXRpb24uUmlnaHRDZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IHRhYi50aXRsZSwgaXNTZWxlY3RlZDogY3VycmVudFRhYiA9PT0gaW5kZXgsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvZ2dsZVRhYihpbmRleCk7IH0gfSwgdGFiLmljb24pLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0YWIudGl0bGU7IH0sIG9mZnNldDogaXNSdGwgPyBUT09MVElQX09GRlNFVF9SVEwgOiBUT09MVElQX09GRlNFVF9MVFIgfSkpKTsgfSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwicnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLXRhYi1cIi5jb25jYXQoY3VycmVudFRhYiksIGlkOiBcInJwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50XCIsIGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudCc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19zaWRlYmFyLWNvbnRlbnQtLW9wZW5lZCc6IG9wZW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX3NpZGViYXItY29udGVudC0tbHRyJzogIWlzUnRsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jwdi1kZWZhdWx0LWxheW91dF9fc2lkZWJhci1jb250ZW50LS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgfSksIHJvbGU6IFwidGFicGFuZWxcIiwgdGFiSW5kZXg6IC0xIH0sIGxpc3RUYWJzW2N1cnJlbnRUYWJdLmNvbnRlbnQpKSksXG4gICAgICAgIG9wZW5lZCAmJiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGxpdHRlciwgeyBjb25zdHJhaW46IHJlc2l6ZUNvbnN0cmFpbiB9KSkpO1xufTtcblxudmFyIGRlZmF1bHRMYXlvdXRQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICBpc0N1cnJlbnRUYWJPcGVuZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY3VycmVudFRhYjogMCxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UgPSBhdHRhY2htZW50LmF0dGFjaG1lbnRQbHVnaW4oKTtcbiAgICB2YXIgYm9va21hcmtQbHVnaW5JbnN0YW5jZSA9IGJvb2ttYXJrLmJvb2ttYXJrUGx1Z2luKCk7XG4gICAgdmFyIHRodW1ibmFpbFBsdWdpbkluc3RhbmNlID0gdGh1bWJuYWlsLnRodW1ibmFpbFBsdWdpbihwcm9wcyA/IHByb3BzLnRodW1ibmFpbFBsdWdpbiA6IHt9KTtcbiAgICB2YXIgdG9vbGJhclBsdWdpbkluc3RhbmNlID0gdG9vbGJhci50b29sYmFyUGx1Z2luKHByb3BzID8gcHJvcHMudG9vbGJhclBsdWdpbiA6IHt9KTtcbiAgICB2YXIgQXR0YWNobWVudHMgPSBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UuQXR0YWNobWVudHM7XG4gICAgdmFyIEJvb2ttYXJrcyA9IGJvb2ttYXJrUGx1Z2luSW5zdGFuY2UuQm9va21hcmtzO1xuICAgIHZhciBUaHVtYm5haWxzID0gdGh1bWJuYWlsUGx1Z2luSW5zdGFuY2UuVGh1bWJuYWlscztcbiAgICB2YXIgVG9vbGJhciA9IHRvb2xiYXJQbHVnaW5JbnN0YW5jZS5Ub29sYmFyO1xuICAgIHZhciBzaWRlYmFyVGFicyA9IHByb3BzID8gcHJvcHMuc2lkZWJhclRhYnMgOiBmdW5jdGlvbiAoZGVmYXVsdFRhYnMpIHsgcmV0dXJuIGRlZmF1bHRUYWJzOyB9O1xuICAgIHZhciBwbHVnaW5zID0gW2F0dGFjaG1lbnRQbHVnaW5JbnN0YW5jZSwgYm9va21hcmtQbHVnaW5JbnN0YW5jZSwgdGh1bWJuYWlsUGx1Z2luSW5zdGFuY2UsIHRvb2xiYXJQbHVnaW5JbnN0YW5jZV07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXR0YWNobWVudFBsdWdpbkluc3RhbmNlOiBhdHRhY2htZW50UGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGJvb2ttYXJrUGx1Z2luSW5zdGFuY2U6IGJvb2ttYXJrUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHRodW1ibmFpbFBsdWdpbkluc3RhbmNlOiB0aHVtYm5haWxQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgdG9vbGJhclBsdWdpbkluc3RhbmNlOiB0b29sYmFyUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGFjdGl2YXRlVGFiOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFRhYicsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlVGFiOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGFiID0gc3RvcmUuZ2V0KCdjdXJyZW50VGFiJyk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2lzQ3VycmVudFRhYk9wZW5lZCcsICFzdG9yZS5nZXQoJ2lzQ3VycmVudFRhYk9wZW5lZCcpKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGFiICE9PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnY3VycmVudFRhYicsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwocGx1Z2luRnVuY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyUGFnZUxheWVyOiBmdW5jdGlvbiAocmVuZGVyUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgcGx1Z2lucy5tYXAoZnVuY3Rpb24gKHBsdWdpbiwgaWR4KSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luLnJlbmRlclBhZ2VMYXllciA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgeyBrZXk6IGlkeCB9LCBwbHVnaW4ucmVuZGVyUGFnZUxheWVyKHJlbmRlclByb3BzKSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCB7IGtleTogaWR4IH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKSk7XG4gICAgICAgIH0pKSk7IH0sXG4gICAgICAgIHJlbmRlclZpZXdlcjogZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7XG4gICAgICAgICAgICB2YXIgc2xvdCA9IHJlbmRlclByb3BzLnNsb3Q7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ucmVuZGVyVmlld2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsb3QgPSBwbHVnaW4ucmVuZGVyVmlld2VyKF9fYXNzaWduKF9fYXNzaWduKHt9LCByZW5kZXJQcm9wcyksIHsgc2xvdDogc2xvdCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWVyZ2VTdWJTbG90ID0gc2xvdC5zdWJTbG90ICYmIHNsb3Quc3ViU2xvdC5hdHRyc1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNsb3Quc3ViU2xvdC5hdHRycy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXRlc3RpZCc6IHNsb3Quc3ViU2xvdC5hdHRyc1snZGF0YS10ZXN0aWQnXSxcbiAgICAgICAgICAgICAgICAgICAgcmVmOiBzbG90LnN1YlNsb3QuYXR0cnMucmVmLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc2xvdC5zdWJTbG90LmF0dHJzLnN0eWxlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgc2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWRlZmF1bHQtbGF5b3V0X19jb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJkZWZhdWx0LWxheW91dF9fbWFpblwiLCBjbGFzc05hbWU6IGNvcmUuY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LWRlZmF1bHQtbGF5b3V0X19tYWluJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdycHYtZGVmYXVsdC1sYXlvdXRfX21haW4tLXJ0bCc6IHJlbmRlclByb3BzLnRoZW1lQ29udGV4dC5kaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNpZGViYXIsIHsgYXR0YWNobWVudFRhYkNvbnRlbnQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChBdHRhY2htZW50cywgbnVsbCksIGJvb2ttYXJrVGFiQ29udGVudDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEJvb2ttYXJrcywgbnVsbCksIHN0b3JlOiBzdG9yZSwgdGh1bWJuYWlsVGFiQ29udGVudDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHMsIG51bGwpLCB0YWJzOiBzaWRlYmFyVGFicyB9KSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fYm9keVwiLCBcImRhdGEtdGVzdGlkXCI6IFwiZGVmYXVsdC1sYXlvdXRfX2JvZHlcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1kZWZhdWx0LWxheW91dF9fdG9vbGJhclwiIH0sIHByb3BzICYmIHByb3BzLnJlbmRlclRvb2xiYXIgPyBwcm9wcy5yZW5kZXJUb29sYmFyKFRvb2xiYXIpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIG51bGwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgbWVyZ2VTdWJTbG90KSwgc2xvdC5zdWJTbG90LmNoaWxkcmVuKSkpLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKTtcbiAgICAgICAgICAgIHNsb3Quc3ViU2xvdC5hdHRycyA9IHt9O1xuICAgICAgICAgICAgc2xvdC5zdWJTbG90LmNoaWxkcmVuID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHVuaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLnVuaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4udW5pbnN0YWxsKHBsdWdpbkZ1bmN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAoZG9jdW1lbnRMb2FkUHJvcHMpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkRvY3VtZW50TG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ub25Eb2N1bWVudExvYWQoZG9jdW1lbnRMb2FkUHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLnNldEluaXRpYWxUYWIpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5zZXRJbml0aWFsVGFiKGRvY3VtZW50TG9hZFByb3BzLmRvYykudGhlbihmdW5jdGlvbiAoaW5pdGlhbFRhYikge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2N1cnJlbnRUYWInLCBpbml0aWFsVGFiKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdpc0N1cnJlbnRUYWJPcGVuZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXI6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uQW5ub3RhdGlvbkxheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vbkFubm90YXRpb25MYXllclJlbmRlcihwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVGV4dExheWVyUmVuZGVyOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vblRleHRMYXllclJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ub25UZXh0TGF5ZXJSZW5kZXIocHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHZpZXdlclN0YXRlO1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVmlld2VyU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBwbHVnaW4ub25WaWV3ZXJTdGF0ZUNoYW5nZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbnZhciBzZXRJbml0aWFsVGFiRnJvbVBhZ2VNb2RlID0gZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgXykge1xuICAgICAgICBkb2MuZ2V0UGFnZU1vZGUoKS50aGVuKGZ1bmN0aW9uIChwYWdlTW9kZSkge1xuICAgICAgICAgICAgaWYgKCFwYWdlTW9kZSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwYWdlTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGNvcmUuUGFnZU1vZGUuQXR0YWNobWVudHM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgY29yZS5QYWdlTW9kZS5Cb29rbWFya3M6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgY29yZS5QYWdlTW9kZS5UaHVtYm5haWxzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuZXhwb3J0cy5Cb29rbWFya0ljb24gPSBCb29rbWFya0ljb247XG5leHBvcnRzLkZpbGVJY29uID0gRmlsZUljb247XG5leHBvcnRzLlRodW1ibmFpbEljb24gPSBUaHVtYm5haWxJY29uO1xuZXhwb3J0cy5kZWZhdWx0TGF5b3V0UGx1Z2luID0gZGVmYXVsdExheW91dFBsdWdpbjtcbmV4cG9ydHMuc2V0SW5pdGlhbFRhYkZyb21QYWdlTW9kZSA9IHNldEluaXRpYWxUYWJGcm9tUGFnZU1vZGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/default-layout/lib/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/default-layout/lib/index.js ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/default-layout.js */ \"./node_modules/@react-pdf-viewer/default-layout/lib/cjs/default-layout.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZGVmYXVsdC1sYXlvdXQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxnSkFBbUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2RlZmF1bHQtbGF5b3V0L2xpYi9pbmRleC5qcz80NDdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9kZWZhdWx0LWxheW91dC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9kZWZhdWx0LWxheW91dC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/default-layout/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar ExitFullScreenIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5 23.499L11.5 14.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.5 18.499L11.5 14.499 15.5 18.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.5 1.499L11.5 10.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M7.5 6.499L11.5 10.499 15.5 6.499\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5 12.499L1.5 12.499\" }))); };\n\nvar FullScreenIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.5 12L23.5 12\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.5 1L11.5 23\" }),\n    React__namespace.createElement(\"path\", { d: \"M8.5 4L11.5 1 14.5 4\" }),\n    React__namespace.createElement(\"path\", { d: \"M20.5 9L23.5 12 20.5 15\" }),\n    React__namespace.createElement(\"path\", { d: \"M3.5 15L0.5 12 3.5 9\" }),\n    React__namespace.createElement(\"path\", { d: \"M14.5 20L11.5 23 8.5 20\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar Api;\n(function (Api) {\n    Api[Api[\"ExitFullScreen\"] = 0] = \"ExitFullScreen\";\n    Api[Api[\"FullScreenChange\"] = 1] = \"FullScreenChange\";\n    Api[Api[\"FullScreenElement\"] = 2] = \"FullScreenElement\";\n    Api[Api[\"FullScreenEnabled\"] = 3] = \"FullScreenEnabled\";\n    Api[Api[\"RequestFullScreen\"] = 4] = \"RequestFullScreen\";\n})(Api || (Api = {}));\nvar defaultVendor = {\n    ExitFullScreen: 'exitFullscreen',\n    FullScreenChange: 'fullscreenchange',\n    FullScreenElement: 'fullscreenElement',\n    FullScreenEnabled: 'fullscreenEnabled',\n    RequestFullScreen: 'requestFullscreen',\n};\nvar webkitVendor = {\n    ExitFullScreen: 'webkitExitFullscreen',\n    FullScreenChange: 'webkitfullscreenchange',\n    FullScreenElement: 'webkitFullscreenElement',\n    FullScreenEnabled: 'webkitFullscreenEnabled',\n    RequestFullScreen: 'webkitRequestFullscreen',\n};\nvar msVendor = {\n    ExitFullScreen: 'msExitFullscreen',\n    FullScreenChange: 'msFullscreenChange',\n    FullScreenElement: 'msFullscreenElement',\n    FullScreenEnabled: 'msFullscreenEnabled',\n    RequestFullScreen: 'msRequestFullscreen',\n};\nvar isBrowser = typeof window !== 'undefined';\nvar vendor = isBrowser\n    ? (Api.FullScreenEnabled in document && defaultVendor) ||\n        (webkitVendor.FullScreenEnabled in document && webkitVendor) ||\n        (msVendor.FullScreenEnabled in document && msVendor) ||\n        defaultVendor\n    : defaultVendor;\nvar isFullScreenEnabled = function () {\n    return isBrowser && vendor.FullScreenEnabled in document && document[vendor.FullScreenEnabled] === true;\n};\nvar addFullScreenChangeListener = function (handler) {\n    if (isBrowser) {\n        document.addEventListener(vendor.FullScreenChange, handler);\n    }\n};\nvar exitFullScreenMode = function (element) {\n    return isBrowser\n        ?\n            element[vendor.ExitFullScreen]()\n        : Promise.resolve({});\n};\nvar getFullScreenElement = function () {\n    return isBrowser ? document[vendor.FullScreenElement] : null;\n};\nvar requestFullScreen = function (element) {\n    if (isBrowser) {\n        element[vendor.RequestFullScreen]();\n    }\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar EnterFullScreenButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.fullScreen ? l10n.fullScreen.enterFullScreen : 'Full screen';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+Ctrl+F' : 'F11') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"full-screen-enter\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, isDisabled: !isFullScreenEnabled(), testId: \"full-screen__enter-button\", onClick: onClick },\n            React__namespace.createElement(FullScreenIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ExitFullScreenButtonWithTooltip = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var exitFullScreenLabel = l10n && l10n.fullScreen ? l10n.fullScreen.exitFullScreen : 'Exit full screen';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"full-screen-exit\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: \"Esc\", ariaLabel: exitFullScreenLabel, testId: \"full-screen__exit-button-with-tooltip\", onClick: onClick },\n            React__namespace.createElement(ExitFullScreenIcon, null)), content: function () { return exitFullScreenLabel; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar useEnterFullScreen = function (getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen) {\n    var _a = React__namespace.useState(false), isFullScreen = _a[0], setFullScreen = _a[1];\n    var pagesRef = React__namespace.useRef(store.get('getPagesContainer') ? store.get('getPagesContainer')() : null);\n    var closeOtherFullScreen = function () {\n        var pagesEle = pagesRef.current;\n        if (!pagesEle) {\n            return Promise.resolve();\n        }\n        var ele = getFullScreenElement();\n        return ele && ele !== getFullScreenTarget(pagesEle) ? exitFullScreenMode(ele) : Promise.resolve();\n    };\n    var enterFullScreen = function () {\n        if (!isFullScreenEnabled()) {\n            return;\n        }\n        var pagesEle = pagesRef.current;\n        if (!pagesEle) {\n            return;\n        }\n        closeOtherFullScreen().then(function () {\n            requestFullScreen(getFullScreenTarget(pagesEle));\n        });\n    };\n    var onFullScreenChange = function () {\n        var ele = getFullScreenElement();\n        var pagesEle = pagesRef.current;\n        var isFullScreenMode = ele === getFullScreenTarget(pagesEle);\n        store.update('isFullScreen', isFullScreenMode);\n        isFullScreenMode\n            ? pagesEle.classList.add('rpv-full-screen__pages')\n            : pagesEle.classList.remove('rpv-full-screen__pages');\n        var zoom = store.get('zoom');\n        if (zoom) {\n            isFullScreenMode ? onEnterFullScreen(zoom) : onExitFullScreen(zoom);\n        }\n    };\n    var handlePagesContainer = function (getPagesContainer) {\n        pagesRef.current = getPagesContainer();\n        addFullScreenChangeListener(onFullScreenChange);\n    };\n    var handleFullScreen = function (fullScreen) {\n        setFullScreen(fullScreen);\n    };\n    var exitFullScreen = function () {\n        setFullScreen(false);\n        var getPagesContainer = store.get('getPagesContainer');\n        if (!getPagesContainer) {\n            return;\n        }\n        var pagesEle = getPagesContainer();\n        if (!pagesEle) {\n            return;\n        }\n        var ele = getFullScreenElement();\n        if (ele && ele === getFullScreenTarget(pagesEle)) {\n            exitFullScreenMode(document);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('isFullScreen', handleFullScreen);\n        store.subscribe('getPagesContainer', handlePagesContainer);\n        return function () {\n            store.unsubscribe('getPagesContainer', handlePagesContainer);\n            store.unsubscribe('isFullScreen', handleFullScreen);\n        };\n    }, []);\n    return {\n        enterFullScreen: enterFullScreen,\n        exitFullScreen: exitFullScreen,\n        isFullScreen: isFullScreen,\n    };\n};\n\nvar EnterFullScreen = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var _b = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen), enterFullScreen = _b.enterFullScreen, exitFullScreen = _b.exitFullScreen, isFullScreen = _b.isFullScreen;\n    var defaultChildren = function (props) {\n        return isFullScreen ? (React__namespace.createElement(ExitFullScreenButtonWithTooltip, { onClick: props.onClick })) : (React__namespace.createElement(EnterFullScreenButton, { enableShortcuts: enableShortcuts, onClick: props.onClick }));\n    };\n    var render = children || defaultChildren;\n    return render({\n        onClick: isFullScreen ? exitFullScreen : enterFullScreen,\n    });\n};\n\nvar EnterFullScreenMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.fullScreen ? l10n.fullScreen.enterFullScreen : 'Full screen';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(FullScreenIcon, null), isDisabled: !isFullScreenEnabled(), testId: \"full-screen__enter-menu\", onClick: onClick }, label));\n};\n\nvar ExitFullScreenButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var exitFullScreenLabel = l10n && l10n.fullScreen ? l10n.fullScreen.exitFullScreen : 'Exit full screen';\n    return (React__namespace.createElement(\"div\", { className: core.classNames({\n            'rpv-full-screen__exit-button': true,\n            'rpv-full-screen__exit-button--ltr': !isRtl,\n            'rpv-full-screen__exit-button--rtl': isRtl,\n        }) },\n        React__namespace.createElement(core.MinimalButton, { ariaLabel: exitFullScreenLabel, testId: \"full-screen__exit-button\", onClick: onClick },\n            React__namespace.createElement(ExitFullScreenIcon, null))));\n};\n\nvar ExitFullScreen = function (_a) {\n    var children = _a.children, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var _b = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen), enterFullScreen = _b.enterFullScreen, exitFullScreen = _b.exitFullScreen, isFullScreen = _b.isFullScreen;\n    var defaultChildren = function (props) { return React__namespace.createElement(ExitFullScreenButton, { onClick: props.onClick }); };\n    var render = children || defaultChildren;\n    return (isFullScreen &&\n        render({\n            onClick: isFullScreen ? exitFullScreen : enterFullScreen,\n        }));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, getFullScreenTarget = _a.getFullScreenTarget, store = _a.store, onEnterFullScreen = _a.onEnterFullScreen, onExitFullScreen = _a.onExitFullScreen;\n    var enterFullScreen = useEnterFullScreen(getFullScreenTarget, store, onEnterFullScreen, onExitFullScreen).enterFullScreen;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey) {\n            return;\n        }\n        var areShortcutsPressed = core.isMac() ? e.metaKey && e.ctrlKey && e.key === 'f' : e.key === 'F11';\n        if (!areShortcutsPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        enterFullScreen();\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar fullScreenPlugin = function (props) {\n    var defaultFullScreenTarget = function (ele) { return ele; };\n    var getFullScreenTarget = (props === null || props === void 0 ? void 0 : props.getFullScreenTarget) || defaultFullScreenTarget;\n    var fullScreenPluginProps = React__namespace.useMemo(function () {\n        return Object.assign({}, { enableShortcuts: true, onEnterFullScreen: function () { }, onExitFullScreen: function () { } }, props);\n    }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var EnterFullScreenDecorator = function (props) { return (React__namespace.createElement(EnterFullScreen, __assign({}, props, { enableShortcuts: fullScreenPluginProps.enableShortcuts, getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen }))); };\n    var EnterFullScreenButtonDecorator = function () { return (React__namespace.createElement(EnterFullScreenDecorator, null, function (renderProps) { return (React__namespace.createElement(EnterFullScreenButton, __assign({ enableShortcuts: fullScreenPluginProps.enableShortcuts }, renderProps))); })); };\n    var EnterFullScreenMenuItemDecorator = function (props) { return (React__namespace.createElement(EnterFullScreenDecorator, null, function (p) { return (React__namespace.createElement(EnterFullScreenMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ExitFullScreenDecorator = function () { return (React__namespace.createElement(ExitFullScreen, { getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen }, props === null || props === void 0 ? void 0 : props.renderExitFullScreenButton)); };\n    var renderViewer = function (props) {\n        var currentSlot = props.slot;\n        if (currentSlot.subSlot) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                fullScreenPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, getFullScreenTarget: getFullScreenTarget, store: store, onEnterFullScreen: fullScreenPluginProps.onEnterFullScreen, onExitFullScreen: fullScreenPluginProps.onExitFullScreen })),\n                React__namespace.createElement(ExitFullScreenDecorator, null),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n            store.update('zoom', pluginFunctions.zoom);\n        },\n        renderViewer: renderViewer,\n        EnterFullScreen: EnterFullScreenDecorator,\n        EnterFullScreenButton: EnterFullScreenButtonDecorator,\n        EnterFullScreenMenuItem: EnterFullScreenMenuItemDecorator,\n    };\n};\n\nexports.ExitFullScreenIcon = ExitFullScreenIcon;\nexports.FullScreenIcon = FullScreenIcon;\nexports.fullScreenPlugin = fullScreenPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2Nqcy9mdWxsLXNjcmVlbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHVDQUF1QyxvREFBb0QsVUFBVTtBQUNyRyw2Q0FBNkMsK0JBQStCO0FBQzVFLDZDQUE2QywwQ0FBMEM7QUFDdkYsNkNBQTZDLDhCQUE4QjtBQUMzRSw2Q0FBNkMsd0NBQXdDO0FBQ3JGLDZDQUE2Qyw4QkFBOEI7O0FBRTNFLG1DQUFtQyxvREFBb0QsVUFBVTtBQUNqRyw2Q0FBNkMsc0JBQXNCO0FBQ25FLDZDQUE2QyxzQkFBc0I7QUFDbkUsNkNBQTZDLDJCQUEyQjtBQUN4RSw2Q0FBNkMsOEJBQThCO0FBQzNFLDZDQUE2QywyQkFBMkI7QUFDeEUsNkNBQTZDLDhCQUE4Qjs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQkFBa0I7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDRJQUE0SSxpSkFBaUo7QUFDeFYsMEZBQTBGLGVBQWUsNEJBQTRCO0FBQ3JJOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwySUFBMkksNEhBQTRIO0FBQ2xVLDhGQUE4Riw2QkFBNkIsMEJBQTBCO0FBQ3JKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsd0JBQXdCLDhEQUE4RCwwREFBMEQ7QUFDalA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQscUpBQXFKO0FBQ2pOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUc7QUFDWiw2REFBNkQsc0ZBQXNGO0FBQ25KO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDhEQUE4RCx3QkFBd0I7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBLCtCQUErQixJQUFJLHlEQUF5RCxxQ0FBcUM7QUFDakksS0FBSztBQUNMLHVEQUF1RCwwQkFBMEIsSUFBSTtBQUNyRixzREFBc0QsbUVBQW1FLFdBQVcsc09BQXNPO0FBQzFXLHVEQUF1RCxnR0FBZ0cseUVBQXlFLHdEQUF3RCxtQkFBbUI7QUFDM1MsOERBQThELHNGQUFzRixrRUFBa0U7QUFDdE47QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixnREFBZ0QseURBQXlELDhLQUE4SztBQUN2UjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RyxnTkFBZ047QUFDNVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUIsc0JBQXNCO0FBQ3RCLHdCQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2Nqcy9mdWxsLXNjcmVlbi5qcz9kODNhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgRXhpdEZ1bGxTY3JlZW5JY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNSAyMy40OTlMMTEuNSAxNC40OTlcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNy41IDE4LjQ5OUwxMS41IDE0LjQ5OSAxNS41IDE4LjQ5OVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDEuNDk5TDExLjUgMTAuNDk5XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTcuNSA2LjQ5OUwxMS41IDEwLjQ5OSAxNS41IDYuNDk5XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjUgMTIuNDk5TDEuNSAxMi40OTlcIiB9KSkpOyB9O1xuXG52YXIgRnVsbFNjcmVlbkljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjUgMTJMMjMuNSAxMlwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMS41IDFMMTEuNSAyM1wiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk04LjUgNEwxMS41IDEgMTQuNSA0XCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjUgOUwyMy41IDEyIDIwLjUgMTVcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMy41IDE1TDAuNSAxMiAzLjUgOVwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNC41IDIwTDExLjUgMjMgOC41IDIwXCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgQXBpO1xuKGZ1bmN0aW9uIChBcGkpIHtcbiAgICBBcGlbQXBpW1wiRXhpdEZ1bGxTY3JlZW5cIl0gPSAwXSA9IFwiRXhpdEZ1bGxTY3JlZW5cIjtcbiAgICBBcGlbQXBpW1wiRnVsbFNjcmVlbkNoYW5nZVwiXSA9IDFdID0gXCJGdWxsU2NyZWVuQ2hhbmdlXCI7XG4gICAgQXBpW0FwaVtcIkZ1bGxTY3JlZW5FbGVtZW50XCJdID0gMl0gPSBcIkZ1bGxTY3JlZW5FbGVtZW50XCI7XG4gICAgQXBpW0FwaVtcIkZ1bGxTY3JlZW5FbmFibGVkXCJdID0gM10gPSBcIkZ1bGxTY3JlZW5FbmFibGVkXCI7XG4gICAgQXBpW0FwaVtcIlJlcXVlc3RGdWxsU2NyZWVuXCJdID0gNF0gPSBcIlJlcXVlc3RGdWxsU2NyZWVuXCI7XG59KShBcGkgfHwgKEFwaSA9IHt9KSk7XG52YXIgZGVmYXVsdFZlbmRvciA9IHtcbiAgICBFeGl0RnVsbFNjcmVlbjogJ2V4aXRGdWxsc2NyZWVuJyxcbiAgICBGdWxsU2NyZWVuQ2hhbmdlOiAnZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICdmdWxsc2NyZWVuRWxlbWVudCcsXG4gICAgRnVsbFNjcmVlbkVuYWJsZWQ6ICdmdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgUmVxdWVzdEZ1bGxTY3JlZW46ICdyZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIHdlYmtpdFZlbmRvciA9IHtcbiAgICBFeGl0RnVsbFNjcmVlbjogJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcbiAgICBGdWxsU2NyZWVuQ2hhbmdlOiAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICd3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCcsXG4gICAgRnVsbFNjcmVlbkVuYWJsZWQ6ICd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCcsXG4gICAgUmVxdWVzdEZ1bGxTY3JlZW46ICd3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIG1zVmVuZG9yID0ge1xuICAgIEV4aXRGdWxsU2NyZWVuOiAnbXNFeGl0RnVsbHNjcmVlbicsXG4gICAgRnVsbFNjcmVlbkNoYW5nZTogJ21zRnVsbHNjcmVlbkNoYW5nZScsXG4gICAgRnVsbFNjcmVlbkVsZW1lbnQ6ICdtc0Z1bGxzY3JlZW5FbGVtZW50JyxcbiAgICBGdWxsU2NyZWVuRW5hYmxlZDogJ21zRnVsbHNjcmVlbkVuYWJsZWQnLFxuICAgIFJlcXVlc3RGdWxsU2NyZWVuOiAnbXNSZXF1ZXN0RnVsbHNjcmVlbicsXG59O1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xudmFyIHZlbmRvciA9IGlzQnJvd3NlclxuICAgID8gKEFwaS5GdWxsU2NyZWVuRW5hYmxlZCBpbiBkb2N1bWVudCAmJiBkZWZhdWx0VmVuZG9yKSB8fFxuICAgICAgICAod2Via2l0VmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkIGluIGRvY3VtZW50ICYmIHdlYmtpdFZlbmRvcikgfHxcbiAgICAgICAgKG1zVmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkIGluIGRvY3VtZW50ICYmIG1zVmVuZG9yKSB8fFxuICAgICAgICBkZWZhdWx0VmVuZG9yXG4gICAgOiBkZWZhdWx0VmVuZG9yO1xudmFyIGlzRnVsbFNjcmVlbkVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzQnJvd3NlciAmJiB2ZW5kb3IuRnVsbFNjcmVlbkVuYWJsZWQgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnRbdmVuZG9yLkZ1bGxTY3JlZW5FbmFibGVkXSA9PT0gdHJ1ZTtcbn07XG52YXIgYWRkRnVsbFNjcmVlbkNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodmVuZG9yLkZ1bGxTY3JlZW5DaGFuZ2UsIGhhbmRsZXIpO1xuICAgIH1cbn07XG52YXIgZXhpdEZ1bGxTY3JlZW5Nb2RlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gaXNCcm93c2VyXG4gICAgICAgID9cbiAgICAgICAgICAgIGVsZW1lbnRbdmVuZG9yLkV4aXRGdWxsU2NyZWVuXSgpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHt9KTtcbn07XG52YXIgZ2V0RnVsbFNjcmVlbkVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzQnJvd3NlciA/IGRvY3VtZW50W3ZlbmRvci5GdWxsU2NyZWVuRWxlbWVudF0gOiBudWxsO1xufTtcbnZhciByZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICBlbGVtZW50W3ZlbmRvci5SZXF1ZXN0RnVsbFNjcmVlbl0oKTtcbiAgICB9XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQkMSA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgRW50ZXJGdWxsU2NyZWVuQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGVuYWJsZVNob3J0Y3V0cyA9IF9hLmVuYWJsZVNob3J0Y3V0cywgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmVudGVyRnVsbFNjcmVlbiA6ICdGdWxsIHNjcmVlbic7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErQ3RybCtGJyA6ICdGMTEnKSA6ICcnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiZnVsbC1zY3JlZW4tZW50ZXJcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUtleVNob3J0Y3V0czogYXJpYUtleVNob3J0Y3V0cywgYXJpYUxhYmVsOiBsYWJlbCwgaXNEaXNhYmxlZDogIWlzRnVsbFNjcmVlbkVuYWJsZWQoKSwgdGVzdElkOiBcImZ1bGwtc2NyZWVuX19lbnRlci1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEZ1bGxTY3JlZW5JY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUJDEgfSkpO1xufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBFeGl0RnVsbFNjcmVlbkJ1dHRvbldpdGhUb29sdGlwID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZXhpdEZ1bGxTY3JlZW5MYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmV4aXRGdWxsU2NyZWVuIDogJ0V4aXQgZnVsbCBzY3JlZW4nO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiZnVsbC1zY3JlZW4tZXhpdFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhS2V5U2hvcnRjdXRzOiBcIkVzY1wiLCBhcmlhTGFiZWw6IGV4aXRGdWxsU2NyZWVuTGFiZWwsIHRlc3RJZDogXCJmdWxsLXNjcmVlbl9fZXhpdC1idXR0b24td2l0aC10b29sdGlwXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhpdEZ1bGxTY3JlZW5MYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgdXNlRW50ZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKGdldEZ1bGxTY3JlZW5UYXJnZXQsIHN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbikge1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpLCBpc0Z1bGxTY3JlZW4gPSBfYVswXSwgc2V0RnVsbFNjcmVlbiA9IF9hWzFdO1xuICAgIHZhciBwYWdlc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHN0b3JlLmdldCgnZ2V0UGFnZXNDb250YWluZXInKSA/IHN0b3JlLmdldCgnZ2V0UGFnZXNDb250YWluZXInKSgpIDogbnVsbCk7XG4gICAgdmFyIGNsb3NlT3RoZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFnZXNFbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXBhZ2VzRWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZSA9IGdldEZ1bGxTY3JlZW5FbGVtZW50KCk7XG4gICAgICAgIHJldHVybiBlbGUgJiYgZWxlICE9PSBnZXRGdWxsU2NyZWVuVGFyZ2V0KHBhZ2VzRWxlKSA/IGV4aXRGdWxsU2NyZWVuTW9kZShlbGUpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgICB2YXIgZW50ZXJGdWxsU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzRnVsbFNjcmVlbkVuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYWdlc0VsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghcGFnZXNFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZU90aGVyRnVsbFNjcmVlbigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxdWVzdEZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldChwYWdlc0VsZSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBvbkZ1bGxTY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGUgPSBnZXRGdWxsU2NyZWVuRWxlbWVudCgpO1xuICAgICAgICB2YXIgcGFnZXNFbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICB2YXIgaXNGdWxsU2NyZWVuTW9kZSA9IGVsZSA9PT0gZ2V0RnVsbFNjcmVlblRhcmdldChwYWdlc0VsZSk7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgnaXNGdWxsU2NyZWVuJywgaXNGdWxsU2NyZWVuTW9kZSk7XG4gICAgICAgIGlzRnVsbFNjcmVlbk1vZGVcbiAgICAgICAgICAgID8gcGFnZXNFbGUuY2xhc3NMaXN0LmFkZCgncnB2LWZ1bGwtc2NyZWVuX19wYWdlcycpXG4gICAgICAgICAgICA6IHBhZ2VzRWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1mdWxsLXNjcmVlbl9fcGFnZXMnKTtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbk1vZGUgPyBvbkVudGVyRnVsbFNjcmVlbih6b29tKSA6IG9uRXhpdEZ1bGxTY3JlZW4oem9vbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlc0NvbnRhaW5lciA9IGZ1bmN0aW9uIChnZXRQYWdlc0NvbnRhaW5lcikge1xuICAgICAgICBwYWdlc1JlZi5jdXJyZW50ID0gZ2V0UGFnZXNDb250YWluZXIoKTtcbiAgICAgICAgYWRkRnVsbFNjcmVlbkNoYW5nZUxpc3RlbmVyKG9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlRnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChmdWxsU2NyZWVuKSB7XG4gICAgICAgIHNldEZ1bGxTY3JlZW4oZnVsbFNjcmVlbik7XG4gICAgfTtcbiAgICB2YXIgZXhpdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEZ1bGxTY3JlZW4oZmFsc2UpO1xuICAgICAgICB2YXIgZ2V0UGFnZXNDb250YWluZXIgPSBzdG9yZS5nZXQoJ2dldFBhZ2VzQ29udGFpbmVyJyk7XG4gICAgICAgIGlmICghZ2V0UGFnZXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFnZXNFbGUgPSBnZXRQYWdlc0NvbnRhaW5lcigpO1xuICAgICAgICBpZiAoIXBhZ2VzRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZSA9IGdldEZ1bGxTY3JlZW5FbGVtZW50KCk7XG4gICAgICAgIGlmIChlbGUgJiYgZWxlID09PSBnZXRGdWxsU2NyZWVuVGFyZ2V0KHBhZ2VzRWxlKSkge1xuICAgICAgICAgICAgZXhpdEZ1bGxTY3JlZW5Nb2RlKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2lzRnVsbFNjcmVlbicsIGhhbmRsZUZ1bGxTY3JlZW4pO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2dldFBhZ2VzQ29udGFpbmVyJywgaGFuZGxlUGFnZXNDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2dldFBhZ2VzQ29udGFpbmVyJywgaGFuZGxlUGFnZXNDb250YWluZXIpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2lzRnVsbFNjcmVlbicsIGhhbmRsZUZ1bGxTY3JlZW4pO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBlbnRlckZ1bGxTY3JlZW46IGVudGVyRnVsbFNjcmVlbixcbiAgICAgICAgZXhpdEZ1bGxTY3JlZW46IGV4aXRGdWxsU2NyZWVuLFxuICAgICAgICBpc0Z1bGxTY3JlZW46IGlzRnVsbFNjcmVlbixcbiAgICB9O1xufTtcblxudmFyIEVudGVyRnVsbFNjcmVlbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIGdldEZ1bGxTY3JlZW5UYXJnZXQgPSBfYS5nZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSA9IF9hLnN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiA9IF9hLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuID0gX2Eub25FeGl0RnVsbFNjcmVlbjtcbiAgICB2YXIgX2IgPSB1c2VFbnRlckZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuKSwgZW50ZXJGdWxsU2NyZWVuID0gX2IuZW50ZXJGdWxsU2NyZWVuLCBleGl0RnVsbFNjcmVlbiA9IF9iLmV4aXRGdWxsU2NyZWVuLCBpc0Z1bGxTY3JlZW4gPSBfYi5pc0Z1bGxTY3JlZW47XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gaXNGdWxsU2NyZWVuID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkJ1dHRvbldpdGhUb29sdGlwLCB7IG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFbnRlckZ1bGxTY3JlZW5CdXR0b24sIHsgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpO1xuICAgIH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgb25DbGljazogaXNGdWxsU2NyZWVuID8gZXhpdEZ1bGxTY3JlZW4gOiBlbnRlckZ1bGxTY3JlZW4sXG4gICAgfSk7XG59O1xuXG52YXIgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5mdWxsU2NyZWVuID8gbDEwbi5mdWxsU2NyZWVuLmVudGVyRnVsbFNjcmVlbiA6ICdGdWxsIHNjcmVlbic7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRnVsbFNjcmVlbkljb24sIG51bGwpLCBpc0Rpc2FibGVkOiAhaXNGdWxsU2NyZWVuRW5hYmxlZCgpLCB0ZXN0SWQ6IFwiZnVsbC1zY3JlZW5fX2VudGVyLW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIEV4aXRGdWxsU2NyZWVuQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgdmFyIGV4aXRGdWxsU2NyZWVuTGFiZWwgPSBsMTBuICYmIGwxMG4uZnVsbFNjcmVlbiA/IGwxMG4uZnVsbFNjcmVlbi5leGl0RnVsbFNjcmVlbiA6ICdFeGl0IGZ1bGwgc2NyZWVuJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uJzogdHJ1ZSxcbiAgICAgICAgICAgICdycHYtZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAncnB2LWZ1bGwtc2NyZWVuX19leGl0LWJ1dHRvbi0tcnRsJzogaXNSdGwsXG4gICAgICAgIH0pIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBleGl0RnVsbFNjcmVlbkxhYmVsLCB0ZXN0SWQ6IFwiZnVsbC1zY3JlZW5fX2V4aXQtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFeGl0RnVsbFNjcmVlbkljb24sIG51bGwpKSkpO1xufTtcblxudmFyIEV4aXRGdWxsU2NyZWVuID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGdldEZ1bGxTY3JlZW5UYXJnZXQgPSBfYS5nZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSA9IF9hLnN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbiA9IF9hLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuID0gX2Eub25FeGl0RnVsbFNjcmVlbjtcbiAgICB2YXIgX2IgPSB1c2VFbnRlckZ1bGxTY3JlZW4oZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuKSwgZW50ZXJGdWxsU2NyZWVuID0gX2IuZW50ZXJGdWxsU2NyZWVuLCBleGl0RnVsbFNjcmVlbiA9IF9iLmV4aXRGdWxsU2NyZWVuLCBpc0Z1bGxTY3JlZW4gPSBfYi5pc0Z1bGxTY3JlZW47XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEV4aXRGdWxsU2NyZWVuQnV0dG9uLCB7IG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gKGlzRnVsbFNjcmVlbiAmJlxuICAgICAgICByZW5kZXIoe1xuICAgICAgICAgICAgb25DbGljazogaXNGdWxsU2NyZWVuID8gZXhpdEZ1bGxTY3JlZW4gOiBlbnRlckZ1bGxTY3JlZW4sXG4gICAgICAgIH0pKTtcbn07XG5cbnZhciBTaG9ydGN1dEhhbmRsZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gX2EuY29udGFpbmVyUmVmLCBnZXRGdWxsU2NyZWVuVGFyZ2V0ID0gX2EuZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmUgPSBfYS5zdG9yZSwgb25FbnRlckZ1bGxTY3JlZW4gPSBfYS5vbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbiA9IF9hLm9uRXhpdEZ1bGxTY3JlZW47XG4gICAgdmFyIGVudGVyRnVsbFNjcmVlbiA9IHVzZUVudGVyRnVsbFNjcmVlbihnZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZSwgb25FbnRlckZ1bGxTY3JlZW4sIG9uRXhpdEZ1bGxTY3JlZW4pLmVudGVyRnVsbFNjcmVlbjtcbiAgICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmVTaG9ydGN1dHNQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5ICYmIGUuY3RybEtleSAmJiBlLmtleSA9PT0gJ2YnIDogZS5rZXkgPT09ICdGMTEnO1xuICAgICAgICBpZiAoIWFyZVNob3J0Y3V0c1ByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGVudGVyRnVsbFNjcmVlbigpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBmdWxsU2NyZWVuUGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRGdWxsU2NyZWVuVGFyZ2V0ID0gZnVuY3Rpb24gKGVsZSkgeyByZXR1cm4gZWxlOyB9O1xuICAgIHZhciBnZXRGdWxsU2NyZWVuVGFyZ2V0ID0gKHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5nZXRGdWxsU2NyZWVuVGFyZ2V0KSB8fCBkZWZhdWx0RnVsbFNjcmVlblRhcmdldDtcbiAgICB2YXIgZnVsbFNjcmVlblBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlLCBvbkVudGVyRnVsbFNjcmVlbjogZnVuY3Rpb24gKCkgeyB9LCBvbkV4aXRGdWxsU2NyZWVuOiBmdW5jdGlvbiAoKSB7IH0gfSwgcHJvcHMpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbiwgX19hc3NpZ24oe30sIHByb3BzLCB7IGVuYWJsZVNob3J0Y3V0czogZnVsbFNjcmVlblBsdWdpblByb3BzLmVuYWJsZVNob3J0Y3V0cywgZ2V0RnVsbFNjcmVlblRhcmdldDogZ2V0RnVsbFNjcmVlblRhcmdldCwgc3RvcmU6IHN0b3JlLCBvbkVudGVyRnVsbFNjcmVlbjogZnVsbFNjcmVlblBsdWdpblByb3BzLm9uRW50ZXJGdWxsU2NyZWVuLCBvbkV4aXRGdWxsU2NyZWVuOiBmdWxsU2NyZWVuUGx1Z2luUHJvcHMub25FeGl0RnVsbFNjcmVlbiB9KSkpOyB9O1xuICAgIHZhciBFbnRlckZ1bGxTY3JlZW5CdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbkRlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbkJ1dHRvbiwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcmVuZGVyUHJvcHMpKSk7IH0pKTsgfTtcbiAgICB2YXIgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChFbnRlckZ1bGxTY3JlZW5NZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgRXhpdEZ1bGxTY3JlZW5EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEV4aXRGdWxsU2NyZWVuLCB7IGdldEZ1bGxTY3JlZW5UYXJnZXQ6IGdldEZ1bGxTY3JlZW5UYXJnZXQsIHN0b3JlOiBzdG9yZSwgb25FbnRlckZ1bGxTY3JlZW46IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5vbkVudGVyRnVsbFNjcmVlbiwgb25FeGl0RnVsbFNjcmVlbjogZnVsbFNjcmVlblBsdWdpblByb3BzLm9uRXhpdEZ1bGxTY3JlZW4gfSwgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlckV4aXRGdWxsU2NyZWVuQnV0dG9uKSk7IH07XG4gICAgdmFyIHJlbmRlclZpZXdlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgY3VycmVudFNsb3QgPSBwcm9wcy5zbG90O1xuICAgICAgICBpZiAoY3VycmVudFNsb3Quc3ViU2xvdCkge1xuICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBmdWxsU2NyZWVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcHJvcHMuY29udGFpbmVyUmVmLCBnZXRGdWxsU2NyZWVuVGFyZ2V0OiBnZXRGdWxsU2NyZWVuVGFyZ2V0LCBzdG9yZTogc3RvcmUsIG9uRW50ZXJGdWxsU2NyZWVuOiBmdWxsU2NyZWVuUGx1Z2luUHJvcHMub25FbnRlckZ1bGxTY3JlZW4sIG9uRXhpdEZ1bGxTY3JlZW46IGZ1bGxTY3JlZW5QbHVnaW5Qcm9wcy5vbkV4aXRGdWxsU2NyZWVuIH0pKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRXhpdEZ1bGxTY3JlZW5EZWNvcmF0b3IsIG51bGwpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbG90LnN1YlNsb3QuY2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFNsb3Q7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2dldFBhZ2VzQ29udGFpbmVyJywgcGx1Z2luRnVuY3Rpb25zLmdldFBhZ2VzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnem9vbScsIHBsdWdpbkZ1bmN0aW9ucy56b29tKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIEVudGVyRnVsbFNjcmVlbjogRW50ZXJGdWxsU2NyZWVuRGVjb3JhdG9yLFxuICAgICAgICBFbnRlckZ1bGxTY3JlZW5CdXR0b246IEVudGVyRnVsbFNjcmVlbkJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW06IEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkV4aXRGdWxsU2NyZWVuSWNvbiA9IEV4aXRGdWxsU2NyZWVuSWNvbjtcbmV4cG9ydHMuRnVsbFNjcmVlbkljb24gPSBGdWxsU2NyZWVuSWNvbjtcbmV4cG9ydHMuZnVsbFNjcmVlblBsdWdpbiA9IGZ1bGxTY3JlZW5QbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/full-screen/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/full-screen/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/full-screen.js */ \"./node_modules/@react-pdf-viewer/full-screen/lib/cjs/full-screen.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZnVsbC1zY3JlZW4vbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSx1SUFBZ0Q7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2Z1bGwtc2NyZWVuL2xpYi9pbmRleC5qcz83MTg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9mdWxsLXNjcmVlbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9mdWxsLXNjcmVlbi5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/full-screen/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownloadIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar DownloadButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.download ? l10n.download.download : 'Download';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"get-file\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"get-file__download-button\", onClick: onClick },\n            React__namespace.createElement(DownloadIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar isChromeIOS = function () { return /iphone|ipod|ipad/i.test(navigator.userAgent) && /CriOS/i.test(navigator.userAgent); };\nvar isSafariIOS = function () { return /iphone|ipod|ipad/i.test(navigator.userAgent) && !/CriOS/i.test(navigator.userAgent); };\nvar encodeUint8Array = function (data) {\n    return btoa(Array(data.length)\n        .fill('')\n        .map(function (_, i) { return String.fromCharCode(data[i]); })\n        .join(''));\n};\nvar download = function (url, saveAs) {\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = url;\n    link.setAttribute('download', saveAs);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n};\nvar downloadBlob = function (data, saveAs, mimeType) {\n    var blobUrl = URL.createObjectURL(new Blob([data], { type: mimeType }));\n    download(blobUrl, saveAs);\n    if (blobUrl) {\n        URL.revokeObjectURL(blobUrl);\n    }\n    return;\n};\nvar downloadFile = function (doc, saveAs) {\n    doc.getData().then(function (data) {\n        isSafariIOS()\n            ?\n                downloadBlob(data, saveAs, 'application/octet-stream')\n            : isChromeIOS()\n                ? download(\"data:application/pdf;base64,\".concat(encodeUint8Array(data)), saveAs)\n                : downloadBlob(data, saveAs, 'application/pdf');\n    });\n};\n\nvar Download = function (_a) {\n    var children = _a.children, fileNameGenerator = _a.fileNameGenerator, store = _a.store;\n    var _b = React__namespace.useState(store.get('file')), currentFile = _b[0], setCurrentFile = _b[1];\n    var _c = React__namespace.useState(store.get('doc')), currentDocument = _c[0], setCurrentDocument = _c[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDocument(doc);\n    };\n    var handleFileChanged = function (file) {\n        setCurrentFile(file);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        store.subscribe('file', handleFileChanged);\n        return function () {\n            store.subscribe('doc', handleDocumentChanged);\n            store.unsubscribe('file', handleFileChanged);\n        };\n    }, []);\n    var download = function () {\n        if (currentDocument && currentFile) {\n            downloadFile(currentDocument, fileNameGenerator(currentFile));\n        }\n    };\n    var defaultChildren = function (props) { return React__namespace.createElement(DownloadButton, { onClick: props.onClick }); };\n    var render = children || defaultChildren;\n    return render({\n        onClick: download,\n    });\n};\n\nvar DownloadMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.download ? l10n.download.download : 'Download';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(DownloadIcon, null), testId: \"get-file__download-menu\", onClick: onClick }, label));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar getFilePlugin = function (props) {\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var defaultFileNameGenerator = function (file) { return (file.name ? getFileName(file.name) : 'document.pdf'); };\n    var DownloadDecorator = function (downloadProps) { return (React__namespace.createElement(Download, __assign({}, downloadProps, { fileNameGenerator: props ? props.fileNameGenerator || defaultFileNameGenerator : defaultFileNameGenerator, store: store }))); };\n    var DownloadButtonDecorator = function () { return (React__namespace.createElement(DownloadDecorator, null, function (props) { return React__namespace.createElement(DownloadButton, __assign({}, props)); })); };\n    var DownloadMenuItemDecorator = function (props) { return (React__namespace.createElement(DownloadDecorator, null, function (p) { return (React__namespace.createElement(DownloadMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n            store.update('file', props.file);\n        },\n        Download: DownloadDecorator,\n        DownloadButton: DownloadButtonDecorator,\n        DownloadMenuItem: DownloadMenuItemDecorator,\n    };\n};\n\nexports.DownloadIcon = DownloadIcon;\nexports.getFilePlugin = getFilePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZ2V0LWZpbGUvbGliL2Nqcy9nZXQtZmlsZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMsK0tBQStLO0FBQzVOLDZDQUE2QyxzREFBc0Q7O0FBRW5HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUlBQW1JLHlFQUF5RTtBQUN2USx3RkFBd0YsZUFBZSwwQkFBMEI7QUFDakk7O0FBRUEsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQXNDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxnQkFBZ0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx3REFBd0Qsd0JBQXdCO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwrR0FBK0c7QUFDM0s7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsMEJBQTBCLElBQUk7QUFDckYscURBQXFEO0FBQ3JELHVEQUF1RCw0REFBNEQsbUJBQW1CLHlIQUF5SDtBQUMvUCxnREFBZ0QsbUZBQW1GLGlFQUFpRSxZQUFZO0FBQ2hOLHVEQUF1RCwrRUFBK0UsMkRBQTJEO0FBQ2pNO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7QUFDcEIscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9nZXQtZmlsZS9saWIvY2pzL2dldC1maWxlLmpzPzc4YWEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBEb3dubG9hZEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk01LjUsMTEuNWMtLjI3NSwwLS4zNDEuMTU5LS4xNDYuMzU0bDYuMjkyLDYuMjkzYS41LjUsMCwwLDAsLjcwOSwwbDYuMzExLTYuMjc1Yy4yLS4xOTMuMTMtLjM1My0uMTQ1LS4zNTVMMTUuNSwxMS41VjEuNWExLDEsMCwwLDAtMS0xaC01YTEsMSwwLDAsMC0xLDFWMTFhLjUuNSwwLDAsMS0uNS41WlwiIH0pLFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMy41LDE4LjV2NGExLDEsMCwwLDEtMSwxSDEuNWExLDEsMCwwLDEtMS0xdi00XCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIERvd25sb2FkQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4uZG93bmxvYWQgPyBsMTBuLmRvd25sb2FkLmRvd25sb2FkIDogJ0Rvd25sb2FkJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcImdldC1maWxlXCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJnZXQtZmlsZV9fZG93bmxvYWQtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3dubG9hZEljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpO1xufTtcblxudmFyIGlzQ2hyb21lSU9TID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gL2lwaG9uZXxpcG9kfGlwYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9DcmlPUy9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7IH07XG52YXIgaXNTYWZhcmlJT1MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAvaXBob25lfGlwb2R8aXBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DcmlPUy9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7IH07XG52YXIgZW5jb2RlVWludDhBcnJheSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIGJ0b2EoQXJyYXkoZGF0YS5sZW5ndGgpXG4gICAgICAgIC5maWxsKCcnKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChfLCBpKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbaV0pOyB9KVxuICAgICAgICAuam9pbignJykpO1xufTtcbnZhciBkb3dubG9hZCA9IGZ1bmN0aW9uICh1cmwsIHNhdmVBcykge1xuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgc2F2ZUFzKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xufTtcbnZhciBkb3dubG9hZEJsb2IgPSBmdW5jdGlvbiAoZGF0YSwgc2F2ZUFzLCBtaW1lVHlwZSkge1xuICAgIHZhciBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogbWltZVR5cGUgfSkpO1xuICAgIGRvd25sb2FkKGJsb2JVcmwsIHNhdmVBcyk7XG4gICAgaWYgKGJsb2JVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChibG9iVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xufTtcbnZhciBkb3dubG9hZEZpbGUgPSBmdW5jdGlvbiAoZG9jLCBzYXZlQXMpIHtcbiAgICBkb2MuZ2V0RGF0YSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaXNTYWZhcmlJT1MoKVxuICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgIGRvd25sb2FkQmxvYihkYXRhLCBzYXZlQXMsICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKVxuICAgICAgICAgICAgOiBpc0Nocm9tZUlPUygpXG4gICAgICAgICAgICAgICAgPyBkb3dubG9hZChcImRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCxcIi5jb25jYXQoZW5jb2RlVWludDhBcnJheShkYXRhKSksIHNhdmVBcylcbiAgICAgICAgICAgICAgICA6IGRvd25sb2FkQmxvYihkYXRhLCBzYXZlQXMsICdhcHBsaWNhdGlvbi9wZGYnKTtcbiAgICB9KTtcbn07XG5cbnZhciBEb3dubG9hZCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmaWxlTmFtZUdlbmVyYXRvciA9IF9hLmZpbGVOYW1lR2VuZXJhdG9yLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdmaWxlJykpLCBjdXJyZW50RmlsZSA9IF9iWzBdLCBzZXRDdXJyZW50RmlsZSA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdkb2MnKSksIGN1cnJlbnREb2N1bWVudCA9IF9jWzBdLCBzZXRDdXJyZW50RG9jdW1lbnQgPSBfY1sxXTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBzZXRDdXJyZW50RG9jdW1lbnQoZG9jKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVGaWxlQ2hhbmdlZCA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIHNldEN1cnJlbnRGaWxlKGZpbGUpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZmlsZScsIGhhbmRsZUZpbGVDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdmaWxlJywgaGFuZGxlRmlsZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICB2YXIgZG93bmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjdXJyZW50RG9jdW1lbnQgJiYgY3VycmVudEZpbGUpIHtcbiAgICAgICAgICAgIGRvd25sb2FkRmlsZShjdXJyZW50RG9jdW1lbnQsIGZpbGVOYW1lR2VuZXJhdG9yKGN1cnJlbnRGaWxlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3dubG9hZEJ1dHRvbiwgeyBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIG9uQ2xpY2s6IGRvd25sb2FkLFxuICAgIH0pO1xufTtcblxudmFyIERvd25sb2FkTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5kb3dubG9hZCA/IGwxMG4uZG93bmxvYWQuZG93bmxvYWQgOiAnRG93bmxvYWQnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkSWNvbiwgbnVsbCksIHRlc3RJZDogXCJnZXQtZmlsZV9fZG93bmxvYWQtbWVudVwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgdmFyIHN0ciA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdIDogdXJsO1xufTtcblxudmFyIGdldEZpbGVQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgZGVmYXVsdEZpbGVOYW1lR2VuZXJhdG9yID0gZnVuY3Rpb24gKGZpbGUpIHsgcmV0dXJuIChmaWxlLm5hbWUgPyBnZXRGaWxlTmFtZShmaWxlLm5hbWUpIDogJ2RvY3VtZW50LnBkZicpOyB9O1xuICAgIHZhciBEb3dubG9hZERlY29yYXRvciA9IGZ1bmN0aW9uIChkb3dubG9hZFByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkLCBfX2Fzc2lnbih7fSwgZG93bmxvYWRQcm9wcywgeyBmaWxlTmFtZUdlbmVyYXRvcjogcHJvcHMgPyBwcm9wcy5maWxlTmFtZUdlbmVyYXRvciB8fCBkZWZhdWx0RmlsZU5hbWVHZW5lcmF0b3IgOiBkZWZhdWx0RmlsZU5hbWVHZW5lcmF0b3IsIHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBEb3dubG9hZEJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfSkpOyB9O1xuICAgIHZhciBEb3dubG9hZE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3dubG9hZE1lbnVJdGVtLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZmlsZScsIHByb3BzLmZpbGUpO1xuICAgICAgICB9LFxuICAgICAgICBEb3dubG9hZDogRG93bmxvYWREZWNvcmF0b3IsXG4gICAgICAgIERvd25sb2FkQnV0dG9uOiBEb3dubG9hZEJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgRG93bmxvYWRNZW51SXRlbTogRG93bmxvYWRNZW51SXRlbURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5Eb3dubG9hZEljb24gPSBEb3dubG9hZEljb247XG5leHBvcnRzLmdldEZpbGVQbHVnaW4gPSBnZXRGaWxlUGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/get-file/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/get-file/lib/index.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/get-file.js */ \"./node_modules/@react-pdf-viewer/get-file/lib/cjs/get-file.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvZ2V0LWZpbGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSw4SEFBNkM7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL2dldC1maWxlL2xpYi9pbmRleC5qcz83YjBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9nZXQtZmlsZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9nZXQtZmlsZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/get-file/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/open/lib/cjs/open.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/open/lib/cjs/open.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar OpenFileIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useTriggerOpen = function (store) {\n    var inputRef = React__namespace.useRef();\n    var openFile = function () {\n        var inputEle = inputRef.current;\n        if (inputEle) {\n            inputEle.click();\n            if (store.get('triggerOpenFile')) {\n                store.update('triggerOpenFile', false);\n            }\n        }\n    };\n    var handleOpenFileTriggered = function (trigger) {\n        if (trigger) {\n            openFile();\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('triggerOpenFile', handleOpenFileTriggered);\n        return function () {\n            store.unsubscribe('triggerOpenFile', handleOpenFileTriggered);\n        };\n    }, []);\n    return {\n        inputRef: inputRef,\n        openFile: openFile,\n    };\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar OpenButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, store = _a.store, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.open ? l10n.open.openFile : 'Open file';\n    var _b = useTriggerOpen(store), inputRef = _b.inputRef, openFile = _b.openFile;\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+O' : 'Ctrl+O') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"open\", position: core.Position.BottomCenter, target: React__namespace.createElement(\"div\", { className: \"rpv-open__input-wrapper\" },\n            React__namespace.createElement(\"input\", { ref: inputRef, className: \"rpv-open__input\", multiple: false, tabIndex: -1, title: \"\", type: \"file\", onChange: onClick }),\n            React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"open__button\", onClick: openFile },\n                React__namespace.createElement(OpenFileIcon, null))), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar Open = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var handleOpenFiles = function (e) {\n        var files = e.target.files;\n        if (!files || !files.length) {\n            return;\n        }\n        var openFile = store.get('openFile');\n        if (openFile) {\n            openFile(files[0]);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(OpenButton, { enableShortcuts: enableShortcuts, store: store, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        onClick: handleOpenFiles,\n    });\n};\n\nvar OpenMenuItem = function (_a) {\n    var store = _a.store, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.open ? l10n.open.openFile : 'Open file';\n    var _b = useTriggerOpen(store), inputRef = _b.inputRef, openFile = _b.openFile;\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(OpenFileIcon, null), testId: \"open__menu\", onClick: openFile },\n        React__namespace.createElement(\"div\", { className: \"rpv-open__input-wrapper\" },\n            React__namespace.createElement(\"input\", { ref: inputRef, className: \"rpv-open__input\", multiple: false, tabIndex: -1, title: \"\", type: \"file\", onChange: onClick }),\n            label)));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey || e.key !== 'o') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        store.update('triggerOpenFile', true);\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar openPlugin = function (props) {\n    var openPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var OpenDecorator = function (props) { return (React__namespace.createElement(Open, __assign({ enableShortcuts: openPluginProps.enableShortcuts }, props, { store: store }))); };\n    var OpenButtonDecorator = function () { return React__namespace.createElement(OpenDecorator, null); };\n    var OpenMenuItemDecorator = function () { return (React__namespace.createElement(OpenDecorator, null, function (p) { return React__namespace.createElement(OpenMenuItem, { store: store, onClick: p.onClick }); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                openPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store })),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('openFile', pluginFunctions.openFile);\n        },\n        renderViewer: renderViewer,\n        Open: OpenDecorator,\n        OpenButton: OpenButtonDecorator,\n        OpenMenuItem: OpenMenuItemDecorator,\n    };\n};\n\nexports.OpenFileIcon = OpenFileIcon;\nexports.openPlugin = openPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvY2pzL29wZW4uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQ0FBaUMsb0RBQW9ELFVBQVU7QUFDL0YsNkNBQTZDLG9KQUFvSjtBQUNqTSw2Q0FBNkMsc0RBQXNEOztBQUVuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxrSEFBa0gsc0NBQXNDO0FBQ25OLHNEQUFzRCx3SEFBd0g7QUFDOUssaUVBQWlFLGlHQUFpRztBQUNsSyw2RkFBNkYsZUFBZSwwQkFBMEI7QUFDdEk7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHFEQUFxRCx3RUFBd0U7QUFDMUs7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsbUdBQW1HO0FBQy9KLGdEQUFnRCxzQ0FBc0M7QUFDdEYsc0RBQXNELHdIQUF3SDtBQUM5SztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLGlFQUFpRSx1QkFBdUIsSUFBSSx1QkFBdUIsV0FBVztBQUM5SCx1REFBdUQsMEJBQTBCLElBQUk7QUFDckYsMkNBQTJDLHdEQUF3RCxrREFBa0QsV0FBVyxjQUFjO0FBQzlLLDRDQUE0QztBQUM1Qyw4Q0FBOEMsMkVBQTJFLHNEQUFzRCxrQ0FBa0MsSUFBSTtBQUNyTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxnREFBZ0Q7QUFDdEo7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvY2pzL29wZW4uanM/ODEyZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIE9wZW5GaWxlSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE4LjUsNy41Yy4yNzUsMCwuMzQxLS4xNTkuMTQ2LS4zNTRMMTIuMzU0Ljg1NGEuNS41LDAsMCwwLS43MDgsMEw1LjM1NCw3LjE0N2MtLjIuMTk1LS4xMjkuMzU0LjE0Ni4zNTRoM3YxMGExLDEsMCwwLDAsMSwxaDVhMSwxLDAsMCwwLDEtMVY3LjVaXCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIzLjUsMTguNXY0YTEsMSwwLDAsMS0xLDFIMS41YTEsMSwwLDAsMS0xLTF2LTRcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciB1c2VUcmlnZ2VyT3BlbiA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBpbnB1dFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIG9wZW5GaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXRFbGUgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoaW5wdXRFbGUpIHtcbiAgICAgICAgICAgIGlucHV0RWxlLmNsaWNrKCk7XG4gICAgICAgICAgICBpZiAoc3RvcmUuZ2V0KCd0cmlnZ2VyT3BlbkZpbGUnKSkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgndHJpZ2dlck9wZW5GaWxlJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlT3BlbkZpbGVUcmlnZ2VyZWQgPSBmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlcikge1xuICAgICAgICAgICAgb3BlbkZpbGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ3RyaWdnZXJPcGVuRmlsZScsIGhhbmRsZU9wZW5GaWxlVHJpZ2dlcmVkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCd0cmlnZ2VyT3BlbkZpbGUnLCBoYW5kbGVPcGVuRmlsZVRyaWdnZXJlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0UmVmOiBpbnB1dFJlZixcbiAgICAgICAgb3BlbkZpbGU6IG9wZW5GaWxlLFxuICAgIH07XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLm9wZW4gPyBsMTBuLm9wZW4ub3BlbkZpbGUgOiAnT3BlbiBmaWxlJztcbiAgICB2YXIgX2IgPSB1c2VUcmlnZ2VyT3BlbihzdG9yZSksIGlucHV0UmVmID0gX2IuaW5wdXRSZWYsIG9wZW5GaWxlID0gX2Iub3BlbkZpbGU7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErTycgOiAnQ3RybCtPJykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcIm9wZW5cIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtb3Blbl9faW5wdXQtd3JhcHBlclwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHJlZjogaW5wdXRSZWYsIGNsYXNzTmFtZTogXCJycHYtb3Blbl9faW5wdXRcIiwgbXVsdGlwbGU6IGZhbHNlLCB0YWJJbmRleDogLTEsIHRpdGxlOiBcIlwiLCB0eXBlOiBcImZpbGVcIiwgb25DaGFuZ2U6IG9uQ2xpY2sgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFLZXlTaG9ydGN1dHM6IGFyaWFLZXlTaG9ydGN1dHMsIGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJvcGVuX19idXR0b25cIiwgb25DbGljazogb3BlbkZpbGUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3BlbkZpbGVJY29uLCBudWxsKSkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgT3BlbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGhhbmRsZU9wZW5GaWxlcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzO1xuICAgICAgICBpZiAoIWZpbGVzIHx8ICFmaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3BlbkZpbGUgPSBzdG9yZS5nZXQoJ29wZW5GaWxlJyk7XG4gICAgICAgIGlmIChvcGVuRmlsZSkge1xuICAgICAgICAgICAgb3BlbkZpbGUoZmlsZXNbMF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5CdXR0b24sIHsgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsIHN0b3JlOiBzdG9yZSwgb25DbGljazogcHJvcHMub25DbGljayB9KSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgb25DbGljazogaGFuZGxlT3BlbkZpbGVzLFxuICAgIH0pO1xufTtcblxudmFyIE9wZW5NZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdG9yZSA9IF9hLnN0b3JlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLm9wZW4gPyBsMTBuLm9wZW4ub3BlbkZpbGUgOiAnT3BlbiBmaWxlJztcbiAgICB2YXIgX2IgPSB1c2VUcmlnZ2VyT3BlbihzdG9yZSksIGlucHV0UmVmID0gX2IuaW5wdXRSZWYsIG9wZW5GaWxlID0gX2Iub3BlbkZpbGU7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3BlbkZpbGVJY29uLCBudWxsKSwgdGVzdElkOiBcIm9wZW5fX21lbnVcIiwgb25DbGljazogb3BlbkZpbGUgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1vcGVuX19pbnB1dC13cmFwcGVyXCIgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgcmVmOiBpbnB1dFJlZiwgY2xhc3NOYW1lOiBcInJwdi1vcGVuX19pbnB1dFwiLCBtdWx0aXBsZTogZmFsc2UsIHRhYkluZGV4OiAtMSwgdGl0bGU6IFwiXCIsIHR5cGU6IFwiZmlsZVwiLCBvbkNoYW5nZTogb25DbGljayB9KSxcbiAgICAgICAgICAgIGxhYmVsKSkpO1xufTtcblxudmFyIFNob3J0Y3V0SGFuZGxlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb250YWluZXJSZWYgPSBfYS5jb250YWluZXJSZWYsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5rZXkgIT09ICdvJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICAgICAgICBpZiAoIWlzQ29tbWFuZFByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgndHJpZ2dlck9wZW5GaWxlJywgdHJ1ZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY29udGFpbmVyUmVmLmN1cnJlbnRdKTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xufTtcblxudmFyIG9wZW5QbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgb3BlblBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlIH0sIHByb3BzKTsgfSwgW10pO1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKHt9KTsgfSwgW10pO1xuICAgIHZhciBPcGVuRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW4sIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiBvcGVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzIH0sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBPcGVuQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5EZWNvcmF0b3IsIG51bGwpOyB9O1xuICAgIHZhciBPcGVuTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE9wZW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoT3Blbk1lbnVJdGVtLCB7IHN0b3JlOiBzdG9yZSwgb25DbGljazogcC5vbkNsaWNrIH0pOyB9KSk7IH07XG4gICAgdmFyIHJlbmRlclZpZXdlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgc2xvdCA9IHByb3BzLnNsb3Q7XG4gICAgICAgIHZhciB1cGRhdGVTbG90ID0ge1xuICAgICAgICAgICAgY2hpbGRyZW46IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBvcGVuUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRIYW5kbGVyLCB7IGNvbnRhaW5lclJlZjogcHJvcHMuY29udGFpbmVyUmVmLCBzdG9yZTogc3RvcmUgfSkpLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ29wZW5GaWxlJywgcGx1Z2luRnVuY3Rpb25zLm9wZW5GaWxlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIE9wZW46IE9wZW5EZWNvcmF0b3IsXG4gICAgICAgIE9wZW5CdXR0b246IE9wZW5CdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIE9wZW5NZW51SXRlbTogT3Blbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLk9wZW5GaWxlSWNvbiA9IE9wZW5GaWxlSWNvbjtcbmV4cG9ydHMub3BlblBsdWdpbiA9IG9wZW5QbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/open/lib/cjs/open.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/open/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/open/lib/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/open.js */ \"./node_modules/@react-pdf-viewer/open/lib/cjs/open.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLGtIQUF5QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvb3Blbi9saWIvaW5kZXguanM/YjhiZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvb3Blbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9vcGVuLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/open/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\\n            C1.96,3.016,2.138,2.966,2.32,2.966z\" }))); };\n\nvar NextIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\\n            L23.541,5.627\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useCurrentPage = function (store) {\n    var _a = React__namespace.useState(store.get('currentPage') || 0), currentPage = _a[0], setCurrentPage = _a[1];\n    var handleCurrentPageChanged = function (currentPageIndex) {\n        setCurrentPage(currentPageIndex);\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        store.subscribe('currentPage', handleCurrentPageChanged);\n        return function () {\n            store.unsubscribe('currentPage', handleCurrentPageChanged);\n        };\n    }, []);\n    return { currentPage: currentPage };\n};\n\nvar useNumberOfPages = function (store) {\n    var _a = React__namespace.useState(store.get('numberOfPages') || 0), numberOfPages = _a[0], setNumberOfPages = _a[1];\n    var handleNumberOfPages = function (total) {\n        setNumberOfPages(total);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('numberOfPages', handleNumberOfPages);\n        return function () {\n            store.unsubscribe('numberOfPages', handleNumberOfPages);\n        };\n    }, []);\n    return { numberOfPages: numberOfPages };\n};\n\nvar CurrentPageInput = function (_a) {\n    var store = _a.store;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState('1'), editingPage = _b[0], setEditingPage = _b[1];\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    React__namespace.useEffect(function () { return setEditingPage(\"\".concat(currentPage + 1)); }, [currentPage]);\n    var gotoNextPage = function () {\n        var nextPage = currentPage + 1;\n        if (nextPage < numberOfPages) {\n            setEditingPage(\"\".concat(nextPage + 1));\n            jumpTo(nextPage);\n        }\n    };\n    var gotoPreviousPage = function () {\n        var previousPage = currentPage - 1;\n        if (previousPage >= 0) {\n            setEditingPage(\"\".concat(previousPage + 1));\n            jumpTo(previousPage);\n        }\n    };\n    var jumpTo = function (page) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(page);\n        }\n    };\n    var jump = function () {\n        var newPage = parseInt(editingPage, 10);\n        editingPage === '' || newPage < 1 || newPage > numberOfPages\n            ? setEditingPage(\"\".concat(currentPage + 1))\n            : jumpTo(newPage - 1);\n    };\n    var keydownPage = function (e) {\n        switch (e.key) {\n            case 'ArrowUp':\n                gotoPreviousPage();\n                break;\n            case 'ArrowDown':\n                gotoNextPage();\n                break;\n            case 'Enter':\n                jump();\n                break;\n        }\n    };\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.enterPageNumber\n        : 'Enter a page number';\n    return (React__namespace.createElement(\"span\", { className: \"rpv-page-navigation__current-page-input\" },\n        React__namespace.createElement(core.TextBox, { ariaLabel: label, testId: \"page-navigation__current-page-input\", type: \"text\", value: editingPage, onChange: setEditingPage, onKeyDown: keydownPage })));\n};\n\nvar FetchLabels = function (_a) {\n    var children = _a.children, doc = _a.doc;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        labels: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPageLabels().then(function (result) {\n            isMounted.current && setStatus({ loading: false, labels: result || [] });\n        });\n    }, [doc.loadingTask.docId]);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : children(status.labels);\n};\n\nvar useDocument = function (store) {\n    var _a = React__namespace.useState(store.get('doc')), currentDoc = _a[0], setCurrentDoc = _a[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc;\n};\n\nvar CurrentPageLabel = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentDoc = useDocument(store);\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var defaultChildren = function (props) { return React__namespace.createElement(React__namespace.Fragment, null, props.currentPage + 1); };\n    var render = children || defaultChildren;\n    return currentDoc ? (React__namespace.createElement(FetchLabels, { doc: currentDoc }, function (labels) {\n        var pageLabel = labels.length === numberOfPages && numberOfPages > 0 ? labels[currentPage] : '';\n        return render({\n            currentPage: currentPage,\n            numberOfPages: numberOfPages,\n            pageLabel: pageLabel,\n        });\n    })) : (React__namespace.createElement(React__namespace.Fragment, null));\n};\n\nvar UpArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\\n            C22.143,20.984,21.965,21.034,21.783,21.034z\" }))); };\n\nvar TOOLTIP_OFFSET$3 = { left: 0, top: 8 };\nvar GoToFirstPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToFirstPage : 'First page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-first\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__first-button\", onClick: onClick },\n            React__namespace.createElement(UpArrowIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$3 }));\n};\n\nvar GoToFirstPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var goToFirstPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(0);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToFirstPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage === 0,\n        onClick: goToFirstPage,\n    });\n};\n\nvar GoToFirstPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToFirstPage : 'First page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(UpArrowIcon, null), isDisabled: isDisabled, testId: \"page-navigation__first-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET$2 = { left: 0, top: 8 };\nvar GoToLastPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToLastPage : 'Last page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-last\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__last-button\", onClick: onClick },\n            React__namespace.createElement(DownArrowIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$2 }));\n};\n\nvar GoToLastPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var goToLastPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(numberOfPages - 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToLastPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage + 1 >= numberOfPages,\n        onClick: goToLastPage,\n    });\n};\n\nvar GoToLastPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToLastPage : 'Last page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(DownArrowIcon, null), isDisabled: isDisabled, testId: \"page-navigation__last-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar GoToNextPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToNextPage : 'Next page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-next\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__next-button\", onClick: onClick },\n            React__namespace.createElement(NextIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar GoToNextPage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentPage = useCurrentPage(store).currentPage;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    var goToNextPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(currentPage + 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToNextPageButton, { onClick: props.onClick, isDisabled: props.isDisabled })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage + 1 >= numberOfPages,\n        onClick: goToNextPage,\n    });\n};\n\nvar GoToNextPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation ? l10n.pageNavigation.goToNextPage : 'Next page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(NextIcon, null), isDisabled: isDisabled, testId: \"page-navigation__next-menu\", onClick: onClick }, label));\n};\n\nvar PreviousIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\\n            L0.535,18.373\" }))); };\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar GoToPreviousPageButton = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.goToPreviousPage\n        : 'Previous page';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"page-navigation-previous\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isDisabled: isDisabled, testId: \"page-navigation__previous-button\", onClick: onClick },\n            React__namespace.createElement(PreviousIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar GoToPreviousPage = function (_a) {\n    var store = _a.store, children = _a.children;\n    var currentPage = useCurrentPage(store).currentPage;\n    var goToPreviousPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(currentPage - 1);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(GoToPreviousPageButton, { isDisabled: props.isDisabled, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isDisabled: currentPage <= 0,\n        onClick: goToPreviousPage,\n    });\n};\n\nvar GoToPreviousPageMenuItem = function (_a) {\n    var isDisabled = _a.isDisabled, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.pageNavigation\n        ? l10n.pageNavigation.goToPreviousPage\n        : 'Previous page';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(PreviousIcon, null), isDisabled: isDisabled, testId: \"page-navigation__previous-menu\", onClick: onClick }, label));\n};\n\nvar NumberOfPages = function (_a) {\n    var children = _a.children, store = _a.store;\n    var numberOfPages = useNumberOfPages(store).numberOfPages;\n    return children ? children({ numberOfPages: numberOfPages }) : React__namespace.createElement(React__namespace.Fragment, null, numberOfPages);\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef; _a.doc; var numPages = _a.numPages, store = _a.store;\n    var jumpFromAnnotationRef = React__namespace.useRef(store.get('jumpFromAnnotation') || {\n        bottomOffset: 0,\n        dest: '',\n        leftOffset: 0,\n        pageIndex: -1,\n    });\n    var currentPage = useCurrentPage(store).currentPage;\n    var currentPageRef = React__namespace.useRef(currentPage);\n    currentPageRef.current = currentPage;\n    var isMouseInsideRef = React__namespace.useRef(false);\n    var handleMouseEnter = function () {\n        isMouseInsideRef.current = true;\n    };\n    var handleMouseLeave = function () {\n        isMouseInsideRef.current = false;\n    };\n    var goToNextPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        var targetPage = currentPageRef.current + 1;\n        if (jumpToPage && targetPage < numPages) {\n            jumpToPage(targetPage);\n        }\n    };\n    var goToPreviousPage = function () {\n        var jumpToPage = store.get('jumpToPage');\n        var targetPage = currentPageRef.current - 1;\n        if (jumpToPage && targetPage >= 0) {\n            jumpToPage(targetPage);\n        }\n    };\n    var jumpToAnnotation = function (target) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset;\n            jumpToDestination(pageIndex, bottomOffset, leftOffset);\n        }\n    };\n    var handleKeydown = function (e) {\n        var containerEle = containerRef.current;\n        var shouldHandleShortcuts = isMouseInsideRef.current || (document.activeElement && containerEle.contains(document.activeElement));\n        if (!containerEle || !shouldHandleShortcuts) {\n            return;\n        }\n        var shouldGoToNextPage = (e.altKey && e.key === 'ArrowDown') || (!e.shiftKey && !e.altKey && e.key === 'PageDown');\n        var shouldGoToPreviousPage = (e.altKey && e.key === 'ArrowUp') || (!e.shiftKey && !e.altKey && e.key === 'PageUp');\n        var isCommandPressed = core.isMac() ? e.metaKey && !e.ctrlKey : e.ctrlKey;\n        var shouldJumpBackAnnotation = isCommandPressed && e.key === 'ArrowUp';\n        if (shouldGoToNextPage) {\n            e.preventDefault();\n            goToNextPage();\n        }\n        else if (shouldGoToPreviousPage) {\n            e.preventDefault();\n            goToPreviousPage();\n        }\n        else if (shouldJumpBackAnnotation && jumpFromAnnotationRef.current && jumpFromAnnotationRef.current.dest) {\n            e.preventDefault();\n            jumpToAnnotation(jumpFromAnnotationRef.current);\n        }\n    };\n    var handleJumpFromAnnotationChanged = function (target) {\n        jumpFromAnnotationRef.current = target;\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('jumpFromAnnotation', handleJumpFromAnnotationChanged);\n        return function () {\n            store.unsubscribe('jumpFromAnnotation', handleJumpFromAnnotationChanged);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', handleKeydown);\n        containerEle.addEventListener('mouseenter', handleMouseEnter);\n        containerEle.addEventListener('mouseleave', handleMouseLeave);\n        return function () {\n            document.removeEventListener('keydown', handleKeydown);\n            containerEle.removeEventListener('mouseenter', handleMouseEnter);\n            containerEle.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar pageNavigationPlugin = function (props) {\n    var pageNavigationPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var CurrentPageInputDecorator = function () { return React__namespace.createElement(CurrentPageInput, { store: store }); };\n    var CurrentPageLabelDecorator = function (props) { return React__namespace.createElement(CurrentPageLabel, __assign({}, props, { store: store })); };\n    var GoToFirstPageDecorator = function (props) { return React__namespace.createElement(GoToFirstPage, __assign({}, props, { store: store })); };\n    var GoToFirstPageButtonDecorator = function () { return (React__namespace.createElement(GoToFirstPageDecorator, null, function (props) { return React__namespace.createElement(GoToFirstPageButton, __assign({}, props)); })); };\n    var GoToFirstPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToFirstPageDecorator, null, function (p) { return (React__namespace.createElement(GoToFirstPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToLastPageDecorator = function (props) { return React__namespace.createElement(GoToLastPage, __assign({}, props, { store: store })); };\n    var GoToLastPageButtonDecorator = function () { return (React__namespace.createElement(GoToLastPageDecorator, null, function (props) { return React__namespace.createElement(GoToLastPageButton, __assign({}, props)); })); };\n    var GoToLastPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToLastPageDecorator, null, function (p) { return (React__namespace.createElement(GoToLastPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToNextPageDecorator = function (props) { return React__namespace.createElement(GoToNextPage, __assign({}, props, { store: store })); };\n    var GoToNextPageButtonDecorator = function () { return (React__namespace.createElement(GoToNextPageDecorator, null, function (props) { return React__namespace.createElement(GoToNextPageButton, __assign({}, props)); })); };\n    var GoToNextPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToNextPageDecorator, null, function (p) { return (React__namespace.createElement(GoToNextPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var GoToPreviousPageDecorator = function (props) { return React__namespace.createElement(GoToPreviousPage, __assign({}, props, { store: store })); };\n    var GoToPreviousPageButtonDecorator = function () { return (React__namespace.createElement(GoToPreviousPageDecorator, null, function (props) { return React__namespace.createElement(GoToPreviousPageButton, __assign({}, props)); })); };\n    var GoToPreviousPageMenuItemDecorator = function (props) { return (React__namespace.createElement(GoToPreviousPageDecorator, null, function (p) { return (React__namespace.createElement(GoToPreviousPageMenuItem, { isDisabled: p.isDisabled, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var NumberOfPagesDecorator = function (props) { return React__namespace.createElement(NumberOfPages, __assign({}, props, { store: store })); };\n    var onAnnotationLayerRender = function (e) {\n        if (!e.annotations.length) {\n            return;\n        }\n        var links = e.annotations.filter(function (annotation) {\n            return annotation.subtype === 'Link' &&\n                !annotation.url &&\n                !annotation.unsafeUrl &&\n                !annotation.action &&\n                annotation.dest;\n        });\n        if (!links.length) {\n            return;\n        }\n        links.forEach(function (link) {\n            var linkEle = e.container.querySelector(\"a[data-annotation-link-dest=\\\"\".concat(link.dest, \"\\\"]\"));\n            if (linkEle) {\n                linkEle.addEventListener('click', function () {\n                    e.container.style.setProperty('height', '100%');\n                    e.container.style.setProperty('width', '100%');\n                    var annotationLayerRect = e.container.getBoundingClientRect();\n                    e.container.style.removeProperty('height');\n                    e.container.style.removeProperty('width');\n                    var linkRect = linkEle.getBoundingClientRect();\n                    var leftOffset = linkRect.left - annotationLayerRect.left;\n                    var bottomOffset = annotationLayerRect.bottom - linkRect.bottom + linkRect.height;\n                    store.update('jumpFromAnnotation', {\n                        bottomOffset: bottomOffset / e.scale,\n                        dest: link.dest,\n                        leftOffset: leftOffset / e.scale,\n                        pageIndex: e.pageIndex,\n                    });\n                });\n            }\n        });\n    };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        if (!pageNavigationPluginProps.enableShortcuts) {\n            return slot;\n        }\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, doc: props.doc, numPages: props.doc.numPages, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n        },\n        renderViewer: renderViewer,\n        onAnnotationLayerRender: onAnnotationLayerRender,\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n            store.update('numberOfPages', props.doc.numPages);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('currentPage', viewerState.pageIndex);\n            return viewerState;\n        },\n        jumpToPage: function (pageIndex) {\n            var jumpTo = store.get('jumpToPage');\n            if (jumpTo) {\n                jumpTo(pageIndex);\n            }\n        },\n        CurrentPageInput: CurrentPageInputDecorator,\n        CurrentPageLabel: CurrentPageLabelDecorator,\n        GoToFirstPage: GoToFirstPageDecorator,\n        GoToFirstPageButton: GoToFirstPageButtonDecorator,\n        GoToFirstPageMenuItem: GoToFirstPageMenuItemDecorator,\n        GoToLastPage: GoToLastPageDecorator,\n        GoToLastPageButton: GoToLastPageButtonDecorator,\n        GoToLastPageMenuItem: GoToLastPageMenuItemDecorator,\n        GoToNextPage: GoToNextPageDecorator,\n        GoToNextPageButton: GoToNextPageButtonDecorator,\n        GoToNextPageMenuItem: GoToNextPageMenuItemDecorator,\n        GoToPreviousPage: GoToPreviousPageDecorator,\n        GoToPreviousPageButton: GoToPreviousPageButtonDecorator,\n        GoToPreviousPageMenuItem: GoToPreviousPageMenuItemDecorator,\n        NumberOfPages: NumberOfPagesDecorator,\n    };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.NextIcon = NextIcon;\nexports.PreviousIcon = PreviousIcon;\nexports.UpArrowIcon = UpArrowIcon;\nexports.pageNavigationPlugin = pageNavigationPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcGFnZS1uYXZpZ2F0aW9uL2xpYi9janMvcGFnZS1uYXZpZ2F0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLG9EQUFvRCxVQUFVO0FBQ2hHLDZDQUE2Qyx3UkFBd1I7O0FBRXJVLDZCQUE2QixvREFBb0QsVUFBVTtBQUMzRiw2Q0FBNkMsaUlBQWlJOztBQUU5SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsb0RBQW9EO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzREFBc0Q7QUFDM0csdURBQXVELHFKQUFxSjtBQUM1TTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QyxzQ0FBc0M7QUFDbkYsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLHVFQUF1RSxpQkFBaUI7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRUEsZ0NBQWdDLG9EQUFvRCxVQUFVO0FBQzlGLDZDQUE2Qyx3UkFBd1I7O0FBRXJVLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxnSkFBZ0oscUdBQXFHO0FBQ2hULHVGQUF1RixlQUFlLDRCQUE0QjtBQUNsSTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOERBQThELHNEQUFzRDtBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwwSUFBMEk7QUFDdE07O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELCtJQUErSSxvR0FBb0c7QUFDOVMseUZBQXlGLGVBQWUsNEJBQTRCO0FBQ3BJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDZEQUE2RCxzREFBc0Q7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsMklBQTJJO0FBQ3ZNOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwrSUFBK0ksb0dBQW9HO0FBQzlTLG9GQUFvRixlQUFlLDRCQUE0QjtBQUMvSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw2REFBNkQsc0RBQXNEO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHNJQUFzSTtBQUNsTTs7QUFFQSxpQ0FBaUMsb0RBQW9ELFVBQVU7QUFDL0YsNkNBQTZDLG1JQUFtSTs7QUFFaEwsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxtSkFBbUosd0dBQXdHO0FBQ3RULHdGQUF3RixlQUFlLDBCQUEwQjtBQUNqSTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsaUVBQWlFLHNEQUFzRDtBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsOElBQThJO0FBQzFNOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw4QkFBOEI7QUFDL0Q7O0FBRUE7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLDJFQUEyRSx1QkFBdUIsSUFBSSx1QkFBdUIsV0FBVztBQUN4SSx1REFBdUQsNEJBQTRCO0FBQ25GLGtEQUFrRCwwREFBMEQsY0FBYztBQUMxSCx1REFBdUQsbUVBQW1FLFdBQVcsY0FBYztBQUNuSixvREFBb0QsZ0VBQWdFLFdBQVcsY0FBYztBQUM3SSxxREFBcUQsd0ZBQXdGLHNFQUFzRSxZQUFZO0FBQy9OLDREQUE0RCxvRkFBb0YsZ0VBQWdFO0FBQ2hOO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsbURBQW1ELCtEQUErRCxXQUFXLGNBQWM7QUFDM0ksb0RBQW9ELHVGQUF1RixxRUFBcUUsWUFBWTtBQUM1TiwyREFBMkQsbUZBQW1GLCtEQUErRDtBQUM3TTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLG1EQUFtRCwrREFBK0QsV0FBVyxjQUFjO0FBQzNJLG9EQUFvRCx1RkFBdUYscUVBQXFFLFlBQVk7QUFDNU4sMkRBQTJELG1GQUFtRiwrREFBK0Q7QUFDN007QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQix1REFBdUQsbUVBQW1FLFdBQVcsY0FBYztBQUNuSix3REFBd0QsMkZBQTJGLHlFQUF5RSxZQUFZO0FBQ3hPLCtEQUErRCx1RkFBdUYsbUVBQW1FO0FBQ3pOO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsb0RBQW9ELGdFQUFnRSxXQUFXLGNBQWM7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw4RkFBOEY7QUFDaEs7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUI7QUFDckIsZ0JBQWdCO0FBQ2hCLG9CQUFvQjtBQUNwQixtQkFBbUI7QUFDbkIsNEJBQTRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9wYWdlLW5hdmlnYXRpb24vbGliL2Nqcy9wYWdlLW5hdmlnYXRpb24uanM/MmVkNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIERvd25BcnJvd0ljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yLjMyLDIuOTY2aDE5LjQ1MmMwLjU1MiwwLjAwMSwxLDAuNDQ5LDAuOTk5LDEuMDAxYzAsMC4xODItMC4wNSwwLjM2LTAuMTQ0LDAuNTE2TDEyLjksMjAuNTUyXFxuICAgICAgICAgICAgYy0wLjI4NiwwLjQ3Mi0wLjkwMSwwLjYyNC0xLjM3MywwLjMzOGMtMC4xMzgtMC4wODQtMC4yNTQtMC4yLTAuMzM4LTAuMzM4TDEuNDY1LDQuNDgzQzEuMTc5LDQuMDEsMS4zMzEsMy4zOTYsMS44MDQsMy4xMVxcbiAgICAgICAgICAgIEMxLjk2LDMuMDE2LDIuMTM4LDIuOTY2LDIuMzIsMi45NjZ6XCIgfSkpKTsgfTtcblxudmFyIE5leHRJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMC41NDEsNS42MjdMMTEuNjY2LDE4LjJjMC4xODMsMC4yMDcsMC40OTksMC4yMjYsMC43MDYsMC4wNDNjMC4wMTUtMC4wMTQsMC4wMy0wLjAyOCwwLjA0My0wLjA0M1xcbiAgICAgICAgICAgIEwyMy41NDEsNS42MjdcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciB1c2VDdXJyZW50UGFnZSA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdjdXJyZW50UGFnZScpIHx8IDApLCBjdXJyZW50UGFnZSA9IF9hWzBdLCBzZXRDdXJyZW50UGFnZSA9IF9hWzFdO1xuICAgIHZhciBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFBhZ2VJbmRleCkge1xuICAgICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZUluZGV4KTtcbiAgICB9O1xuICAgIGNvcmUudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnY3VycmVudFBhZ2UnLCBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2N1cnJlbnRQYWdlJywgaGFuZGxlQ3VycmVudFBhZ2VDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHsgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlIH07XG59O1xuXG52YXIgdXNlTnVtYmVyT2ZQYWdlcyA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHZhciBfYSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdudW1iZXJPZlBhZ2VzJykgfHwgMCksIG51bWJlck9mUGFnZXMgPSBfYVswXSwgc2V0TnVtYmVyT2ZQYWdlcyA9IF9hWzFdO1xuICAgIHZhciBoYW5kbGVOdW1iZXJPZlBhZ2VzID0gZnVuY3Rpb24gKHRvdGFsKSB7XG4gICAgICAgIHNldE51bWJlck9mUGFnZXModG90YWwpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ251bWJlck9mUGFnZXMnLCBoYW5kbGVOdW1iZXJPZlBhZ2VzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdudW1iZXJPZlBhZ2VzJywgaGFuZGxlTnVtYmVyT2ZQYWdlcyk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7IG51bWJlck9mUGFnZXM6IG51bWJlck9mUGFnZXMgfTtcbn07XG5cbnZhciBDdXJyZW50UGFnZUlucHV0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoJzEnKSwgZWRpdGluZ1BhZ2UgPSBfYlswXSwgc2V0RWRpdGluZ1BhZ2UgPSBfYlsxXTtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSB1c2VDdXJyZW50UGFnZShzdG9yZSkuY3VycmVudFBhZ2U7XG4gICAgdmFyIG51bWJlck9mUGFnZXMgPSB1c2VOdW1iZXJPZlBhZ2VzKHN0b3JlKS5udW1iZXJPZlBhZ2VzO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldEVkaXRpbmdQYWdlKFwiXCIuY29uY2F0KGN1cnJlbnRQYWdlICsgMSkpOyB9LCBbY3VycmVudFBhZ2VdKTtcbiAgICB2YXIgZ290b05leHRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dFBhZ2UgPSBjdXJyZW50UGFnZSArIDE7XG4gICAgICAgIGlmIChuZXh0UGFnZSA8IG51bWJlck9mUGFnZXMpIHtcbiAgICAgICAgICAgIHNldEVkaXRpbmdQYWdlKFwiXCIuY29uY2F0KG5leHRQYWdlICsgMSkpO1xuICAgICAgICAgICAganVtcFRvKG5leHRQYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGdvdG9QcmV2aW91c1BhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1BhZ2UgPSBjdXJyZW50UGFnZSAtIDE7XG4gICAgICAgIGlmIChwcmV2aW91c1BhZ2UgPj0gMCkge1xuICAgICAgICAgICAgc2V0RWRpdGluZ1BhZ2UoXCJcIi5jb25jYXQocHJldmlvdXNQYWdlICsgMSkpO1xuICAgICAgICAgICAganVtcFRvKHByZXZpb3VzUGFnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBqdW1wVG8gPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICB2YXIganVtcFRvUGFnZSA9IHN0b3JlLmdldCgnanVtcFRvUGFnZScpO1xuICAgICAgICBpZiAoanVtcFRvUGFnZSkge1xuICAgICAgICAgICAganVtcFRvUGFnZShwYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGp1bXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdQYWdlID0gcGFyc2VJbnQoZWRpdGluZ1BhZ2UsIDEwKTtcbiAgICAgICAgZWRpdGluZ1BhZ2UgPT09ICcnIHx8IG5ld1BhZ2UgPCAxIHx8IG5ld1BhZ2UgPiBudW1iZXJPZlBhZ2VzXG4gICAgICAgICAgICA/IHNldEVkaXRpbmdQYWdlKFwiXCIuY29uY2F0KGN1cnJlbnRQYWdlICsgMSkpXG4gICAgICAgICAgICA6IGp1bXBUbyhuZXdQYWdlIC0gMSk7XG4gICAgfTtcbiAgICB2YXIga2V5ZG93blBhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgICAgICBnb3RvUHJldmlvdXNQYWdlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgIGdvdG9OZXh0UGFnZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIGp1bXAoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uXG4gICAgICAgID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5lbnRlclBhZ2VOdW1iZXJcbiAgICAgICAgOiAnRW50ZXIgYSBwYWdlIG51bWJlcic7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wYWdlLW5hdmlnYXRpb25fX2N1cnJlbnQtcGFnZS1pbnB1dFwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRleHRCb3gsIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fY3VycmVudC1wYWdlLWlucHV0XCIsIHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogZWRpdGluZ1BhZ2UsIG9uQ2hhbmdlOiBzZXRFZGl0aW5nUGFnZSwgb25LZXlEb3duOiBrZXlkb3duUGFnZSB9KSkpO1xufTtcblxudmFyIEZldGNoTGFiZWxzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGRvYyA9IF9hLmRvYztcbiAgICB2YXIgaXNNb3VudGVkID0gY29yZS51c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgbGFiZWxzOiBbXSxcbiAgICB9KSwgc3RhdHVzID0gX2JbMF0sIHNldFN0YXR1cyA9IF9iWzFdO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jLmdldFBhZ2VMYWJlbHMoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmIHNldFN0YXR1cyh7IGxvYWRpbmc6IGZhbHNlLCBsYWJlbHM6IHJlc3VsdCB8fCBbXSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2RvYy5sb2FkaW5nVGFzay5kb2NJZF0pO1xuICAgIHJldHVybiBzdGF0dXMubG9hZGluZyA/IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKSA6IGNoaWxkcmVuKHN0YXR1cy5sYWJlbHMpO1xufTtcblxudmFyIHVzZURvY3VtZW50ID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9hWzBdLCBzZXRDdXJyZW50RG9jID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2M7XG59O1xuXG52YXIgQ3VycmVudFBhZ2VMYWJlbCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBjdXJyZW50RG9jID0gdXNlRG9jdW1lbnQoc3RvcmUpO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHVzZU51bWJlck9mUGFnZXMoc3RvcmUpLm51bWJlck9mUGFnZXM7XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsIHByb3BzLmN1cnJlbnRQYWdlICsgMSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gY3VycmVudERvYyA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRmV0Y2hMYWJlbHMsIHsgZG9jOiBjdXJyZW50RG9jIH0sIGZ1bmN0aW9uIChsYWJlbHMpIHtcbiAgICAgICAgdmFyIHBhZ2VMYWJlbCA9IGxhYmVscy5sZW5ndGggPT09IG51bWJlck9mUGFnZXMgJiYgbnVtYmVyT2ZQYWdlcyA+IDAgPyBsYWJlbHNbY3VycmVudFBhZ2VdIDogJyc7XG4gICAgICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgbnVtYmVyT2ZQYWdlczogbnVtYmVyT2ZQYWdlcyxcbiAgICAgICAgICAgIHBhZ2VMYWJlbDogcGFnZUxhYmVsLFxuICAgICAgICB9KTtcbiAgICB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKTtcbn07XG5cbnZhciBVcEFycm93SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIxLjc4MywyMS4wMzRIMi4zMzJjLTAuNTUyLDAtMS0wLjQ0OC0xLTFjMC0wLjE4MiwwLjA1LTAuMzYxLDAuMTQ0LTAuNTE3TDExLjIsMy40NDhcXG4gICAgICAgICAgICBjMC4yODYtMC40NzIsMC45MDEtMC42MjQsMS4zNzMtMC4zMzhjMC4xMzgsMC4wODQsMC4yNTQsMC4yLDAuMzM4LDAuMzM4bDkuNzI2LDE2LjA2OWMwLjI4NiwwLjQ3MywwLjEzNCwxLjA4Ny0wLjMzOSwxLjM3M1xcbiAgICAgICAgICAgIEMyMi4xNDMsMjAuOTg0LDIxLjk2NSwyMS4wMzQsMjEuNzgzLDIxLjAzNHpcIiB9KSkpOyB9O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQkMyA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgR29Ub0ZpcnN0UGFnZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Rpc2FibGVkID0gX2EuaXNEaXNhYmxlZCwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wYWdlTmF2aWdhdGlvbiA/IGwxMG4ucGFnZU5hdmlnYXRpb24uZ29Ub0ZpcnN0UGFnZSA6ICdGaXJzdCBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInBhZ2UtbmF2aWdhdGlvbi1maXJzdFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19maXJzdC1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFVwQXJyb3dJY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUJDMgfSkpO1xufTtcblxudmFyIEdvVG9GaXJzdFBhZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSB1c2VDdXJyZW50UGFnZShzdG9yZSkuY3VycmVudFBhZ2U7XG4gICAgdmFyIGdvVG9GaXJzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlKSB7XG4gICAgICAgICAgICBqdW1wVG9QYWdlKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9GaXJzdFBhZ2VCdXR0b24sIHsgaXNEaXNhYmxlZDogcHJvcHMuaXNEaXNhYmxlZCwgb25DbGljazogcHJvcHMub25DbGljayB9KSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgaXNEaXNhYmxlZDogY3VycmVudFBhZ2UgPT09IDAsXG4gICAgICAgIG9uQ2xpY2s6IGdvVG9GaXJzdFBhZ2UsXG4gICAgfSk7XG59O1xuXG52YXIgR29Ub0ZpcnN0UGFnZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvRmlyc3RQYWdlIDogJ0ZpcnN0IHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFVwQXJyb3dJY29uLCBudWxsKSwgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fZmlyc3QtbWVudVwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQkMiA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgR29Ub0xhc3RQYWdlQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvTGFzdFBhZ2UgOiAnTGFzdCBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInBhZ2UtbmF2aWdhdGlvbi1sYXN0XCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogbGFiZWwsIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsIHRlc3RJZDogXCJwYWdlLW5hdmlnYXRpb25fX2xhc3QtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3duQXJyb3dJY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUJDIgfSkpO1xufTtcblxudmFyIEdvVG9MYXN0UGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHVzZU51bWJlck9mUGFnZXMoc3RvcmUpLm51bWJlck9mUGFnZXM7XG4gICAgdmFyIGdvVG9MYXN0UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UobnVtYmVyT2ZQYWdlcyAtIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9MYXN0UGFnZUJ1dHRvbiwgeyBpc0Rpc2FibGVkOiBwcm9wcy5pc0Rpc2FibGVkLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc0Rpc2FibGVkOiBjdXJyZW50UGFnZSArIDEgPj0gbnVtYmVyT2ZQYWdlcyxcbiAgICAgICAgb25DbGljazogZ29Ub0xhc3RQYWdlLFxuICAgIH0pO1xufTtcblxudmFyIEdvVG9MYXN0UGFnZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBfYS5pc0Rpc2FibGVkLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnBhZ2VOYXZpZ2F0aW9uID8gbDEwbi5wYWdlTmF2aWdhdGlvbi5nb1RvTGFzdFBhZ2UgOiAnTGFzdCBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEb3duQXJyb3dJY29uLCBudWxsKSwgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fbGFzdC1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCQxID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBHb1RvTmV4dFBhZ2VCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IF9hLmlzRGlzYWJsZWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb24gPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmdvVG9OZXh0UGFnZSA6ICdOZXh0IHBhZ2UnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicGFnZS1uYXZpZ2F0aW9uLW5leHRcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fbmV4dC1idXR0b25cIiwgb25DbGljazogb25DbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE5leHRJY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUJDEgfSkpO1xufTtcblxudmFyIEdvVG9OZXh0UGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHVzZUN1cnJlbnRQYWdlKHN0b3JlKS5jdXJyZW50UGFnZTtcbiAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IHVzZU51bWJlck9mUGFnZXMoc3RvcmUpLm51bWJlck9mUGFnZXM7XG4gICAgdmFyIGdvVG9OZXh0UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UoY3VycmVudFBhZ2UgKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2VCdXR0b24sIHsgb25DbGljazogcHJvcHMub25DbGljaywgaXNEaXNhYmxlZDogcHJvcHMuaXNEaXNhYmxlZCB9KSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgaXNEaXNhYmxlZDogY3VycmVudFBhZ2UgKyAxID49IG51bWJlck9mUGFnZXMsXG4gICAgICAgIG9uQ2xpY2s6IGdvVG9OZXh0UGFnZSxcbiAgICB9KTtcbn07XG5cbnZhciBHb1RvTmV4dFBhZ2VNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Rpc2FibGVkID0gX2EuaXNEaXNhYmxlZCwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wYWdlTmF2aWdhdGlvbiA/IGwxMG4ucGFnZU5hdmlnYXRpb24uZ29Ub05leHRQYWdlIDogJ05leHQgcGFnZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTmV4dEljb24sIG51bGwpLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19uZXh0LW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIFByZXZpb3VzSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIzLjUzNSwxOC4zNzNMMTIuNDA5LDUuOGMtMC4xODMtMC4yMDctMC40OTktMC4yMjYtMC43MDYtMC4wNDNDMTEuNjg4LDUuNzcsMTEuNjc0LDUuNzg1LDExLjY2LDUuOFxcbiAgICAgICAgICAgIEwwLjUzNSwxOC4zNzNcIiB9KSkpOyB9O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIEdvVG9QcmV2aW91c1BhZ2VCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IF9hLmlzRGlzYWJsZWQsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucGFnZU5hdmlnYXRpb25cbiAgICAgICAgPyBsMTBuLnBhZ2VOYXZpZ2F0aW9uLmdvVG9QcmV2aW91c1BhZ2VcbiAgICAgICAgOiAnUHJldmlvdXMgcGFnZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJwYWdlLW5hdmlnYXRpb24tcHJldmlvdXNcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCwgdGVzdElkOiBcInBhZ2UtbmF2aWdhdGlvbl9fcHJldmlvdXMtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmV2aW91c0ljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpO1xufTtcblxudmFyIEdvVG9QcmV2aW91c1BhZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgc3RvcmUgPSBfYS5zdG9yZSwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSB1c2VDdXJyZW50UGFnZShzdG9yZSkuY3VycmVudFBhZ2U7XG4gICAgdmFyIGdvVG9QcmV2aW91c1BhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlKSB7XG4gICAgICAgICAgICBqdW1wVG9QYWdlKGN1cnJlbnRQYWdlIC0gMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbiwgeyBpc0Rpc2FibGVkOiBwcm9wcy5pc0Rpc2FibGVkLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc0Rpc2FibGVkOiBjdXJyZW50UGFnZSA8PSAwLFxuICAgICAgICBvbkNsaWNrOiBnb1RvUHJldmlvdXNQYWdlLFxuICAgIH0pO1xufTtcblxudmFyIEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc0Rpc2FibGVkID0gX2EuaXNEaXNhYmxlZCwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi5wYWdlTmF2aWdhdGlvblxuICAgICAgICA/IGwxMG4ucGFnZU5hdmlnYXRpb24uZ29Ub1ByZXZpb3VzUGFnZVxuICAgICAgICA6ICdQcmV2aW91cyBwYWdlJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGljb246IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmV2aW91c0ljb24sIG51bGwpLCBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLCB0ZXN0SWQ6IFwicGFnZS1uYXZpZ2F0aW9uX19wcmV2aW91cy1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciBOdW1iZXJPZlBhZ2VzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIG51bWJlck9mUGFnZXMgPSB1c2VOdW1iZXJPZlBhZ2VzKHN0b3JlKS5udW1iZXJPZlBhZ2VzO1xuICAgIHJldHVybiBjaGlsZHJlbiA/IGNoaWxkcmVuKHsgbnVtYmVyT2ZQYWdlczogbnVtYmVyT2ZQYWdlcyB9KSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLCBudW1iZXJPZlBhZ2VzKTtcbn07XG5cbnZhciBTaG9ydGN1dEhhbmRsZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gX2EuY29udGFpbmVyUmVmOyBfYS5kb2M7IHZhciBudW1QYWdlcyA9IF9hLm51bVBhZ2VzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBqdW1wRnJvbUFubm90YXRpb25SZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihzdG9yZS5nZXQoJ2p1bXBGcm9tQW5ub3RhdGlvbicpIHx8IHtcbiAgICAgICAgYm90dG9tT2Zmc2V0OiAwLFxuICAgICAgICBkZXN0OiAnJyxcbiAgICAgICAgbGVmdE9mZnNldDogMCxcbiAgICAgICAgcGFnZUluZGV4OiAtMSxcbiAgICB9KTtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSB1c2VDdXJyZW50UGFnZShzdG9yZSkuY3VycmVudFBhZ2U7XG4gICAgdmFyIGN1cnJlbnRQYWdlUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoY3VycmVudFBhZ2UpO1xuICAgIGN1cnJlbnRQYWdlUmVmLmN1cnJlbnQgPSBjdXJyZW50UGFnZTtcbiAgICB2YXIgaXNNb3VzZUluc2lkZVJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgaGFuZGxlTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNNb3VzZUluc2lkZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVNb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpc01vdXNlSW5zaWRlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICAgIHZhciBnb1RvTmV4dFBhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIHZhciB0YXJnZXRQYWdlID0gY3VycmVudFBhZ2VSZWYuY3VycmVudCArIDE7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlICYmIHRhcmdldFBhZ2UgPCBudW1QYWdlcykge1xuICAgICAgICAgICAganVtcFRvUGFnZSh0YXJnZXRQYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGdvVG9QcmV2aW91c1BhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIHZhciB0YXJnZXRQYWdlID0gY3VycmVudFBhZ2VSZWYuY3VycmVudCAtIDE7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlICYmIHRhcmdldFBhZ2UgPj0gMCkge1xuICAgICAgICAgICAganVtcFRvUGFnZSh0YXJnZXRQYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGp1bXBUb0Fubm90YXRpb24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciBqdW1wVG9EZXN0aW5hdGlvbiA9IHN0b3JlLmdldCgnanVtcFRvRGVzdGluYXRpb24nKTtcbiAgICAgICAgaWYgKGp1bXBUb0Rlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcGFnZUluZGV4ID0gdGFyZ2V0LnBhZ2VJbmRleCwgYm90dG9tT2Zmc2V0ID0gdGFyZ2V0LmJvdHRvbU9mZnNldCwgbGVmdE9mZnNldCA9IHRhcmdldC5sZWZ0T2Zmc2V0O1xuICAgICAgICAgICAganVtcFRvRGVzdGluYXRpb24ocGFnZUluZGV4LCBib3R0b21PZmZzZXQsIGxlZnRPZmZzZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlS2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb250YWluZXJFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIHNob3VsZEhhbmRsZVNob3J0Y3V0cyA9IGlzTW91c2VJbnNpZGVSZWYuY3VycmVudCB8fCAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSB8fCAhc2hvdWxkSGFuZGxlU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNob3VsZEdvVG9OZXh0UGFnZSA9IChlLmFsdEtleSAmJiBlLmtleSA9PT0gJ0Fycm93RG93bicpIHx8ICghZS5zaGlmdEtleSAmJiAhZS5hbHRLZXkgJiYgZS5rZXkgPT09ICdQYWdlRG93bicpO1xuICAgICAgICB2YXIgc2hvdWxkR29Ub1ByZXZpb3VzUGFnZSA9IChlLmFsdEtleSAmJiBlLmtleSA9PT0gJ0Fycm93VXAnKSB8fCAoIWUuc2hpZnRLZXkgJiYgIWUuYWx0S2V5ICYmIGUua2V5ID09PSAnUGFnZVVwJyk7XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5ICYmICFlLmN0cmxLZXkgOiBlLmN0cmxLZXk7XG4gICAgICAgIHZhciBzaG91bGRKdW1wQmFja0Fubm90YXRpb24gPSBpc0NvbW1hbmRQcmVzc2VkICYmIGUua2V5ID09PSAnQXJyb3dVcCc7XG4gICAgICAgIGlmIChzaG91bGRHb1RvTmV4dFBhZ2UpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGdvVG9OZXh0UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNob3VsZEdvVG9QcmV2aW91c1BhZ2UpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGdvVG9QcmV2aW91c1BhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaG91bGRKdW1wQmFja0Fubm90YXRpb24gJiYganVtcEZyb21Bbm5vdGF0aW9uUmVmLmN1cnJlbnQgJiYganVtcEZyb21Bbm5vdGF0aW9uUmVmLmN1cnJlbnQuZGVzdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAganVtcFRvQW5ub3RhdGlvbihqdW1wRnJvbUFubm90YXRpb25SZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBoYW5kbGVKdW1wRnJvbUFubm90YXRpb25DaGFuZ2VkID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBqdW1wRnJvbUFubm90YXRpb25SZWYuY3VycmVudCA9IHRhcmdldDtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdqdW1wRnJvbUFubm90YXRpb24nLCBoYW5kbGVKdW1wRnJvbUFubm90YXRpb25DaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdqdW1wRnJvbUFubm90YXRpb24nLCBoYW5kbGVKdW1wRnJvbUFubm90YXRpb25DaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xuICAgICAgICBjb250YWluZXJFbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGhhbmRsZU1vdXNlRW50ZXIpO1xuICAgICAgICBjb250YWluZXJFbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhhbmRsZU1vdXNlTGVhdmUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xuICAgICAgICAgICAgY29udGFpbmVyRWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyKTtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBwYWdlTmF2aWdhdGlvblBsdWdpbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBwYWdlTmF2aWdhdGlvblBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlIH0sIHByb3BzKTsgfSwgW10pO1xuICAgIHZhciBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlLmNyZWF0ZVN0b3JlKCk7IH0sIFtdKTtcbiAgICB2YXIgQ3VycmVudFBhZ2VJbnB1dERlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDdXJyZW50UGFnZUlucHV0LCB7IHN0b3JlOiBzdG9yZSB9KTsgfTtcbiAgICB2YXIgQ3VycmVudFBhZ2VMYWJlbERlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEN1cnJlbnRQYWdlTGFiZWwsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBHb1RvRmlyc3RQYWdlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0ZpcnN0UGFnZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgdmFyIEdvVG9GaXJzdFBhZ2VCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9GaXJzdFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9GaXJzdFBhZ2VCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KSk7IH07XG4gICAgdmFyIEdvVG9GaXJzdFBhZ2VNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvRmlyc3RQYWdlRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvRmlyc3RQYWdlTWVudUl0ZW0sIHsgaXNEaXNhYmxlZDogcC5pc0Rpc2FibGVkLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTGFzdFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9MYXN0UGFnZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub0xhc3RQYWdlTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTGFzdFBhZ2VNZW51SXRlbSwgeyBpc0Rpc2FibGVkOiBwLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2UsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub05leHRQYWdlQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfSkpOyB9O1xuICAgIHZhciBHb1RvTmV4dFBhZ2VNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvTmV4dFBhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZU1lbnVJdGVtLCB7IGlzRGlzYWJsZWQ6IHAuaXNEaXNhYmxlZCwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgdmFyIEdvVG9QcmV2aW91c1BhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvUHJldmlvdXNQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub1ByZXZpb3VzUGFnZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2VEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSwgeyBpc0Rpc2FibGVkOiBwLmlzRGlzYWJsZWQsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBOdW1iZXJPZlBhZ2VzRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTnVtYmVyT2ZQYWdlcywgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgdmFyIG9uQW5ub3RhdGlvbkxheWVyUmVuZGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLmFubm90YXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5rcyA9IGUuYW5ub3RhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbi5zdWJ0eXBlID09PSAnTGluaycgJiZcbiAgICAgICAgICAgICAgICAhYW5ub3RhdGlvbi51cmwgJiZcbiAgICAgICAgICAgICAgICAhYW5ub3RhdGlvbi51bnNhZmVVcmwgJiZcbiAgICAgICAgICAgICAgICAhYW5ub3RhdGlvbi5hY3Rpb24gJiZcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLmRlc3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWxpbmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgIHZhciBsaW5rRWxlID0gZS5jb250YWluZXIucXVlcnlTZWxlY3RvcihcImFbZGF0YS1hbm5vdGF0aW9uLWxpbmstZGVzdD1cXFwiXCIuY29uY2F0KGxpbmsuZGVzdCwgXCJcXFwiXVwiKSk7XG4gICAgICAgICAgICBpZiAobGlua0VsZSkge1xuICAgICAgICAgICAgICAgIGxpbmtFbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCAnMTAwJScpO1xuICAgICAgICAgICAgICAgICAgICBlLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCAnMTAwJScpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYW5ub3RhdGlvbkxheWVyUmVjdCA9IGUuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBlLmNvbnRhaW5lci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnaGVpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGUuY29udGFpbmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd3aWR0aCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlua1JlY3QgPSBsaW5rRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdE9mZnNldCA9IGxpbmtSZWN0LmxlZnQgLSBhbm5vdGF0aW9uTGF5ZXJSZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBib3R0b21PZmZzZXQgPSBhbm5vdGF0aW9uTGF5ZXJSZWN0LmJvdHRvbSAtIGxpbmtSZWN0LmJvdHRvbSArIGxpbmtSZWN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wRnJvbUFubm90YXRpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b21PZmZzZXQ6IGJvdHRvbU9mZnNldCAvIGUuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0OiBsaW5rLmRlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0T2Zmc2V0OiBsZWZ0T2Zmc2V0IC8gZS5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogZS5wYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIHNsb3QgPSBwcm9wcy5zbG90O1xuICAgICAgICBpZiAoIXBhZ2VOYXZpZ2F0aW9uUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlU2xvdCA9IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3J0Y3V0SGFuZGxlciwgeyBjb250YWluZXJSZWY6IHByb3BzLmNvbnRhaW5lclJlZiwgZG9jOiBwcm9wcy5kb2MsIG51bVBhZ2VzOiBwcm9wcy5kb2MubnVtUGFnZXMsIHN0b3JlOiBzdG9yZSB9KSxcbiAgICAgICAgICAgICAgICBzbG90LmNoaWxkcmVuKSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc2xvdCksIHVwZGF0ZVNsb3QpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wVG9EZXN0aW5hdGlvbicsIHBsdWdpbkZ1bmN0aW9ucy5qdW1wVG9EZXN0aW5hdGlvbik7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2p1bXBUb1BhZ2UnLCBwbHVnaW5GdW5jdGlvbnMuanVtcFRvUGFnZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclZpZXdlcjogcmVuZGVyVmlld2VyLFxuICAgICAgICBvbkFubm90YXRpb25MYXllclJlbmRlcjogb25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXIsXG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnbnVtYmVyT2ZQYWdlcycsIHByb3BzLmRvYy5udW1QYWdlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVmlld2VyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uICh2aWV3ZXJTdGF0ZSkge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdjdXJyZW50UGFnZScsIHZpZXdlclN0YXRlLnBhZ2VJbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gdmlld2VyU3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGp1bXBUb1BhZ2U6IGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBqdW1wVG8gPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgICAgIGlmIChqdW1wVG8pIHtcbiAgICAgICAgICAgICAgICBqdW1wVG8ocGFnZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQ3VycmVudFBhZ2VJbnB1dDogQ3VycmVudFBhZ2VJbnB1dERlY29yYXRvcixcbiAgICAgICAgQ3VycmVudFBhZ2VMYWJlbDogQ3VycmVudFBhZ2VMYWJlbERlY29yYXRvcixcbiAgICAgICAgR29Ub0ZpcnN0UGFnZTogR29Ub0ZpcnN0UGFnZURlY29yYXRvcixcbiAgICAgICAgR29Ub0ZpcnN0UGFnZUJ1dHRvbjogR29Ub0ZpcnN0UGFnZUJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgR29Ub0ZpcnN0UGFnZU1lbnVJdGVtOiBHb1RvRmlyc3RQYWdlTWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9MYXN0UGFnZTogR29Ub0xhc3RQYWdlRGVjb3JhdG9yLFxuICAgICAgICBHb1RvTGFzdFBhZ2VCdXR0b246IEdvVG9MYXN0UGFnZUJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgR29Ub0xhc3RQYWdlTWVudUl0ZW06IEdvVG9MYXN0UGFnZU1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBHb1RvTmV4dFBhZ2U6IEdvVG9OZXh0UGFnZURlY29yYXRvcixcbiAgICAgICAgR29Ub05leHRQYWdlQnV0dG9uOiBHb1RvTmV4dFBhZ2VCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIEdvVG9OZXh0UGFnZU1lbnVJdGVtOiBHb1RvTmV4dFBhZ2VNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgR29Ub1ByZXZpb3VzUGFnZTogR29Ub1ByZXZpb3VzUGFnZURlY29yYXRvcixcbiAgICAgICAgR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbjogR29Ub1ByZXZpb3VzUGFnZUJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtOiBHb1RvUHJldmlvdXNQYWdlTWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgICAgIE51bWJlck9mUGFnZXM6IE51bWJlck9mUGFnZXNEZWNvcmF0b3IsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuRG93bkFycm93SWNvbiA9IERvd25BcnJvd0ljb247XG5leHBvcnRzLk5leHRJY29uID0gTmV4dEljb247XG5leHBvcnRzLlByZXZpb3VzSWNvbiA9IFByZXZpb3VzSWNvbjtcbmV4cG9ydHMuVXBBcnJvd0ljb24gPSBVcEFycm93SWNvbjtcbmV4cG9ydHMucGFnZU5hdmlnYXRpb25QbHVnaW4gPSBwYWdlTmF2aWdhdGlvblBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/page-navigation/lib/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/page-navigation/lib/index.js ***!
  \*********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/page-navigation.js */ \"./node_modules/@react-pdf-viewer/page-navigation/lib/cjs/page-navigation.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcGFnZS1uYXZpZ2F0aW9uL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksbUpBQW9EO0FBQ3hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9wYWdlLW5hdmlnYXRpb24vbGliL2luZGV4LmpzPzk3MWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3BhZ2UtbmF2aWdhdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wYWdlLW5hdmlnYXRpb24uanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/page-navigation/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/print/lib/cjs/print.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/print/lib/cjs/print.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar reactDom = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar getAllPagesNumbers = function (doc) {\n    return Array(doc.numPages)\n        .fill(0)\n        .map(function (_, i) { return i; });\n};\n\nvar generateRange = function (min, max) {\n    return Array(max - min + 1)\n        .fill(0)\n        .map(function (_, i) { return min + i; });\n};\nvar removeDuplicate = function (arr) { return arr.filter(function (i) { return arr.indexOf(i) === arr.lastIndexOf(i); }); };\nvar getCustomPagesNumbers = function (customPages) {\n    return function (doc) {\n        var results = [];\n        customPages\n            .replace(/\\s+/g, '')\n            .split(',')\n            .forEach(function (part) {\n            var range = part\n                .split('-')\n                .map(function (c) { return parseInt(c, 10); })\n                .filter(function (c) { return Number.isInteger(c); });\n            if (range.length === 1) {\n                results.push(range[0] - 1);\n            }\n            else if (range.length === 2) {\n                results.push.apply(results, generateRange(range[0] - 1, range[1] - 1));\n            }\n        });\n        return removeDuplicate(results).filter(function (i) { return i >= 0 && i < doc.numPages; });\n    };\n};\n\nvar getEvenPagesNumbers = function (doc) {\n    return Array(doc.numPages)\n        .fill(0)\n        .map(function (_, i) { return i; })\n        .filter(function (i) { return (i + 1) % 2 === 0; });\n};\n\nvar getOddPagesNumbers = function (doc) {\n    return Array(doc.numPages)\n        .fill(0)\n        .map(function (_, i) { return i; })\n        .filter(function (i) { return (i + 1) % 2 === 1; });\n};\n\nvar PrintIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\\n            M3.5,8.499\\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\\n            M14.5,0.499v4h4\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar PrintButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+P' : 'Ctrl+P') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"print\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"print__button\", onClick: onClick },\n            React__namespace.createElement(PrintIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar PrintStatus;\n(function (PrintStatus) {\n    PrintStatus[\"CheckingPermission\"] = \"CheckingPermission\";\n    PrintStatus[\"Inactive\"] = \"Inactive\";\n    PrintStatus[\"Preparing\"] = \"Preparing\";\n    PrintStatus[\"Cancelled\"] = \"Cancelled\";\n    PrintStatus[\"Ready\"] = \"Ready\";\n})(PrintStatus || (PrintStatus = {}));\n\nvar Print = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var print = function () {\n        store.update('printStatus', PrintStatus.CheckingPermission);\n    };\n    var render = children || PrintButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: print,\n    });\n};\n\nvar PERMISSION_PRINT = 4;\nvar PERMISSION_PRINT_HIGHT_QUALITY = 2048;\nvar CheckPrintPermission = function (_a) {\n    var doc = _a.doc, store = _a.store;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var _b = React__namespace.useState(true), isAllowed = _b[0], setIsAllowed = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPermissions().then(function (permissions) {\n            var canPrint = permissions === null ||\n                permissions.includes(PERMISSION_PRINT) ||\n                permissions.includes(PERMISSION_PRINT_HIGHT_QUALITY);\n            canPrint ? store.update('printStatus', PrintStatus.Preparing) : setIsAllowed(false);\n        });\n    }, []);\n    return isAllowed ? (React__namespace.createElement(React__namespace.Fragment, null)) : (React__namespace.createElement(core.Modal, { ariaControlsSuffix: \"print-permission\", closeOnClickOutside: false, closeOnEscape: false, content: function (toggle) {\n            var close = function () {\n                toggle();\n                store.update('printStatus', PrintStatus.Cancelled);\n            };\n            return (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(\"div\", { className: \"rpv-print__permission-body\" }, l10n && l10n.print\n                    ? l10n.print.disallowPrint\n                    : 'The document does not allow to print'),\n                React__namespace.createElement(\"div\", { className: \"rpv-print__permission-footer\" },\n                    React__namespace.createElement(core.Button, { onClick: close }, l10n && l10n.print ? l10n.print.close : 'Close'))));\n        }, isOpened: true }));\n};\n\nvar PrintProgress = function (_a) {\n    var numLoadedPages = _a.numLoadedPages, numPages = _a.numPages, onCancel = _a.onCancel;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var progress = Math.floor((numLoadedPages * 100) / numPages);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-print__progress\" },\n        React__namespace.createElement(\"div\", { className: core.classNames({\n                'rpv-print__progress-body': true,\n                'rpv-print__progress-body--rtl': isRtl,\n            }) },\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-message\" }, l10n && l10n.print\n                ? l10n.print.preparingDocument\n                : 'Preparing document ...'),\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-bar\" },\n                React__namespace.createElement(core.ProgressBar, { progress: progress })),\n            React__namespace.createElement(core.Button, { onClick: onCancel }, l10n && l10n.print ? l10n.print.cancel : 'Cancel'))));\n};\n\nvar isRunningInJest = function () { return typeof process !== 'undefined' && process.env.JEST_WORKER_ID !== undefined; };\n\nvar PageThumbnail = function (_a) {\n    var canvas = _a.canvas, page = _a.page, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, rotation = _a.rotation, onLoad = _a.onLoad;\n    var isMounted = core.useIsMounted();\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var testWithJest = React__namespace.useMemo(function () { return isRunningInJest(); }, []);\n    var handleImageLoad = function () {\n        if (!testWithJest) {\n            onLoad();\n        }\n    };\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var printUnit = 150 / 72;\n        canvas.height = Math.floor(pageHeight * printUnit);\n        canvas.width = Math.floor(pageWidth * printUnit);\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.save();\n        canvasContext.fillStyle = 'rgb(255, 255, 255)';\n        canvasContext.fillRect(0, 0, canvas.width, canvas.height);\n        canvasContext.restore();\n        var viewport = page.getViewport({ rotation: rotation, scale: 1 });\n        renderTask.current = page.render({\n            canvasContext: canvasContext,\n            intent: 'print',\n            transform: [printUnit, 0, 0, printUnit, 0, 0],\n            viewport: viewport,\n        });\n        renderTask.current.promise.then(function () {\n            if ('toBlob' in canvas && 'createObjectURL' in URL) {\n                canvas.toBlob(function (blob) {\n                    isMounted.current && setSrc(URL.createObjectURL(blob));\n                    testWithJest && onLoad();\n                });\n            }\n            else {\n                isMounted.current && setSrc(canvas.toDataURL());\n                testWithJest && onLoad();\n            }\n        }, function () {\n        });\n    }, []);\n    return (src && (React__namespace.createElement(\"div\", { className: \"rpv-print__page\" },\n        React__namespace.createElement(\"img\", { \"data-testid\": \"print__thumbnail-\".concat(pageIndex), src: src, onLoad: handleImageLoad }))));\n};\n\nvar PageThumbnailContainer = function (_a) {\n    var canvas = _a.canvas, doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageWidth = _a.pageWidth, rotation = _a.rotation, shouldRender = _a.shouldRender, onLoad = _a.onLoad;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    React__namespace.useEffect(function () {\n        if (shouldRender) {\n            core.getPage(doc, pageIndex).then(function (pdfPage) {\n                var viewport = pdfPage.getViewport({ scale: 1 });\n                isMounted.current &&\n                    setPageSize({\n                        height: viewport.height,\n                        page: pdfPage,\n                        viewportRotation: viewport.rotation,\n                        width: viewport.width,\n                    });\n            });\n        }\n    }, [shouldRender]);\n    var rotationNumber = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    return (page && (React__namespace.createElement(PageThumbnail, { canvas: canvas, page: page, pageHeight: isVertical ? height : width, pageIndex: pageIndex, pageWidth: isVertical ? width : height, rotation: rotationNumber, onLoad: onLoad })));\n};\n\nvar PrintZone = function (_a) {\n    var doc = _a.doc, numLoadedPages = _a.numLoadedPages, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, printPages = _a.printPages, printStatus = _a.printStatus, rotation = _a.rotation, onCancel = _a.onCancel, onLoad = _a.onLoad;\n    var canvas = React__namespace.useMemo(function () { return document.createElement('canvas'); }, []);\n    var container = React__namespace.useMemo(function () {\n        var zoneEle = document.querySelector('.rpv-print__zone');\n        if (zoneEle) {\n            return zoneEle;\n        }\n        var div = document.createElement('div');\n        div.classList.add('rpv-print__zone');\n        div.setAttribute('data-testid', 'print__zone');\n        document.body.appendChild(div);\n        return div;\n    }, []);\n    React__namespace.useEffect(function () {\n        if (printStatus === PrintStatus.Ready) {\n            document.documentElement.classList.add('rpv-print__html-printing');\n            document.body.classList.add('rpv-print__body-printing');\n            window.print();\n        }\n        var handler = function () {\n            if (printStatus === PrintStatus.Ready) {\n                document.documentElement.classList.remove('rpv-print__html-printing');\n                document.body.classList.remove('rpv-print__body-printing');\n                var zones = document.querySelectorAll('.rpv-print__zone');\n                if (zones) {\n                    zones.forEach(function (zoneEle) {\n                        zoneEle.parentElement.removeChild(zoneEle);\n                    });\n                }\n                canvas.height = 0;\n                canvas.width = 0;\n                document.removeEventListener('mousemove', handler);\n                onCancel();\n            }\n        };\n        document.addEventListener('mousemove', handler);\n        return function () { return document.removeEventListener('mousemove', handler); };\n    }, [printStatus]);\n    return reactDom.createPortal(React__namespace.createElement(React__namespace.Fragment, null,\n        printPages.map(function (pageIndex, loopIndex) { return (React__namespace.createElement(PageThumbnailContainer, { key: pageIndex, canvas: canvas, doc: doc, pageHeight: pageHeight, pageIndex: pageIndex, pageRotation: pagesRotation.has(pageIndex) ? pagesRotation.get(pageIndex) : 0, pageWidth: pageWidth, rotation: rotation, shouldRender: loopIndex === numLoadedPages, onLoad: onLoad })); }),\n        React__namespace.createElement(\"style\", { dangerouslySetInnerHTML: {\n                __html: \"@page { size: \".concat(pageWidth, \"pt \").concat(pageHeight, \"pt }\"),\n            } })), container);\n};\n\nvar PrintContainer = function (_a) {\n    var doc = _a.doc, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, renderProgressBar = _a.renderProgressBar, rotation = _a.rotation, setPages = _a.setPages, store = _a.store;\n    var _b = React__namespace.useState(PrintStatus.Inactive), printStatus = _b[0], setPrintStatus = _b[1];\n    var _c = React__namespace.useState(0), numLoadedPagesForPrint = _c[0], setNumLoadedPagesForPrint = _c[1];\n    var printPages = React__namespace.useMemo(function () {\n        var numPages = doc.numPages;\n        return setPages(doc).filter(function (index) { return index >= 0 && index < numPages; });\n    }, [doc, setPages]);\n    var numPrintPages = printPages.length;\n    var cancelPrinting = function () {\n        setNumLoadedPagesForPrint(0);\n        setPrintStatus(PrintStatus.Inactive);\n    };\n    var handlePrintStatus = function (status) { return setPrintStatus(status); };\n    var onLoadPage = function () {\n        var total = numLoadedPagesForPrint + 1;\n        if (total <= numPrintPages) {\n            setNumLoadedPagesForPrint(total);\n            total === numPrintPages && setPrintStatus(PrintStatus.Ready);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('printStatus', handlePrintStatus);\n        return function () {\n            store.unsubscribe('printStatus', handlePrintStatus);\n        };\n    }, []);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        printStatus === PrintStatus.CheckingPermission && React__namespace.createElement(CheckPrintPermission, { doc: doc, store: store }),\n        printStatus === PrintStatus.Preparing &&\n            (renderProgressBar ? (renderProgressBar(numLoadedPagesForPrint, numPrintPages, cancelPrinting)) : (React__namespace.createElement(PrintProgress, { numLoadedPages: numLoadedPagesForPrint, numPages: numPrintPages, onCancel: cancelPrinting }))),\n        (printStatus === PrintStatus.Preparing || printStatus === PrintStatus.Ready) &&\n            numLoadedPagesForPrint <= numPrintPages && (React__namespace.createElement(PrintZone, { doc: doc, numLoadedPages: numLoadedPagesForPrint, pagesRotation: pagesRotation, pageHeight: pageHeight, pageWidth: pageWidth, printPages: printPages, printStatus: printStatus, rotation: rotation, onCancel: cancelPrinting, onLoad: onLoadPage }))));\n};\n\nvar PrintMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(PrintIcon, null), testId: \"print__menu\", onClick: onClick }, label));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey || e.key !== 'p') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        e.preventDefault();\n        store.update('printStatus', PrintStatus.Preparing);\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar printPlugin = function (props) {\n    var printPluginProps = React__namespace.useMemo(function () {\n        return Object.assign({}, {\n            enableShortcuts: true,\n            setPages: function (doc) {\n                return Array(doc.numPages)\n                    .fill(0)\n                    .map(function (_, i) { return i; });\n            },\n        }, props);\n    }, []);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            printStatus: PrintStatus.Inactive,\n        });\n    }, []);\n    var print = function () {\n        store.update('printStatus', PrintStatus.CheckingPermission);\n    };\n    var PrintDecorator = function (props) { return (React__namespace.createElement(Print, __assign({ enableShortcuts: printPluginProps.enableShortcuts }, props, { store: store }))); };\n    var PrintButtonDecorator = function () { return React__namespace.createElement(PrintDecorator, null, function (props) { return React__namespace.createElement(PrintButton, __assign({}, props)); }); };\n    var PrintMenuItemDecorator = function (props) { return (React__namespace.createElement(PrintDecorator, null, function (p) { return (React__namespace.createElement(PrintMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var renderViewer = function (renderViewerProps) {\n        var slot = renderViewerProps.slot;\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                printPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: renderViewerProps.containerRef, store: store })),\n                React__namespace.createElement(PrintContainer, { doc: renderViewerProps.doc, pagesRotation: renderViewerProps.pagesRotation, pageHeight: renderViewerProps.pageHeight, pageWidth: renderViewerProps.pageWidth, renderProgressBar: props === null || props === void 0 ? void 0 : props.renderProgressBar, rotation: renderViewerProps.rotation, setPages: printPluginProps.setPages, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    var setPages = function (printPages) {\n        printPluginProps.setPages = printPages;\n    };\n    return {\n        print: print,\n        renderViewer: renderViewer,\n        Print: PrintDecorator,\n        PrintButton: PrintButtonDecorator,\n        PrintMenuItem: PrintMenuItemDecorator,\n        setPages: setPages,\n    };\n};\n\nexports.PrintIcon = PrintIcon;\nexports.getAllPagesNumbers = getAllPagesNumbers;\nexports.getCustomPagesNumbers = getCustomPagesNumbers;\nexports.getEvenPagesNumbers = getEvenPagesNumbers;\nexports.getOddPagesNumbers = getOddPagesNumbers;\nexports.printPlugin = printPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQvbGliL2Nqcy9wcmludC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTztBQUMzQixlQUFlLG1CQUFPLENBQUMsb0RBQVc7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFdBQVc7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBLHVDQUF1QyxpQ0FBaUMsK0NBQStDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5QkFBeUI7QUFDN0QsdUNBQXVDLDZCQUE2QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsOERBQThELG9DQUFvQztBQUNsRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixXQUFXO0FBQzFDLCtCQUErQiwyQkFBMkI7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFdBQVc7QUFDMUMsK0JBQStCLDJCQUEyQjtBQUMxRDs7QUFFQSw4QkFBOEIsb0RBQW9ELFVBQVU7QUFDNUYsNkNBQTZDLGtoQkFBa2hCOztBQUUvakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGdJQUFnSSxpR0FBaUc7QUFDNVIscUZBQXFGLGVBQWUsMEJBQTBCO0FBQzlIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0M7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLHlJQUF5STtBQUN6STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHlDQUF5QztBQUNqRztBQUNBO0FBQ0Esd0RBQXdELDJDQUEyQztBQUNuRyxrRUFBa0UsZ0JBQWdCO0FBQ2xGLFNBQVMsa0JBQWtCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQ0FBa0M7QUFDdEYsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsb0RBQW9ELDBDQUEwQztBQUM5RjtBQUNBO0FBQ0Esb0RBQW9ELHNDQUFzQztBQUMxRixtRUFBbUUsb0JBQW9CO0FBQ3ZGLDBEQUEwRCxtQkFBbUI7QUFDN0U7O0FBRUEsb0NBQW9DLGNBQWMsT0FBTyxvQkFBb0IsT0FBTzs7QUFFcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwyQkFBMkI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDhCQUE4QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxTQUFTO0FBQ1QsS0FBSztBQUNMLDREQUE0RCw4QkFBOEI7QUFDMUYsZ0RBQWdELHlGQUF5RjtBQUN6STs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsVUFBVTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUVBQXFFLDZLQUE2SztBQUNsUDs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdELDBDQUEwQztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsS0FBSztBQUNMO0FBQ0EseURBQXlELGlFQUFpRSw2UUFBNlEsS0FBSztBQUM1WSxrREFBa0Q7QUFDbEQsaUNBQWlDLHlEQUF5RDtBQUMxRixlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHdDQUF3QztBQUMvRixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpSEFBaUgsd0JBQXdCO0FBQ3pJO0FBQ0EsK0pBQStKLDJGQUEyRjtBQUMxUDtBQUNBLG9HQUFvRyxrUEFBa1A7QUFDdFY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsZ0dBQWdHO0FBQzVKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFdBQVc7QUFDdEQsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseURBQXlELG1EQUFtRCxXQUFXLGNBQWM7QUFDakwsNkNBQTZDLCtFQUErRSw4REFBOEQsWUFBWTtBQUN0TSxvREFBb0QsNEVBQTRFLHdEQUF3RDtBQUN4TDtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLDREQUE0RDtBQUNuSyxpRUFBaUUsaVZBQWlWO0FBQ2xaO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCO0FBQ2pCLDBCQUEwQjtBQUMxQiw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCLDBCQUEwQjtBQUMxQixtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3ByaW50L2xpYi9janMvcHJpbnQuanM/ODAxYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciByZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgZ2V0QWxsUGFnZXNOdW1iZXJzID0gZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBBcnJheShkb2MubnVtUGFnZXMpXG4gICAgICAgIC5maWxsKDApXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuIGk7IH0pO1xufTtcblxudmFyIGdlbmVyYXRlUmFuZ2UgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcbiAgICByZXR1cm4gQXJyYXkobWF4IC0gbWluICsgMSlcbiAgICAgICAgLmZpbGwoMClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gbWluICsgaTsgfSk7XG59O1xudmFyIHJlbW92ZUR1cGxpY2F0ZSA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGFyci5pbmRleE9mKGkpID09PSBhcnIubGFzdEluZGV4T2YoaSk7IH0pOyB9O1xudmFyIGdldEN1c3RvbVBhZ2VzTnVtYmVycyA9IGZ1bmN0aW9uIChjdXN0b21QYWdlcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIGN1c3RvbVBhZ2VzXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnJylcbiAgICAgICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gcGFydFxuICAgICAgICAgICAgICAgIC5zcGxpdCgnLScpXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gcGFyc2VJbnQoYywgMTApOyB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIE51bWJlci5pc0ludGVnZXIoYyk7IH0pO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyYW5nZVswXSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmFuZ2UubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoLmFwcGx5KHJlc3VsdHMsIGdlbmVyYXRlUmFuZ2UocmFuZ2VbMF0gLSAxLCByYW5nZVsxXSAtIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZW1vdmVEdXBsaWNhdGUocmVzdWx0cykuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpID49IDAgJiYgaSA8IGRvYy5udW1QYWdlczsgfSk7XG4gICAgfTtcbn07XG5cbnZhciBnZXRFdmVuUGFnZXNOdW1iZXJzID0gZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBBcnJheShkb2MubnVtUGFnZXMpXG4gICAgICAgIC5maWxsKDApXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuIGk7IH0pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIChpICsgMSkgJSAyID09PSAwOyB9KTtcbn07XG5cbnZhciBnZXRPZGRQYWdlc051bWJlcnMgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgcmV0dXJuIEFycmF5KGRvYy5udW1QYWdlcylcbiAgICAgICAgLmZpbGwoMClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gaTsgfSlcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gKGkgKyAxKSAlIDIgPT09IDE7IH0pO1xufTtcblxudmFyIFByaW50SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTcuNSwxOS40OTloOSBNNy41LDE2LjQ5OWg5IE01LjUsMTYuNWgtM2MtMS4xMDMtMC4wMDMtMS45OTctMC44OTctMi0ydi02YzAuMDAzLTEuMTAzLDAuODk3LTEuOTk3LDItMmgxOVxcbiAgICAgICAgICAgIGMxLjEwMywwLjAwMywxLjk5NywwLjg5NywyLDJ2NmMtMC4wMDMsMS4xMDMtMC44OTcsMS45OTctMiwyaC0zXFxuICAgICAgICAgICAgTTUuNSw0LjV2LTRoOS41ODZjMC4yNjUsMCwwLjUyLDAuMTA1LDAuNzA3LDAuMjkzbDIuNDE0LDIuNDE0XFxuICAgICAgICAgICAgQzE4LjM5NSwzLjM5NCwxOC41LDMuNjQ5LDE4LjUsMy45MTRWNC41XFxuICAgICAgICAgICAgTTE4LjUsMjIuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxaC0xMWMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtOWgxM1YyMi41elxcbiAgICAgICAgICAgIE0zLjUsOC40OTlcXG4gICAgICAgICAgICBjMC41NTIsMCwxLDAuNDQ4LDEsMXMtMC40NDgsMS0xLDFzLTEtMC40NDgtMS0xUzIuOTQ4LDguNDk5LDMuNSw4LjQ5OXpcXG4gICAgICAgICAgICBNMTQuNSwwLjQ5OXY0aDRcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgUHJpbnRCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnByaW50ID8gbDEwbi5wcmludC5wcmludCA6ICdQcmludCc7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErUCcgOiAnQ3RybCtQJykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInByaW50XCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFLZXlTaG9ydGN1dHM6IGFyaWFLZXlTaG9ydGN1dHMsIGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJwcmludF9fYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludEljb24sIG51bGwpKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpO1xufTtcblxudmFyIFByaW50U3RhdHVzO1xuKGZ1bmN0aW9uIChQcmludFN0YXR1cykge1xuICAgIFByaW50U3RhdHVzW1wiQ2hlY2tpbmdQZXJtaXNzaW9uXCJdID0gXCJDaGVja2luZ1Blcm1pc3Npb25cIjtcbiAgICBQcmludFN0YXR1c1tcIkluYWN0aXZlXCJdID0gXCJJbmFjdGl2ZVwiO1xuICAgIFByaW50U3RhdHVzW1wiUHJlcGFyaW5nXCJdID0gXCJQcmVwYXJpbmdcIjtcbiAgICBQcmludFN0YXR1c1tcIkNhbmNlbGxlZFwiXSA9IFwiQ2FuY2VsbGVkXCI7XG4gICAgUHJpbnRTdGF0dXNbXCJSZWFkeVwiXSA9IFwiUmVhZHlcIjtcbn0pKFByaW50U3RhdHVzIHx8IChQcmludFN0YXR1cyA9IHt9KSk7XG5cbnZhciBQcmludCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIHByaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS51cGRhdGUoJ3ByaW50U3RhdHVzJywgUHJpbnRTdGF0dXMuQ2hlY2tpbmdQZXJtaXNzaW9uKTtcbiAgICB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBQcmludEJ1dHRvbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsXG4gICAgICAgIG9uQ2xpY2s6IHByaW50LFxuICAgIH0pO1xufTtcblxudmFyIFBFUk1JU1NJT05fUFJJTlQgPSA0O1xudmFyIFBFUk1JU1NJT05fUFJJTlRfSElHSFRfUVVBTElUWSA9IDIwNDg7XG52YXIgQ2hlY2tQcmludFBlcm1pc3Npb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHRydWUpLCBpc0FsbG93ZWQgPSBfYlswXSwgc2V0SXNBbGxvd2VkID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2MuZ2V0UGVybWlzc2lvbnMoKS50aGVuKGZ1bmN0aW9uIChwZXJtaXNzaW9ucykge1xuICAgICAgICAgICAgdmFyIGNhblByaW50ID0gcGVybWlzc2lvbnMgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucy5pbmNsdWRlcyhQRVJNSVNTSU9OX1BSSU5UKSB8fFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zLmluY2x1ZGVzKFBFUk1JU1NJT05fUFJJTlRfSElHSFRfUVVBTElUWSk7XG4gICAgICAgICAgICBjYW5QcmludCA/IHN0b3JlLnVwZGF0ZSgncHJpbnRTdGF0dXMnLCBQcmludFN0YXR1cy5QcmVwYXJpbmcpIDogc2V0SXNBbGxvd2VkKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpc0FsbG93ZWQgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Nb2RhbCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicHJpbnQtcGVybWlzc2lvblwiLCBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBmYWxzZSwgY2xvc2VPbkVzY2FwZTogZmFsc2UsIGNvbnRlbnQ6IGZ1bmN0aW9uICh0b2dnbGUpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3ByaW50U3RhdHVzJywgUHJpbnRTdGF0dXMuQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJpbnRfX3Blcm1pc3Npb24tYm9keVwiIH0sIGwxMG4gJiYgbDEwbi5wcmludFxuICAgICAgICAgICAgICAgICAgICA/IGwxMG4ucHJpbnQuZGlzYWxsb3dQcmludFxuICAgICAgICAgICAgICAgICAgICA6ICdUaGUgZG9jdW1lbnQgZG9lcyBub3QgYWxsb3cgdG8gcHJpbnQnKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByaW50X19wZXJtaXNzaW9uLWZvb3RlclwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkJ1dHRvbiwgeyBvbkNsaWNrOiBjbG9zZSB9LCBsMTBuICYmIGwxMG4ucHJpbnQgPyBsMTBuLnByaW50LmNsb3NlIDogJ0Nsb3NlJykpKSk7XG4gICAgICAgIH0sIGlzT3BlbmVkOiB0cnVlIH0pKTtcbn07XG5cbnZhciBQcmludFByb2dyZXNzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG51bUxvYWRlZFBhZ2VzID0gX2EubnVtTG9hZGVkUGFnZXMsIG51bVBhZ2VzID0gX2EubnVtUGFnZXMsIG9uQ2FuY2VsID0gX2Eub25DYW5jZWw7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLmZsb29yKChudW1Mb2FkZWRQYWdlcyAqIDEwMCkgLyBudW1QYWdlcyk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByaW50X19wcm9ncmVzc1wiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LXByaW50X19wcm9ncmVzcy1ib2R5JzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAncnB2LXByaW50X19wcm9ncmVzcy1ib2R5LS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgIH0pIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByaW50X19wcm9ncmVzcy1tZXNzYWdlXCIgfSwgbDEwbiAmJiBsMTBuLnByaW50XG4gICAgICAgICAgICAgICAgPyBsMTBuLnByaW50LnByZXBhcmluZ0RvY3VtZW50XG4gICAgICAgICAgICAgICAgOiAnUHJlcGFyaW5nIGRvY3VtZW50IC4uLicpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcmludF9fcHJvZ3Jlc3MtYmFyXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Qcm9ncmVzc0JhciwgeyBwcm9ncmVzczogcHJvZ3Jlc3MgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuQnV0dG9uLCB7IG9uQ2xpY2s6IG9uQ2FuY2VsIH0sIGwxMG4gJiYgbDEwbi5wcmludCA/IGwxMG4ucHJpbnQuY2FuY2VsIDogJ0NhbmNlbCcpKSkpO1xufTtcblxudmFyIGlzUnVubmluZ0luSmVzdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5KRVNUX1dPUktFUl9JRCAhPT0gdW5kZWZpbmVkOyB9O1xuXG52YXIgUGFnZVRodW1ibmFpbCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjYW52YXMgPSBfYS5jYW52YXMsIHBhZ2UgPSBfYS5wYWdlLCBwYWdlSGVpZ2h0ID0gX2EucGFnZUhlaWdodCwgcGFnZUluZGV4ID0gX2EucGFnZUluZGV4LCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIG9uTG9hZCA9IF9hLm9uTG9hZDtcbiAgICB2YXIgaXNNb3VudGVkID0gY29yZS51c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgdGVzdFdpdGhKZXN0ID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzUnVubmluZ0luSmVzdCgpOyB9LCBbXSk7XG4gICAgdmFyIGhhbmRsZUltYWdlTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0ZXN0V2l0aEplc3QpIHtcbiAgICAgICAgICAgIG9uTG9hZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcmVuZGVyVGFzay5jdXJyZW50O1xuICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgdGFzay5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJpbnRVbml0ID0gMTUwIC8gNzI7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKHBhZ2VIZWlnaHQgKiBwcmludFVuaXQpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHBhZ2VXaWR0aCAqIHByaW50VW5pdCk7XG4gICAgICAgIHZhciBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknO1xuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgcm90YXRpb246IHJvdGF0aW9uLCBzY2FsZTogMSB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50ID0gcGFnZS5yZW5kZXIoe1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dDogY2FudmFzQ29udGV4dCxcbiAgICAgICAgICAgIGludGVudDogJ3ByaW50JyxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW3ByaW50VW5pdCwgMCwgMCwgcHJpbnRVbml0LCAwLCAwXSxcbiAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbmRlclRhc2suY3VycmVudC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCd0b0Jsb2InIGluIGNhbnZhcyAmJiAnY3JlYXRlT2JqZWN0VVJMJyBpbiBVUkwpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmIHNldFNyYyhVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgICAgICAgICAgICAgdGVzdFdpdGhKZXN0ICYmIG9uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiYgc2V0U3JjKGNhbnZhcy50b0RhdGFVUkwoKSk7XG4gICAgICAgICAgICAgICAgdGVzdFdpdGhKZXN0ICYmIG9uTG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKHNyYyAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcmludF9fcGFnZVwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJwcmludF9fdGh1bWJuYWlsLVwiLmNvbmNhdChwYWdlSW5kZXgpLCBzcmM6IHNyYywgb25Mb2FkOiBoYW5kbGVJbWFnZUxvYWQgfSkpKSk7XG59O1xuXG52YXIgUGFnZVRodW1ibmFpbENvbnRhaW5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjYW52YXMgPSBfYS5jYW52YXMsIGRvYyA9IF9hLmRvYywgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uID0gX2EucGFnZVJvdGF0aW9uLCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNob3VsZFJlbmRlciA9IF9hLnNob3VsZFJlbmRlciwgb25Mb2FkID0gX2Eub25Mb2FkO1xuICAgIHZhciBpc01vdW50ZWQgPSBjb3JlLnVzZUlzTW91bnRlZCgpO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoe1xuICAgICAgICBoZWlnaHQ6IHBhZ2VIZWlnaHQsXG4gICAgICAgIHBhZ2U6IG51bGwsXG4gICAgICAgIHZpZXdwb3J0Um90YXRpb246IDAsXG4gICAgICAgIHdpZHRoOiBwYWdlV2lkdGgsXG4gICAgfSksIHBhZ2VTaXplID0gX2JbMF0sIHNldFBhZ2VTaXplID0gX2JbMV07XG4gICAgdmFyIHBhZ2UgPSBwYWdlU2l6ZS5wYWdlLCBoZWlnaHQgPSBwYWdlU2l6ZS5oZWlnaHQsIHdpZHRoID0gcGFnZVNpemUud2lkdGg7XG4gICAgdmFyIGlzVmVydGljYWwgPSBNYXRoLmFicyhyb3RhdGlvbiArIHBhZ2VSb3RhdGlvbikgJSAxODAgPT09IDA7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgICBjb3JlLmdldFBhZ2UoZG9jLCBwYWdlSW5kZXgpLnRoZW4oZnVuY3Rpb24gKHBkZlBhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwZGZQYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEgfSk7XG4gICAgICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVNpemUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwZGZQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRSb3RhdGlvbjogdmlld3BvcnQucm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmlld3BvcnQud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbc2hvdWxkUmVuZGVyXSk7XG4gICAgdmFyIHJvdGF0aW9uTnVtYmVyID0gKHBhZ2VTaXplLnZpZXdwb3J0Um90YXRpb24gKyByb3RhdGlvbiArIHBhZ2VSb3RhdGlvbikgJSAzNjA7XG4gICAgcmV0dXJuIChwYWdlICYmIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUGFnZVRodW1ibmFpbCwgeyBjYW52YXM6IGNhbnZhcywgcGFnZTogcGFnZSwgcGFnZUhlaWdodDogaXNWZXJ0aWNhbCA/IGhlaWdodCA6IHdpZHRoLCBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgcGFnZVdpZHRoOiBpc1ZlcnRpY2FsID8gd2lkdGggOiBoZWlnaHQsIHJvdGF0aW9uOiByb3RhdGlvbk51bWJlciwgb25Mb2FkOiBvbkxvYWQgfSkpKTtcbn07XG5cbnZhciBQcmludFpvbmUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBudW1Mb2FkZWRQYWdlcyA9IF9hLm51bUxvYWRlZFBhZ2VzLCBwYWdlc1JvdGF0aW9uID0gX2EucGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcHJpbnRQYWdlcyA9IF9hLnByaW50UGFnZXMsIHByaW50U3RhdHVzID0gX2EucHJpbnRTdGF0dXMsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIG9uQ2FuY2VsID0gX2Eub25DYW5jZWwsIG9uTG9hZCA9IF9hLm9uTG9hZDtcbiAgICB2YXIgY2FudmFzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOyB9LCBbXSk7XG4gICAgdmFyIGNvbnRhaW5lciA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b25lRWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJwdi1wcmludF9fem9uZScpO1xuICAgICAgICBpZiAoem9uZUVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHpvbmVFbGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgncnB2LXByaW50X196b25lJyk7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgJ3ByaW50X196b25lJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJpbnRTdGF0dXMgPT09IFByaW50U3RhdHVzLlJlYWR5KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncnB2LXByaW50X19odG1sLXByaW50aW5nJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3Jwdi1wcmludF9fYm9keS1wcmludGluZycpO1xuICAgICAgICAgICAgd2luZG93LnByaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocHJpbnRTdGF0dXMgPT09IFByaW50U3RhdHVzLlJlYWR5KSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1wcmludF9faHRtbC1wcmludGluZycpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXByaW50X19ib2R5LXByaW50aW5nJyk7XG4gICAgICAgICAgICAgICAgdmFyIHpvbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJwdi1wcmludF9fem9uZScpO1xuICAgICAgICAgICAgICAgIGlmICh6b25lcykge1xuICAgICAgICAgICAgICAgICAgICB6b25lcy5mb3JFYWNoKGZ1bmN0aW9uICh6b25lRWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lRWxlLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoem9uZUVsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIG9uQ2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlcik7IH07XG4gICAgfSwgW3ByaW50U3RhdHVzXSk7XG4gICAgcmV0dXJuIHJlYWN0RG9tLmNyZWF0ZVBvcnRhbChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcHJpbnRQYWdlcy5tYXAoZnVuY3Rpb24gKHBhZ2VJbmRleCwgbG9vcEluZGV4KSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFBhZ2VUaHVtYm5haWxDb250YWluZXIsIHsga2V5OiBwYWdlSW5kZXgsIGNhbnZhczogY2FudmFzLCBkb2M6IGRvYywgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBhZ2VSb3RhdGlvbjogcGFnZXNSb3RhdGlvbi5oYXMocGFnZUluZGV4KSA/IHBhZ2VzUm90YXRpb24uZ2V0KHBhZ2VJbmRleCkgOiAwLCBwYWdlV2lkdGg6IHBhZ2VXaWR0aCwgcm90YXRpb246IHJvdGF0aW9uLCBzaG91bGRSZW5kZXI6IGxvb3BJbmRleCA9PT0gbnVtTG9hZGVkUGFnZXMsIG9uTG9hZDogb25Mb2FkIH0pKTsgfSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICBfX2h0bWw6IFwiQHBhZ2UgeyBzaXplOiBcIi5jb25jYXQocGFnZVdpZHRoLCBcInB0IFwiKS5jb25jYXQocGFnZUhlaWdodCwgXCJwdCB9XCIpLFxuICAgICAgICAgICAgfSB9KSksIGNvbnRhaW5lcik7XG59O1xuXG52YXIgUHJpbnRDb250YWluZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBwYWdlc1JvdGF0aW9uID0gX2EucGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcmVuZGVyUHJvZ3Jlc3NCYXIgPSBfYS5yZW5kZXJQcm9ncmVzc0Jhciwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgc2V0UGFnZXMgPSBfYS5zZXRQYWdlcywgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKFByaW50U3RhdHVzLkluYWN0aXZlKSwgcHJpbnRTdGF0dXMgPSBfYlswXSwgc2V0UHJpbnRTdGF0dXMgPSBfYlsxXTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKDApLCBudW1Mb2FkZWRQYWdlc0ZvclByaW50ID0gX2NbMF0sIHNldE51bUxvYWRlZFBhZ2VzRm9yUHJpbnQgPSBfY1sxXTtcbiAgICB2YXIgcHJpbnRQYWdlcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBudW1QYWdlcyA9IGRvYy5udW1QYWdlcztcbiAgICAgICAgcmV0dXJuIHNldFBhZ2VzKGRvYykuZmlsdGVyKGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IG51bVBhZ2VzOyB9KTtcbiAgICB9LCBbZG9jLCBzZXRQYWdlc10pO1xuICAgIHZhciBudW1QcmludFBhZ2VzID0gcHJpbnRQYWdlcy5sZW5ndGg7XG4gICAgdmFyIGNhbmNlbFByaW50aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXROdW1Mb2FkZWRQYWdlc0ZvclByaW50KDApO1xuICAgICAgICBzZXRQcmludFN0YXR1cyhQcmludFN0YXR1cy5JbmFjdGl2ZSk7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlUHJpbnRTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IHJldHVybiBzZXRQcmludFN0YXR1cyhzdGF0dXMpOyB9O1xuICAgIHZhciBvbkxvYWRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG90YWwgPSBudW1Mb2FkZWRQYWdlc0ZvclByaW50ICsgMTtcbiAgICAgICAgaWYgKHRvdGFsIDw9IG51bVByaW50UGFnZXMpIHtcbiAgICAgICAgICAgIHNldE51bUxvYWRlZFBhZ2VzRm9yUHJpbnQodG90YWwpO1xuICAgICAgICAgICAgdG90YWwgPT09IG51bVByaW50UGFnZXMgJiYgc2V0UHJpbnRTdGF0dXMoUHJpbnRTdGF0dXMuUmVhZHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncHJpbnRTdGF0dXMnLCBoYW5kbGVQcmludFN0YXR1cyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncHJpbnRTdGF0dXMnLCBoYW5kbGVQcmludFN0YXR1cyk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIHByaW50U3RhdHVzID09PSBQcmludFN0YXR1cy5DaGVja2luZ1Blcm1pc3Npb24gJiYgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENoZWNrUHJpbnRQZXJtaXNzaW9uLCB7IGRvYzogZG9jLCBzdG9yZTogc3RvcmUgfSksXG4gICAgICAgIHByaW50U3RhdHVzID09PSBQcmludFN0YXR1cy5QcmVwYXJpbmcgJiZcbiAgICAgICAgICAgIChyZW5kZXJQcm9ncmVzc0JhciA/IChyZW5kZXJQcm9ncmVzc0JhcihudW1Mb2FkZWRQYWdlc0ZvclByaW50LCBudW1QcmludFBhZ2VzLCBjYW5jZWxQcmludGluZykpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludFByb2dyZXNzLCB7IG51bUxvYWRlZFBhZ2VzOiBudW1Mb2FkZWRQYWdlc0ZvclByaW50LCBudW1QYWdlczogbnVtUHJpbnRQYWdlcywgb25DYW5jZWw6IGNhbmNlbFByaW50aW5nIH0pKSksXG4gICAgICAgIChwcmludFN0YXR1cyA9PT0gUHJpbnRTdGF0dXMuUHJlcGFyaW5nIHx8IHByaW50U3RhdHVzID09PSBQcmludFN0YXR1cy5SZWFkeSkgJiZcbiAgICAgICAgICAgIG51bUxvYWRlZFBhZ2VzRm9yUHJpbnQgPD0gbnVtUHJpbnRQYWdlcyAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50Wm9uZSwgeyBkb2M6IGRvYywgbnVtTG9hZGVkUGFnZXM6IG51bUxvYWRlZFBhZ2VzRm9yUHJpbnQsIHBhZ2VzUm90YXRpb246IHBhZ2VzUm90YXRpb24sIHBhZ2VIZWlnaHQ6IHBhZ2VIZWlnaHQsIHBhZ2VXaWR0aDogcGFnZVdpZHRoLCBwcmludFBhZ2VzOiBwcmludFBhZ2VzLCBwcmludFN0YXR1czogcHJpbnRTdGF0dXMsIHJvdGF0aW9uOiByb3RhdGlvbiwgb25DYW5jZWw6IGNhbmNlbFByaW50aW5nLCBvbkxvYWQ6IG9uTG9hZFBhZ2UgfSkpKSk7XG59O1xuXG52YXIgUHJpbnRNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnByaW50ID8gbDEwbi5wcmludC5wcmludCA6ICdQcmludCc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51SXRlbSwgeyBpY29uOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJpbnRJY29uLCBudWxsKSwgdGVzdElkOiBcInByaW50X19tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciBTaG9ydGN1dEhhbmRsZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gX2EuY29udGFpbmVyUmVmLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBrZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUuYWx0S2V5IHx8IGUua2V5ICE9PSAncCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNDb21tYW5kUHJlc3NlZCA9IGNvcmUuaXNNYWMoKSA/IGUubWV0YUtleSA6IGUuY3RybEtleTtcbiAgICAgICAgaWYgKCFpc0NvbW1hbmRQcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSB8fCAhZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCAhY29udGFpbmVyRWxlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzdG9yZS51cGRhdGUoJ3ByaW50U3RhdHVzJywgUHJpbnRTdGF0dXMuUHJlcGFyaW5nKTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtjb250YWluZXJSZWYuY3VycmVudF0pO1xuICAgIHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCk7XG59O1xuXG52YXIgcHJpbnRQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgcHJpbnRQbHVnaW5Qcm9wcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBlbmFibGVTaG9ydGN1dHM6IHRydWUsXG4gICAgICAgICAgICBzZXRQYWdlczogZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShkb2MubnVtUGFnZXMpXG4gICAgICAgICAgICAgICAgICAgIC5maWxsKDApXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIGkpIHsgcmV0dXJuIGk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgcHJvcHMpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICBwcmludFN0YXR1czogUHJpbnRTdGF0dXMuSW5hY3RpdmUsXG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgcHJpbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgncHJpbnRTdGF0dXMnLCBQcmludFN0YXR1cy5DaGVja2luZ1Blcm1pc3Npb24pO1xuICAgIH07XG4gICAgdmFyIFByaW50RGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50LCBfX2Fzc2lnbih7IGVuYWJsZVNob3J0Y3V0czogcHJpbnRQbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKSk7IH07XG4gICAgdmFyIFByaW50QnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50RGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludEJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pOyB9O1xuICAgIHZhciBQcmludE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50RGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludE1lbnVJdGVtLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBmdW5jdGlvbiAocmVuZGVyVmlld2VyUHJvcHMpIHtcbiAgICAgICAgdmFyIHNsb3QgPSByZW5kZXJWaWV3ZXJQcm9wcy5zbG90O1xuICAgICAgICB2YXIgdXBkYXRlU2xvdCA9IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgcHJpbnRQbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgJiYgKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG9ydGN1dEhhbmRsZXIsIHsgY29udGFpbmVyUmVmOiByZW5kZXJWaWV3ZXJQcm9wcy5jb250YWluZXJSZWYsIHN0b3JlOiBzdG9yZSB9KSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50Q29udGFpbmVyLCB7IGRvYzogcmVuZGVyVmlld2VyUHJvcHMuZG9jLCBwYWdlc1JvdGF0aW9uOiByZW5kZXJWaWV3ZXJQcm9wcy5wYWdlc1JvdGF0aW9uLCBwYWdlSGVpZ2h0OiByZW5kZXJWaWV3ZXJQcm9wcy5wYWdlSGVpZ2h0LCBwYWdlV2lkdGg6IHJlbmRlclZpZXdlclByb3BzLnBhZ2VXaWR0aCwgcmVuZGVyUHJvZ3Jlc3NCYXI6IHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5yZW5kZXJQcm9ncmVzc0Jhciwgcm90YXRpb246IHJlbmRlclZpZXdlclByb3BzLnJvdGF0aW9uLCBzZXRQYWdlczogcHJpbnRQbHVnaW5Qcm9wcy5zZXRQYWdlcywgc3RvcmU6IHN0b3JlIH0pLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICB2YXIgc2V0UGFnZXMgPSBmdW5jdGlvbiAocHJpbnRQYWdlcykge1xuICAgICAgICBwcmludFBsdWdpblByb3BzLnNldFBhZ2VzID0gcHJpbnRQYWdlcztcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHByaW50OiBwcmludCxcbiAgICAgICAgcmVuZGVyVmlld2VyOiByZW5kZXJWaWV3ZXIsXG4gICAgICAgIFByaW50OiBQcmludERlY29yYXRvcixcbiAgICAgICAgUHJpbnRCdXR0b246IFByaW50QnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBQcmludE1lbnVJdGVtOiBQcmludE1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBzZXRQYWdlczogc2V0UGFnZXMsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuUHJpbnRJY29uID0gUHJpbnRJY29uO1xuZXhwb3J0cy5nZXRBbGxQYWdlc051bWJlcnMgPSBnZXRBbGxQYWdlc051bWJlcnM7XG5leHBvcnRzLmdldEN1c3RvbVBhZ2VzTnVtYmVycyA9IGdldEN1c3RvbVBhZ2VzTnVtYmVycztcbmV4cG9ydHMuZ2V0RXZlblBhZ2VzTnVtYmVycyA9IGdldEV2ZW5QYWdlc051bWJlcnM7XG5leHBvcnRzLmdldE9kZFBhZ2VzTnVtYmVycyA9IGdldE9kZFBhZ2VzTnVtYmVycztcbmV4cG9ydHMucHJpbnRQbHVnaW4gPSBwcmludFBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/print/lib/cjs/print.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/print/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/print/lib/index.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/print.js */ \"./node_modules/@react-pdf-viewer/print/lib/cjs/print.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxxSEFBMEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3ByaW50L2xpYi9pbmRleC5qcz9iMzRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcmludC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcmludC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/print/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar InfoIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\\n            M14.5,17.005H13\\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\\n            M11.745,6.504L11.745,6.504\\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar PropertiesLoader = function (_a) {\n    var doc = _a.doc, render = _a.render;\n    var _b = React__namespace.useState(), data = _b[0], setData = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getMetadata()\n            .then(function (meta) {\n            return Promise.resolve(meta);\n        })\n            .then(function (meta) {\n            return doc.getDownloadInfo().then(function (d) {\n                return Promise.resolve({\n                    fileName: meta.contentDispositionFilename || '',\n                    info: meta.info,\n                    length: d.length,\n                });\n            });\n        })\n            .then(function (response) {\n            setData(response);\n        });\n    }, []);\n    return data ? (render(data)) : (React__namespace.createElement(\"div\", { className: \"rpv-properties__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar PropertyItem = function (_a) {\n    var label = _a.label, value = _a.value;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    return (React__namespace.createElement(\"dl\", { className: core.classNames({\n            'rpv-properties__item': true,\n            'rpv-properties__item--rtl': isRtl,\n        }) },\n        React__namespace.createElement(\"dt\", { className: \"rpv-properties__item-label\" },\n            label,\n            \":\"),\n        React__namespace.createElement(\"dd\", { className: \"rpv-properties__item-value\" }, value || '-')));\n};\n\nvar dateRegex = new RegExp('^D:' +\n    '(\\\\d{4})' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '(\\\\d{2})?' +\n    '([Z|+|-])?' +\n    '(\\\\d{2})?' +\n    \"'?\" +\n    '(\\\\d{2})?' +\n    \"'?\");\nvar parse = function (value, min, max, defaultValue) {\n    var parsed = parseInt(value, 10);\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\nvar convertDate = function (input) {\n    var matches = dateRegex.exec(input);\n    if (!matches) {\n        return null;\n    }\n    var year = parseInt(matches[1], 10);\n    var month = parse(matches[2], 1, 12, 1) - 1;\n    var day = parse(matches[3], 1, 31, 1);\n    var hour = parse(matches[4], 0, 23, 0);\n    var minute = parse(matches[5], 0, 59, 0);\n    var second = parse(matches[6], 0, 59, 0);\n    var universalTimeRelation = matches[7] || 'Z';\n    var offsetHour = parse(matches[8], 0, 23, 0);\n    var offsetMinute = parse(matches[9], 0, 59, 0);\n    switch (universalTimeRelation) {\n        case '-':\n            hour += offsetHour;\n            minute += offsetMinute;\n            break;\n        case '+':\n            hour -= offsetHour;\n            minute -= offsetMinute;\n            break;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\n\nvar getFileName = function (url) {\n    var str = url.split('/').pop();\n    return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar getFileSize = function (bytes) {\n    var sufixes = ['B', 'kB', 'MB', 'GB', 'TB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return \"\".concat((bytes / Math.pow(1024, i)).toFixed(2), \" \").concat(sufixes[i]);\n};\n\nvar PropertiesModal = function (_a) {\n    var doc = _a.doc, fileName = _a.fileName, onToggle = _a.onToggle;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var formatDate = function (input) {\n        var date = convertDate(input);\n        return date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n    };\n    var renderData = function (data) { return (React__namespace.createElement(React__namespace.Fragment, null,\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.fileName\n                    : 'File name', value: data.fileName || getFileName(fileName) }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.fileSize\n                    : 'File size', value: getFileSize(data.length) })),\n        React__namespace.createElement(core.Separator, null),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.title : 'Title', value: data.info.Title }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.author : 'Author', value: data.info.Author }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.subject : 'Subject', value: data.info.Subject }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.keywords : 'Keywords', value: data.info.Keywords }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.creator : 'Creator', value: data.info.Creator }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.creationDate\n                    : 'Creation date', value: formatDate(data.info.CreationDate) }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.modificationDate\n                    : 'Modification date', value: formatDate(data.info.ModDate) })),\n        React__namespace.createElement(core.Separator, null),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pdfProducer\n                    : 'PDF producer', value: data.info.Producer }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pdfVersion\n                    : 'PDF version', value: data.info.PDFFormatVersion }),\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\n                    ? l10n.properties.pageCount\n                    : 'Page count', value: \"\".concat(doc.numPages) })))); };\n    return (React__namespace.createElement(\"div\", { className: \"rpv-properties__modal\" },\n        React__namespace.createElement(PropertiesLoader, { doc: doc, render: renderData }),\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-footer\" },\n            React__namespace.createElement(core.Button, { onClick: onToggle }, l10n && l10n.properties ? l10n.properties.close : 'Close'))));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ShowPropertiesButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"properties\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"properties__button\", onClick: onClick },\n            React__namespace.createElement(InfoIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar useDocument = function (store) {\n    var _a = React__namespace.useState(store.get('doc')), currentDoc = _a[0], setCurrentDoc = _a[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return { currentDoc: currentDoc };\n};\n\nvar ShowProperties = function (_a) {\n    var children = _a.children, store = _a.store;\n    var currentDoc = useDocument(store).currentDoc;\n    var fileName = store.get('fileName') || '';\n    var defaultChildren = function (props) { return React__namespace.createElement(ShowPropertiesButton, __assign({}, props)); };\n    var render = children || defaultChildren;\n    return currentDoc ? (React__namespace.createElement(core.Modal, { ariaControlsSuffix: \"properties\", target: function (toggle) {\n            return render({\n                onClick: toggle,\n            });\n        }, content: function (toggle) { return React__namespace.createElement(PropertiesModal, { doc: currentDoc, fileName: fileName, onToggle: toggle }); }, closeOnClickOutside: true, closeOnEscape: true })) : (React__namespace.createElement(React__namespace.Fragment, null));\n};\n\nvar ShowPropertiesMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(InfoIcon, null), testId: \"properties__menu\", onClick: onClick }, label));\n};\n\nvar propertiesPlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            fileName: '',\n        });\n    }, []);\n    var ShowPropertiesDecorator = function (props) { return React__namespace.createElement(ShowProperties, __assign({}, props, { store: store })); };\n    var ShowPropertiesButtonDecorator = function () { return React__namespace.createElement(ShowProperties, { store: store }); };\n    var ShowPropertiesMenuItemDecorator = function (props) { return (React__namespace.createElement(ShowPropertiesDecorator, null, function (p) { return React__namespace.createElement(ShowPropertiesMenuItem, __assign({}, p)); })); };\n    return {\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('fileName', viewerState.file.name);\n            return viewerState;\n        },\n        ShowProperties: ShowPropertiesDecorator,\n        ShowPropertiesButton: ShowPropertiesButtonDecorator,\n        ShowPropertiesMenuItem: ShowPropertiesMenuItemDecorator,\n    };\n};\n\nexports.InfoIcon = InfoIcon;\nexports.propertiesPlugin = propertiesPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvY2pzL3Byb3BlcnRpZXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw2QkFBNkIsb0RBQW9ELFVBQVU7QUFDM0YsNkNBQTZDLHlXQUF5Vzs7QUFFdFo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDRFQUE0RSxxQ0FBcUM7QUFDakg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0EsU0FBUyxHQUFHO0FBQ1osK0NBQStDLHlDQUF5QztBQUN4RjtBQUNBO0FBQ0EsK0NBQStDLHlDQUF5QztBQUN4Rjs7QUFFQTtBQUNBLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaLFVBQVUsRUFBRTtBQUNaO0FBQ0EsVUFBVSxFQUFFO0FBQ1o7QUFDQSxVQUFVLEVBQUU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGdEQUFnRCw0Q0FBNEM7QUFDNUYsMkRBQTJEO0FBQzNEO0FBQ0Esa0ZBQWtGO0FBQ2xGLDJEQUEyRDtBQUMzRDtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBLGdEQUFnRCw0Q0FBNEM7QUFDNUYsMkRBQTJELDBGQUEwRjtBQUNySiwyREFBMkQsNkZBQTZGO0FBQ3hKLDJEQUEyRCxnR0FBZ0c7QUFDM0osMkRBQTJELG1HQUFtRztBQUM5SiwyREFBMkQsZ0dBQWdHO0FBQzNKLDJEQUEyRDtBQUMzRDtBQUNBLGtGQUFrRjtBQUNsRiwyREFBMkQ7QUFDM0Q7QUFDQSxpRkFBaUY7QUFDakY7QUFDQSxnREFBZ0QsNENBQTRDO0FBQzVGLDJEQUEyRDtBQUMzRDtBQUNBLGlFQUFpRTtBQUNqRSwyREFBMkQ7QUFDM0Q7QUFDQSx3RUFBd0U7QUFDeEUsMkRBQTJEO0FBQzNEO0FBQ0Esb0VBQW9FO0FBQ3BFLG9EQUFvRCxvQ0FBb0M7QUFDeEYsMkRBQTJELDhCQUE4QjtBQUN6RixnREFBZ0QsMkNBQTJDO0FBQzNGLDBEQUEwRCxtQkFBbUI7QUFDN0U7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHFJQUFxSSxrRUFBa0U7QUFDbFEsb0ZBQW9GLGVBQWUsMEJBQTBCO0FBQzdIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1RUFBdUU7QUFDcEg7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTLCtCQUErQix5REFBeUQsdURBQXVELElBQUksa0RBQWtEO0FBQzlNOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9HQUFvRztBQUNoSzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wscURBQXFELGlFQUFpRSxXQUFXLGNBQWM7QUFDL0ksc0RBQXNELHdEQUF3RCxjQUFjO0FBQzVILDZEQUE2RCxxRkFBcUYseUVBQXlFLFFBQVE7QUFDbk87QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQix3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3Byb3BlcnRpZXMvbGliL2Nqcy9wcm9wZXJ0aWVzLmpzPzNiYmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBJbmZvSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyLDEuMDAxYzYuMDc1LDAsMTEsNC45MjUsMTEsMTFzLTQuOTI1LDExLTExLDExcy0xMS00LjkyNS0xMS0xMVM1LjkyNSwxLjAwMSwxMiwxLjAwMXpcXG4gICAgICAgICAgICBNMTQuNSwxNy4wMDVIMTNcXG4gICAgICAgICAgICBjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTYuNWMwLTAuMjc2LTAuMjI0LTAuNS0wLjUtMC41SDEwXFxuICAgICAgICAgICAgTTExLjc0NSw2LjUwNEwxMS43NDUsNi41MDRcXG4gICAgICAgICAgICBNMTEuNzQ1LDYuNWMtMC4xMzgsMC0wLjI1LDAuMTEyLTAuMjUsMC4yNVxcbiAgICAgICAgICAgIFMxMS42MDcsNywxMS43NDUsN3MwLjI1LTAuMTEyLDAuMjUtMC4yNVMxMS44ODMsNi41LDExLjc0NSw2LjVcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBQcm9wZXJ0aWVzTG9hZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgcmVuZGVyID0gX2EucmVuZGVyO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoKSwgZGF0YSA9IF9iWzBdLCBzZXREYXRhID0gX2JbMV07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2MuZ2V0TWV0YWRhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1ldGEpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWV0YSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRvYy5nZXREb3dubG9hZEluZm8oKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBtZXRhLmNvbnRlbnREaXNwb3NpdGlvbkZpbGVuYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpbmZvOiBtZXRhLmluZm8sXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogZC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgc2V0RGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gZGF0YSA/IChyZW5kZXIoZGF0YSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbG9hZGVyXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKTtcbn07XG5cbnZhciBQcm9wZXJ0eUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbGFiZWwgPSBfYS5sYWJlbCwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICB2YXIgZGlyZWN0aW9uID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KS5kaXJlY3Rpb247XG4gICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkbFwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdycHYtcHJvcGVydGllc19faXRlbSc6IHRydWUsXG4gICAgICAgICAgICAncnB2LXByb3BlcnRpZXNfX2l0ZW0tLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSB9LFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkdFwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19faXRlbS1sYWJlbFwiIH0sXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIFwiOlwiKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGRcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX2l0ZW0tdmFsdWVcIiB9LCB2YWx1ZSB8fCAnLScpKSk7XG59O1xuXG52YXIgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXkQ6JyArXG4gICAgJyhcXFxcZHs0fSknICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFxcXFxkezJ9KT8nICtcbiAgICAnKFtafCt8LV0pPycgK1xuICAgICcoXFxcXGR7Mn0pPycgK1xuICAgIFwiJz9cIiArXG4gICAgJyhcXFxcZHsyfSk/JyArXG4gICAgXCInP1wiKTtcbnZhciBwYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgbWluLCBtYXgsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIHJldHVybiBwYXJzZWQgPj0gbWluICYmIHBhcnNlZCA8PSBtYXggPyBwYXJzZWQgOiBkZWZhdWx0VmFsdWU7XG59O1xudmFyIGNvbnZlcnREYXRlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIG1hdGNoZXMgPSBkYXRlUmVnZXguZXhlYyhpbnB1dCk7XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKTtcbiAgICB2YXIgbW9udGggPSBwYXJzZShtYXRjaGVzWzJdLCAxLCAxMiwgMSkgLSAxO1xuICAgIHZhciBkYXkgPSBwYXJzZShtYXRjaGVzWzNdLCAxLCAzMSwgMSk7XG4gICAgdmFyIGhvdXIgPSBwYXJzZShtYXRjaGVzWzRdLCAwLCAyMywgMCk7XG4gICAgdmFyIG1pbnV0ZSA9IHBhcnNlKG1hdGNoZXNbNV0sIDAsIDU5LCAwKTtcbiAgICB2YXIgc2Vjb25kID0gcGFyc2UobWF0Y2hlc1s2XSwgMCwgNTksIDApO1xuICAgIHZhciB1bml2ZXJzYWxUaW1lUmVsYXRpb24gPSBtYXRjaGVzWzddIHx8ICdaJztcbiAgICB2YXIgb2Zmc2V0SG91ciA9IHBhcnNlKG1hdGNoZXNbOF0sIDAsIDIzLCAwKTtcbiAgICB2YXIgb2Zmc2V0TWludXRlID0gcGFyc2UobWF0Y2hlc1s5XSwgMCwgNTksIDApO1xuICAgIHN3aXRjaCAodW5pdmVyc2FsVGltZVJlbGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgICAgaG91ciArPSBvZmZzZXRIb3VyO1xuICAgICAgICAgICAgbWludXRlICs9IG9mZnNldE1pbnV0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgIGhvdXIgLT0gb2Zmc2V0SG91cjtcbiAgICAgICAgICAgIG1pbnV0ZSAtPSBvZmZzZXRNaW51dGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kKSk7XG59O1xuXG52YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgdmFyIHN0ciA9IHVybC5zcGxpdCgnLycpLnBvcCgpO1xuICAgIHJldHVybiBzdHIgPyBzdHIuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzBdIDogdXJsO1xufTtcblxudmFyIGdldEZpbGVTaXplID0gZnVuY3Rpb24gKGJ5dGVzKSB7XG4gICAgdmFyIHN1Zml4ZXMgPSBbJ0InLCAna0InLCAnTUInLCAnR0InLCAnVEInXTtcbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coMTAyNCkpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdCgoYnl0ZXMgLyBNYXRoLnBvdygxMDI0LCBpKSkudG9GaXhlZCgyKSwgXCIgXCIpLmNvbmNhdChzdWZpeGVzW2ldKTtcbn07XG5cbnZhciBQcm9wZXJ0aWVzTW9kYWwgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZG9jID0gX2EuZG9jLCBmaWxlTmFtZSA9IF9hLmZpbGVOYW1lLCBvblRvZ2dsZSA9IF9hLm9uVG9nZ2xlO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGNvbnZlcnREYXRlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGRhdGUgPyBcIlwiLmNvbmNhdChkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpLCBcIiwgXCIpLmNvbmNhdChkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpKSA6ICcnO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckRhdGEgPSBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX21vZGFsLXNlY3Rpb25cIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMuZmlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiAnRmlsZSBuYW1lJywgdmFsdWU6IGRhdGEuZmlsZU5hbWUgfHwgZ2V0RmlsZU5hbWUoZmlsZU5hbWUpIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMuZmlsZVNpemVcbiAgICAgICAgICAgICAgICAgICAgOiAnRmlsZSBzaXplJywgdmFsdWU6IGdldEZpbGVTaXplKGRhdGEubGVuZ3RoKSB9KSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNlcGFyYXRvciwgbnVsbCksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbW9kYWwtc2VjdGlvblwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy50aXRsZSA6ICdUaXRsZScsIHZhbHVlOiBkYXRhLmluZm8uVGl0bGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5hdXRob3IgOiAnQXV0aG9yJywgdmFsdWU6IGRhdGEuaW5mby5BdXRob3IgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zdWJqZWN0IDogJ1N1YmplY3QnLCB2YWx1ZTogZGF0YS5pbmZvLlN1YmplY3QgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5rZXl3b3JkcyA6ICdLZXl3b3JkcycsIHZhbHVlOiBkYXRhLmluZm8uS2V5d29yZHMgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5jcmVhdG9yIDogJ0NyZWF0b3InLCB2YWx1ZTogZGF0YS5pbmZvLkNyZWF0b3IgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICA/IGwxMG4ucHJvcGVydGllcy5jcmVhdGlvbkRhdGVcbiAgICAgICAgICAgICAgICAgICAgOiAnQ3JlYXRpb24gZGF0ZScsIHZhbHVlOiBmb3JtYXREYXRlKGRhdGEuaW5mby5DcmVhdGlvbkRhdGUpIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMubW9kaWZpY2F0aW9uRGF0ZVxuICAgICAgICAgICAgICAgICAgICA6ICdNb2RpZmljYXRpb24gZGF0ZScsIHZhbHVlOiBmb3JtYXREYXRlKGRhdGEuaW5mby5Nb2REYXRlKSB9KSksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNlcGFyYXRvciwgbnVsbCksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtcHJvcGVydGllc19fbW9kYWwtc2VjdGlvblwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJdGVtLCB7IGxhYmVsOiBsMTBuICYmIGwxMG4ucHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICA/IGwxMG4ucHJvcGVydGllcy5wZGZQcm9kdWNlclxuICAgICAgICAgICAgICAgICAgICA6ICdQREYgcHJvZHVjZXInLCB2YWx1ZTogZGF0YS5pbmZvLlByb2R1Y2VyIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnR5SXRlbSwgeyBsYWJlbDogbDEwbiAmJiBsMTBuLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnByb3BlcnRpZXMucGRmVmVyc2lvblxuICAgICAgICAgICAgICAgICAgICA6ICdQREYgdmVyc2lvbicsIHZhbHVlOiBkYXRhLmluZm8uUERGRm9ybWF0VmVyc2lvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcm9wZXJ0eUl0ZW0sIHsgbGFiZWw6IGwxMG4gJiYgbDEwbi5wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgID8gbDEwbi5wcm9wZXJ0aWVzLnBhZ2VDb3VudFxuICAgICAgICAgICAgICAgICAgICA6ICdQYWdlIGNvdW50JywgdmFsdWU6IFwiXCIuY29uY2F0KGRvYy5udW1QYWdlcykgfSkpKSk7IH07XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXByb3BlcnRpZXNfX21vZGFsXCIgfSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnRpZXNMb2FkZXIsIHsgZG9jOiBkb2MsIHJlbmRlcjogcmVuZGVyRGF0YSB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1wcm9wZXJ0aWVzX19tb2RhbC1mb290ZXJcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuQnV0dG9uLCB7IG9uQ2xpY2s6IG9uVG9nZ2xlIH0sIGwxMG4gJiYgbDEwbi5wcm9wZXJ0aWVzID8gbDEwbi5wcm9wZXJ0aWVzLmNsb3NlIDogJ0Nsb3NlJykpKSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFNob3dQcm9wZXJ0aWVzQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zaG93UHJvcGVydGllcyA6ICdTaG93IHByb3BlcnRpZXMnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwicHJvcGVydGllc1wiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCB0ZXN0SWQ6IFwicHJvcGVydGllc19fYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChJbmZvSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgdXNlRG9jdW1lbnQgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgnZG9jJykpLCBjdXJyZW50RG9jID0gX2FbMF0sIHNldEN1cnJlbnREb2MgPSBfYVsxXTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBzZXRDdXJyZW50RG9jKGRvYyk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBjdXJyZW50RG9jOiBjdXJyZW50RG9jIH07XG59O1xuXG52YXIgU2hvd1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgY3VycmVudERvYyA9IHVzZURvY3VtZW50KHN0b3JlKS5jdXJyZW50RG9jO1xuICAgIHZhciBmaWxlTmFtZSA9IHN0b3JlLmdldCgnZmlsZU5hbWUnKSB8fCAnJztcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTW9kYWwsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInByb3BlcnRpZXNcIiwgdGFyZ2V0OiBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiB0b2dnbGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY29udGVudDogZnVuY3Rpb24gKHRvZ2dsZSkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByb3BlcnRpZXNNb2RhbCwgeyBkb2M6IGN1cnJlbnREb2MsIGZpbGVOYW1lOiBmaWxlTmFtZSwgb25Ub2dnbGU6IHRvZ2dsZSB9KTsgfSwgY2xvc2VPbkNsaWNrT3V0c2lkZTogdHJ1ZSwgY2xvc2VPbkVzY2FwZTogdHJ1ZSB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpKTtcbn07XG5cbnZhciBTaG93UHJvcGVydGllc01lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4ucHJvcGVydGllcyA/IGwxMG4ucHJvcGVydGllcy5zaG93UHJvcGVydGllcyA6ICdTaG93IHByb3BlcnRpZXMnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEluZm9JY29uLCBudWxsKSwgdGVzdElkOiBcInByb3BlcnRpZXNfX21lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIHByb3BlcnRpZXNQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgZmlsZU5hbWU6ICcnLFxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIFNob3dQcm9wZXJ0aWVzRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXMsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBTaG93UHJvcGVydGllc0J1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93UHJvcGVydGllcywgeyBzdG9yZTogc3RvcmUgfSk7IH07XG4gICAgdmFyIFNob3dQcm9wZXJ0aWVzTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNEZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1Byb3BlcnRpZXNNZW51SXRlbSwgX19hc3NpZ24oe30sIHApKTsgfSkpOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25WaWV3ZXJTdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHZpZXdlclN0YXRlKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2ZpbGVOYW1lJywgdmlld2VyU3RhdGUuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgU2hvd1Byb3BlcnRpZXM6IFNob3dQcm9wZXJ0aWVzRGVjb3JhdG9yLFxuICAgICAgICBTaG93UHJvcGVydGllc0J1dHRvbjogU2hvd1Byb3BlcnRpZXNCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIFNob3dQcm9wZXJ0aWVzTWVudUl0ZW06IFNob3dQcm9wZXJ0aWVzTWVudUl0ZW1EZWNvcmF0b3IsXG4gICAgfTtcbn07XG5cbmV4cG9ydHMuSW5mb0ljb24gPSBJbmZvSWNvbjtcbmV4cG9ydHMucHJvcGVydGllc1BsdWdpbiA9IHByb3BlcnRpZXNQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/properties/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/properties/lib/index.js ***!
  \****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/properties.js */ \"./node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLG9JQUErQztBQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcy9saWIvaW5kZXguanM/OWI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcHJvcGVydGllcy5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9wcm9wZXJ0aWVzLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/properties/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar RotateBackwardIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\\n            M13.5,1.75L10,4.25l3.5,2.5\" }))); };\n\nvar RotateForwardIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\\n            M10.5,1.75l3.5,2.5l-3.5,2.5\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar RotateButton = function (_a) {\n    var direction = _a.direction, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var backwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateBackward : 'Rotate counterclockwise';\n    var forwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateForward : 'Rotate clockwise';\n    var label = direction === core.RotateDirection.Backward ? backwardLabel : forwardLabel;\n    var icon = direction === core.RotateDirection.Backward ? React__namespace.createElement(RotateBackwardIcon, null) : React__namespace.createElement(RotateForwardIcon, null);\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"rotate\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: direction === core.RotateDirection.Backward ? 'rotate__backward-button' : 'rotate__forward-button', onClick: onClick }, icon), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar Rotate = function (_a) {\n    var children = _a.children, direction = _a.direction, store = _a.store;\n    var onClick = function () {\n        var rotate = store.get('rotate');\n        if (rotate) {\n            rotate(direction);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(RotateButton, { direction: props.direction, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        direction: direction,\n        onClick: onClick,\n    });\n};\n\nvar RotateMenuItem = function (_a) {\n    var direction = _a.direction, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var backwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateBackward : 'Rotate counterclockwise';\n    var forwardLabel = l10n && l10n.rotate ? l10n.rotate.rotateForward : 'Rotate clockwise';\n    var label = direction === core.RotateDirection.Backward ? backwardLabel : forwardLabel;\n    var icon = direction === core.RotateDirection.Backward ? React__namespace.createElement(RotateBackwardIcon, null) : React__namespace.createElement(RotateForwardIcon, null);\n    return (React__namespace.createElement(core.MenuItem, { icon: icon, testId: direction === core.RotateDirection.Backward ? 'rotate__backward-menu' : 'rotate__forward-menu', onClick: onClick }, label));\n};\n\nvar RotatePage = function (_a) {\n    var children = _a.children, store = _a.store;\n    var onRotatePage = function (pageIndex, direction) {\n        var rotatePage = store.get('rotatePage');\n        if (rotatePage) {\n            rotatePage(pageIndex, direction);\n        }\n    };\n    return children({\n        onRotatePage: onRotatePage,\n    });\n};\n\nvar rotatePlugin = function () {\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var RotateDecorator = function (props) { return React__namespace.createElement(Rotate, __assign({}, props, { store: store })); };\n    var RotateBackwardButtonDecorator = function () { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Backward }, function (props) { return React__namespace.createElement(RotateButton, __assign({}, props)); })); };\n    var RotateBackwardMenuItemDecorator = function (props) { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Backward }, function (p) { return (React__namespace.createElement(RotateMenuItem, { direction: p.direction, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var RotateForwardButtonDecorator = function () { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Forward }, function (props) { return React__namespace.createElement(RotateButton, __assign({}, props)); })); };\n    var RotateForwardMenuItemDecorator = function (props) { return (React__namespace.createElement(RotateDecorator, { direction: core.RotateDirection.Forward }, function (p) { return (React__namespace.createElement(RotateMenuItem, { direction: p.direction, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var RotatePageDecorator = function (props) { return React__namespace.createElement(RotatePage, __assign({}, props, { store: store })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('rotate', pluginFunctions.rotate);\n            store.update('rotatePage', pluginFunctions.rotatePage);\n        },\n        Rotate: RotateDecorator,\n        RotateBackwardButton: RotateBackwardButtonDecorator,\n        RotateBackwardMenuItem: RotateBackwardMenuItemDecorator,\n        RotateForwardButton: RotateForwardButtonDecorator,\n        RotateForwardMenuItem: RotateForwardMenuItemDecorator,\n        RotatePage: RotatePageDecorator,\n    };\n};\n\nexports.RotateBackwardIcon = RotateBackwardIcon;\nexports.RotateForwardIcon = RotateForwardIcon;\nexports.rotatePlugin = rotatePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcm90YXRlL2xpYi9janMvcm90YXRlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsdUNBQXVDLG9EQUFvRCxpQ0FBaUM7QUFDNUgsNkNBQTZDLHdkQUF3ZDs7QUFFcmdCLHNDQUFzQyxvREFBb0QsaUNBQWlDO0FBQzNILDZDQUE2QywrZEFBK2Q7O0FBRTVnQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGlJQUFpSSxnSkFBZ0osZ0NBQWdDLGVBQWUsMEJBQTBCO0FBQ3JaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdURBQXVELG9EQUFvRDtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxzSUFBc0k7QUFDbE07O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSx1REFBdUQsNEJBQTRCO0FBQ25GLDZDQUE2Qyx5REFBeUQsV0FBVyxjQUFjO0FBQy9ILHNEQUFzRCwwREFBMEQsMENBQTBDLHFCQUFxQiwrREFBK0QsWUFBWTtBQUMxUCw2REFBNkQsMERBQTBELDBDQUEwQyxpQkFBaUIseURBQXlEO0FBQzNPO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIscURBQXFELDBEQUEwRCx5Q0FBeUMscUJBQXFCLCtEQUErRCxZQUFZO0FBQ3hQLDREQUE0RCwwREFBMEQseUNBQXlDLGlCQUFpQix5REFBeUQ7QUFDek87QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQixpREFBaUQsNkRBQTZELFdBQVcsY0FBYztBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9yb3RhdGUvbGliL2Nqcy9yb3RhdGUuanM/N2E0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIFJvdGF0ZUJhY2t3YXJkSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMy40MzQsMTAuNTM3YzAuMTQxLTAuNDM4LDAuMzE2LTAuODY0LDAuNTIzLTEuMjc0XFxuICAgICAgICAgICAgTTMuMDY5LDE0LjQyNUMzLjAyMywxNC4wNTMsMywxMy42NzksMywxMy4zMDUgYzAtMC4yOTEsMC4wMTQtMC41NzksMC4wNDEtMC44NjNcXG4gICAgICAgICAgICBNNC4zODksMTguMTExYy0wLjM0MS0wLjUzOS0wLjYyMy0xLjExMi0wLjg0My0xLjcxMVxcbiAgICAgICAgICAgIE03LjE2MywyMC45IGMtMC41NDMtMC4zNDUtMS4wNDgtMC43NDctMS41MDYtMS4yXFxuICAgICAgICAgICAgTTEwLjk4LDIyLjI0OGMtMC42NS0wLjA3NC0xLjI5LTAuMjE4LTEuOTA5LTAuNDMxXFxuICAgICAgICAgICAgTTEwLDQuMjVoMiBjNC45ODcsMC4wMTUsOS4wMTcsNC4wNjksOS4wMDMsOS4wNTVjLTAuMDEzLDQuNTgxLTMuNDU2LDguNDI2LTguMDA4LDguOTQ1XFxuICAgICAgICAgICAgTTEzLjUsMS43NUwxMCw0LjI1bDMuNSwyLjVcIiB9KSkpOyB9O1xuXG52YXIgUm90YXRlRm9yd2FyZEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBpZ25vcmVEaXJlY3Rpb246IHRydWUsIHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIwLjU2NiwxMC41MzdjLTAuMTQxLTAuNDM4LTAuMzE2LTAuODY0LTAuNTIzLTEuMjc0XFxuICAgICAgICAgICAgTTIwLjkzMSwxNC40MjVDMjAuOTc3LDE0LjA1MywyMSwxMy42NzksMjEsMTMuMzA1IGMwLTAuMjkxLTAuMDE0LTAuNTc5LTAuMDQxLTAuODYzXFxuICAgICAgICAgICAgTTE5LjYxMSwxOC4xMTFjMC4zNDEtMC41MzksMC42MjQtMS4xMTQsMC44NDMtMS43MTNcXG4gICAgICAgICAgICBNMTYuODM3LDIwLjkgYzAuNTQzLTAuMzQ1LDEuMDQ4LTAuNzQ3LDEuNTA2LTEuMlxcbiAgICAgICAgICAgIE0xMy4wMiwyMi4yNDhjMC42NS0wLjA3NCwxLjI5LTAuMjE4LDEuOTA5LTAuNDMxXFxuICAgICAgICAgICAgTTE0LDQuMjVoLTIgYy00Ljk4NywwLjAxNS05LjAxNyw0LjA2OS05LjAwMyw5LjA1NWMwLjAxMyw0LjU4MSwzLjQ1Niw4LjQyNiw4LjAwOCw4Ljk0NVxcbiAgICAgICAgICAgIE0xMC41LDEuNzVsMy41LDIuNWwtMy41LDIuNVwiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBSb3RhdGVCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gX2EuZGlyZWN0aW9uLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGJhY2t3YXJkTGFiZWwgPSBsMTBuICYmIGwxMG4ucm90YXRlID8gbDEwbi5yb3RhdGUucm90YXRlQmFja3dhcmQgOiAnUm90YXRlIGNvdW50ZXJjbG9ja3dpc2UnO1xuICAgIHZhciBmb3J3YXJkTGFiZWwgPSBsMTBuICYmIGwxMG4ucm90YXRlID8gbDEwbi5yb3RhdGUucm90YXRlRm9yd2FyZCA6ICdSb3RhdGUgY2xvY2t3aXNlJztcbiAgICB2YXIgbGFiZWwgPSBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gYmFja3dhcmRMYWJlbCA6IGZvcndhcmRMYWJlbDtcbiAgICB2YXIgaWNvbiA9IGRpcmVjdGlvbiA9PT0gY29yZS5Sb3RhdGVEaXJlY3Rpb24uQmFja3dhcmQgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlQmFja3dhcmRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVGb3J3YXJkSWNvbiwgbnVsbCk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJyb3RhdGVcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gJ3JvdGF0ZV9fYmFja3dhcmQtYnV0dG9uJyA6ICdyb3RhdGVfX2ZvcndhcmQtYnV0dG9uJywgb25DbGljazogb25DbGljayB9LCBpY29uKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFiZWw7IH0sIG9mZnNldDogVE9PTFRJUF9PRkZTRVQgfSkpO1xufTtcblxudmFyIFJvdGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBkaXJlY3Rpb24gPSBfYS5kaXJlY3Rpb24sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3RhdGUgPSBzdG9yZS5nZXQoJ3JvdGF0ZScpO1xuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICByb3RhdGUoZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDaGlsZHJlbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVCdXR0b24sIHsgZGlyZWN0aW9uOiBwcm9wcy5kaXJlY3Rpb24sIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSkpOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRyZW47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFJvdGF0ZU1lbnVJdGVtID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IF9hLmRpcmVjdGlvbiwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBiYWNrd2FyZExhYmVsID0gbDEwbiAmJiBsMTBuLnJvdGF0ZSA/IGwxMG4ucm90YXRlLnJvdGF0ZUJhY2t3YXJkIDogJ1JvdGF0ZSBjb3VudGVyY2xvY2t3aXNlJztcbiAgICB2YXIgZm9yd2FyZExhYmVsID0gbDEwbiAmJiBsMTBuLnJvdGF0ZSA/IGwxMG4ucm90YXRlLnJvdGF0ZUZvcndhcmQgOiAnUm90YXRlIGNsb2Nrd2lzZSc7XG4gICAgdmFyIGxhYmVsID0gZGlyZWN0aW9uID09PSBjb3JlLlJvdGF0ZURpcmVjdGlvbi5CYWNrd2FyZCA/IGJhY2t3YXJkTGFiZWwgOiBmb3J3YXJkTGFiZWw7XG4gICAgdmFyIGljb24gPSBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUJhY2t3YXJkSWNvbiwgbnVsbCkgOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlRm9yd2FyZEljb24sIG51bGwpO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogaWNvbiwgdGVzdElkOiBkaXJlY3Rpb24gPT09IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkID8gJ3JvdGF0ZV9fYmFja3dhcmQtbWVudScgOiAncm90YXRlX19mb3J3YXJkLW1lbnUnLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgUm90YXRlUGFnZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBvblJvdGF0ZVBhZ2UgPSBmdW5jdGlvbiAocGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIHJvdGF0ZVBhZ2UgPSBzdG9yZS5nZXQoJ3JvdGF0ZVBhZ2UnKTtcbiAgICAgICAgaWYgKHJvdGF0ZVBhZ2UpIHtcbiAgICAgICAgICAgIHJvdGF0ZVBhZ2UocGFnZUluZGV4LCBkaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gY2hpbGRyZW4oe1xuICAgICAgICBvblJvdGF0ZVBhZ2U6IG9uUm90YXRlUGFnZSxcbiAgICB9KTtcbn07XG5cbnZhciByb3RhdGVQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoKTsgfSwgW10pO1xuICAgIHZhciBSb3RhdGVEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGUsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVCYWNrd2FyZEJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlRGVjb3JhdG9yLCB7IGRpcmVjdGlvbjogY29yZS5Sb3RhdGVEaXJlY3Rpb24uQmFja3dhcmQgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZURlY29yYXRvciwgeyBkaXJlY3Rpb246IGNvcmUuUm90YXRlRGlyZWN0aW9uLkJhY2t3YXJkIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZU1lbnVJdGVtLCB7IGRpcmVjdGlvbjogcC5kaXJlY3Rpb24sIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBSb3RhdGVGb3J3YXJkQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVEZWNvcmF0b3IsIHsgZGlyZWN0aW9uOiBjb3JlLlJvdGF0ZURpcmVjdGlvbi5Gb3J3YXJkIH0sIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgUm90YXRlRm9yd2FyZE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZURlY29yYXRvciwgeyBkaXJlY3Rpb246IGNvcmUuUm90YXRlRGlyZWN0aW9uLkZvcndhcmQgfSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlTWVudUl0ZW0sIHsgZGlyZWN0aW9uOiBwLmRpcmVjdGlvbiwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgdmFyIFJvdGF0ZVBhZ2VEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSb3RhdGVQYWdlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3JvdGF0ZScsIHBsdWdpbkZ1bmN0aW9ucy5yb3RhdGUpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyb3RhdGVQYWdlJywgcGx1Z2luRnVuY3Rpb25zLnJvdGF0ZVBhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBSb3RhdGU6IFJvdGF0ZURlY29yYXRvcixcbiAgICAgICAgUm90YXRlQmFja3dhcmRCdXR0b246IFJvdGF0ZUJhY2t3YXJkQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtOiBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVGb3J3YXJkQnV0dG9uOiBSb3RhdGVGb3J3YXJkQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBSb3RhdGVGb3J3YXJkTWVudUl0ZW06IFJvdGF0ZUZvcndhcmRNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgUm90YXRlUGFnZTogUm90YXRlUGFnZURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5Sb3RhdGVCYWNrd2FyZEljb24gPSBSb3RhdGVCYWNrd2FyZEljb247XG5leHBvcnRzLlJvdGF0ZUZvcndhcmRJY29uID0gUm90YXRlRm9yd2FyZEljb247XG5leHBvcnRzLnJvdGF0ZVBsdWdpbiA9IHJvdGF0ZVBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/rotate/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/rotate/lib/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/rotate.js */ \"./node_modules/@react-pdf-viewer/rotate/lib/cjs/rotate.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvcm90YXRlL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksd0hBQTJDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9yb3RhdGUvbGliL2luZGV4LmpzP2RiZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JvdGF0ZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yb3RhdGUuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/rotate/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar HorizontalScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar VerticalScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z\" }))); };\n\nvar WrappedScrollingIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\" }))); };\n\nvar SwitchScrollModeDecorator = function (_a) {\n    var children = _a.children, mode = _a.mode, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = '';\n    var icon = React__namespace.createElement(VerticalScrollingIcon, null);\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.horizontalScrolling\n                    : 'Horizontal scrolling';\n            icon = React__namespace.createElement(HorizontalScrollingIcon, null);\n            break;\n        case core.ScrollMode.Wrapped:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.wrappedScrolling\n                    : 'Wrapped scrolling';\n            icon = React__namespace.createElement(WrappedScrollingIcon, null);\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            label =\n                l10n && l10n.scrollMode\n                    ? l10n.scrollMode.verticalScrolling\n                    : 'Vertical scrolling';\n            icon = React__namespace.createElement(VerticalScrollingIcon, null);\n            break;\n    }\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchScrollModeButton = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            testId = 'scroll-mode__horizontal-button';\n            break;\n        case core.ScrollMode.Wrapped:\n            testId = 'scroll-mode__wrapped-button';\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            testId = 'scroll-mode__vertical-button';\n            break;\n    }\n    return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"scroll-mode-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: props.label, isSelected: isSelected, testId: testId, onClick: props.onClick }, props.icon), content: function () { return props.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar useScrollMode = function (store) {\n    var _a = React__namespace.useState(store.get('scrollMode') || core.ScrollMode.Vertical), scrollMode = _a[0], setScrollMode = _a[1];\n    var handleScrollModeChanged = function (currentScrollMode) {\n        setScrollMode(currentScrollMode);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('scrollMode', handleScrollModeChanged);\n        return function () {\n            store.unsubscribe('scrollMode', handleScrollModeChanged);\n        };\n    }, []);\n    return { scrollMode: scrollMode };\n};\n\nvar SwitchScrollMode = function (_a) {\n    var children = _a.children, mode = _a.mode, store = _a.store;\n    var scrollMode = useScrollMode(store).scrollMode;\n    var onClick = function () {\n        store.get('switchScrollMode')(mode);\n    };\n    var isSelected = scrollMode === mode;\n    var defaultChildren = function (props) { return (React__namespace.createElement(SwitchScrollModeButton, { isSelected: isSelected, mode: props.mode, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isSelected: isSelected,\n        mode: mode,\n        onClick: onClick,\n    });\n};\n\nvar SwitchScrollModeMenuItem = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case core.ScrollMode.Horizontal:\n            testId = 'scroll-mode__horizontal-menu';\n            break;\n        case core.ScrollMode.Wrapped:\n            testId = 'scroll-mode__wrapped-menu';\n            break;\n        case core.ScrollMode.Vertical:\n        default:\n            testId = 'scroll-mode__vertical-menu';\n            break;\n    }\n    return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.MenuItem, { checked: isSelected, icon: props.icon, testId: testId, onClick: props.onClick }, props.label)); }));\n};\n\nvar scrollModePlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            scrollMode: core.ScrollMode.Vertical,\n            switchScrollMode: function () {\n            },\n        });\n    }, []);\n    var SwitchScrollModeDecorator = function (props) { return React__namespace.createElement(SwitchScrollMode, __assign({}, props, { store: store })); };\n    var SwitchScrollModeButtonDecorator = function (props) { return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchScrollModeButton, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n        } })); })); };\n    var SwitchScrollModeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchScrollModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchScrollModeMenuItem, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        install: function (pluginFunctions) {\n            store.update('switchScrollMode', pluginFunctions.switchScrollMode);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('scrollMode', viewerState.scrollMode);\n            return viewerState;\n        },\n        switchScrollMode: function (mode) {\n            store.get('switchScrollMode')(mode);\n        },\n        SwitchScrollMode: SwitchScrollModeDecorator,\n        SwitchScrollModeButton: SwitchScrollModeButtonDecorator,\n        SwitchScrollModeMenuItem: SwitchScrollModeMenuItemDecorator,\n    };\n};\n\nexports.HorizontalScrollingIcon = HorizontalScrollingIcon;\nexports.VerticalScrollingIcon = VerticalScrollingIcon;\nexports.WrappedScrollingIcon = WrappedScrollingIcon;\nexports.scrollModePlugin = scrollModePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2Nyb2xsLW1vZGUvbGliL2Nqcy9zY3JvbGwtbW9kZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRDQUE0QyxvREFBb0QsVUFBVTtBQUMxRyw2Q0FBNkMsaVdBQWlXOztBQUU5WTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDLG9EQUFvRCxVQUFVO0FBQ3hHLDZDQUE2QyxtV0FBbVc7O0FBRWhaLHlDQUF5QyxvREFBb0QsVUFBVTtBQUN2Ryw2Q0FBNkMsbWRBQW1kOztBQUVoZ0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBNEM7QUFDbEU7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSw4QkFBOEIscUJBQXFCLHVEQUF1RCw2SUFBNkksd0ZBQXdGLHNDQUFzQyxxQkFBcUIsMEJBQTBCLEtBQUs7QUFDamY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGlFQUFpRSxrRUFBa0U7QUFDaEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsOEJBQThCLHFCQUFxQix3REFBd0QsK0VBQStFLGtCQUFrQjtBQUNwUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsdURBQXVELG1FQUFtRSxXQUFXLGNBQWM7QUFDbkosNkRBQTZELG9FQUFvRSxrQkFBa0IsaUJBQWlCLGlFQUFpRTtBQUNyTztBQUNBLFdBQVcsS0FBSztBQUNoQiwrREFBK0Qsb0VBQW9FLGtCQUFrQixpQkFBaUIsbUVBQW1FO0FBQ3pPO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCO0FBQy9CLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUIsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9zY3JvbGwtbW9kZS9saWIvY2pzL3Njcm9sbC1tb2RlLmpzP2VlMDMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBIb3Jpem9udGFsU2Nyb2xsaW5nSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYuNSwyMS41YzAsMC41NTItMC40NDgsMS0xLDFoLTRjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTIwYzAtMC41NTIsMC40NDgtMSwxLTFoNGMwLjU1MiwwLDEsMC40NDgsMSwxVjIxLjV6XFxuICAgICAgICAgICAgTTE0LjUsMjEuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxaC00Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi0yMGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDRjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMS41elxcbiAgICAgICAgICAgIE0yMi41LDIxLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLTRjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTIwYzAtMC41NTIsMC40NDgtMSwxLTFoNGMwLjU1MiwwLDEsMC40NDgsMSwxVjIxLjV6XCIgfSkpKTsgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgVmVydGljYWxTY3JvbGxpbmdJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjMuNSw1LjVjMCwwLjU1Mi0wLjQ0OCwxLTEsMWgtMjFjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTNjMC0wLjU1MiwwLjQ0OC0xLDEtMWgyMWMwLjU1MiwwLDEsMC40NDgsMSwxVjUuNXpcXG4gICAgICAgICAgICBNMjMuNSwxMy41YzAsMC41NTItMC40NDgsMS0xLDFoLTIxYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0zYzAtMC41NTIsMC40NDgtMSwxLTFoMjFjMC41NTIsMCwxLDAuNDQ4LDEsMVYxMy41elxcbiAgICAgICAgICAgIE0yMy41LDIxLjUgYzAsMC41NTItMC40NDgsMS0xLDFoLTIxYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0zYzAtMC41NTIsMC40NDgtMSwxLTFoMjFjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMS41elwiIH0pKSk7IH07XG5cbnZhciBXcmFwcGVkU2Nyb2xsaW5nSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjUsOS41YzAsMC41NTItMC40NDgsMS0xLDFoLThjLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LThjMC0wLjU1MiwwLjQ0OC0xLDEtMWg4YzAuNTUyLDAsMSwwLjQ0OCwxLDFWOS41elxcbiAgICAgICAgICAgIE0yMy41LDkuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjkuNXpcXG4gICAgICAgICAgICBNMTAuNSwyMi41IGMwLDAuNTUyLTAuNDQ4LDEtMSwxaC04Yy0wLjU1MiwwLTEtMC40NDgtMS0xdi04YzAtMC41NTIsMC40NDgtMSwxLTFoOGMwLjU1MiwwLDEsMC40NDgsMSwxVjIyLjV6XFxuICAgICAgICAgICAgTTIzLjUsMjIuNWMwLDAuNTUyLTAuNDQ4LDEtMSwxIGgtOGMtMC41NTIsMC0xLTAuNDQ4LTEtMXYtOGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDhjMC41NTIsMCwxLDAuNDQ4LDEsMVYyMi41elwiIH0pKSk7IH07XG5cbnZhciBTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG1vZGUgPSBfYS5tb2RlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gJyc7XG4gICAgdmFyIGljb24gPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVmVydGljYWxTY3JvbGxpbmdJY29uLCBudWxsKTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2Nyb2xsTW9kZVxuICAgICAgICAgICAgICAgICAgICA/IGwxMG4uc2Nyb2xsTW9kZS5ob3Jpem9udGFsU2Nyb2xsaW5nXG4gICAgICAgICAgICAgICAgICAgIDogJ0hvcml6b250YWwgc2Nyb2xsaW5nJztcbiAgICAgICAgICAgIGljb24gPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSG9yaXpvbnRhbFNjcm9sbGluZ0ljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICBsYWJlbCA9XG4gICAgICAgICAgICAgICAgbDEwbiAmJiBsMTBuLnNjcm9sbE1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnNjcm9sbE1vZGUud3JhcHBlZFNjcm9sbGluZ1xuICAgICAgICAgICAgICAgICAgICA6ICdXcmFwcGVkIHNjcm9sbGluZyc7XG4gICAgICAgICAgICBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFdyYXBwZWRTY3JvbGxpbmdJY29uLCBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2Nyb2xsTW9kZVxuICAgICAgICAgICAgICAgICAgICA/IGwxMG4uc2Nyb2xsTW9kZS52ZXJ0aWNhbFNjcm9sbGluZ1xuICAgICAgICAgICAgICAgICAgICA6ICdWZXJ0aWNhbCBzY3JvbGxpbmcnO1xuICAgICAgICAgICAgaWNvbiA9IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChWZXJ0aWNhbFNjcm9sbGluZ0ljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlbih7IGljb246IGljb24sIGxhYmVsOiBsYWJlbCwgb25DbGljazogb25DbGljayB9KTtcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgU3dpdGNoU2Nyb2xsTW9kZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9faG9yaXpvbnRhbC1idXR0b24nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLldyYXBwZWQ6XG4gICAgICAgICAgICB0ZXN0SWQgPSAnc2Nyb2xsLW1vZGVfX3dyYXBwZWQtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5WZXJ0aWNhbDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9fdmVydGljYWwtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwic2Nyb2xsLW1vZGUtc3dpdGNoXCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogcHJvcHMubGFiZWwsIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsIHRlc3RJZDogdGVzdElkLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sIHByb3BzLmljb24pLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wcy5sYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7IH0pKTtcbn07XG5cbnZhciB1c2VTY3JvbGxNb2RlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3Njcm9sbE1vZGUnKSB8fCBjb3JlLlNjcm9sbE1vZGUuVmVydGljYWwpLCBzY3JvbGxNb2RlID0gX2FbMF0sIHNldFNjcm9sbE1vZGUgPSBfYVsxXTtcbiAgICB2YXIgaGFuZGxlU2Nyb2xsTW9kZUNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFNjcm9sbE1vZGUpIHtcbiAgICAgICAgc2V0U2Nyb2xsTW9kZShjdXJyZW50U2Nyb2xsTW9kZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnc2Nyb2xsTW9kZScsIGhhbmRsZVNjcm9sbE1vZGVDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdzY3JvbGxNb2RlJywgaGFuZGxlU2Nyb2xsTW9kZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBzY3JvbGxNb2RlOiBzY3JvbGxNb2RlIH07XG59O1xuXG52YXIgU3dpdGNoU2Nyb2xsTW9kZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBtb2RlID0gX2EubW9kZSwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgc2Nyb2xsTW9kZSA9IHVzZVNjcm9sbE1vZGUoc3RvcmUpLnNjcm9sbE1vZGU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLmdldCgnc3dpdGNoU2Nyb2xsTW9kZScpKG1vZGUpO1xuICAgIH07XG4gICAgdmFyIGlzU2VsZWN0ZWQgPSBzY3JvbGxNb2RlID09PSBtb2RlO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZUJ1dHRvbiwgeyBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLCBtb2RlOiBwcm9wcy5tb2RlLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzY3JvbGwtbW9kZV9faG9yaXpvbnRhbC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvcmUuU2Nyb2xsTW9kZS5XcmFwcGVkOlxuICAgICAgICAgICAgdGVzdElkID0gJ3Njcm9sbC1tb2RlX193cmFwcGVkLW1lbnUnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZS5TY3JvbGxNb2RlLlZlcnRpY2FsOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3Njcm9sbC1tb2RlX192ZXJ0aWNhbC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgY2hlY2tlZDogaXNTZWxlY3RlZCwgaWNvbjogcHJvcHMuaWNvbiwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMubGFiZWwpKTsgfSkpO1xufTtcblxudmFyIHNjcm9sbE1vZGVQbHVnaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JlID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvcmUuY3JlYXRlU3RvcmUoe1xuICAgICAgICAgICAgc2Nyb2xsTW9kZTogY29yZS5TY3JvbGxNb2RlLlZlcnRpY2FsLFxuICAgICAgICAgICAgc3dpdGNoU2Nyb2xsTW9kZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBTd2l0Y2hTY3JvbGxNb2RlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSk7IH07XG4gICAgdmFyIFN3aXRjaFNjcm9sbE1vZGVCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZURlY29yYXRvciwgeyBtb2RlOiBwcm9wcy5tb2RlIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVCdXR0b24sIHsgaXNTZWxlY3RlZDogcC5pc1NlbGVjdGVkLCBtb2RlOiBwLm1vZGUsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBTd2l0Y2hTY3JvbGxNb2RlTWVudUl0ZW1EZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZURlY29yYXRvciwgeyBtb2RlOiBwcm9wcy5tb2RlIH0sIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgeyBpc1NlbGVjdGVkOiBwLmlzU2VsZWN0ZWQsIG1vZGU6IHAubW9kZSwgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5vbkNsaWNrKCk7XG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKCk7XG4gICAgICAgIH0gfSkpOyB9KSk7IH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdzd2l0Y2hTY3JvbGxNb2RlJywgcGx1Z2luRnVuY3Rpb25zLnN3aXRjaFNjcm9sbE1vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2Nyb2xsTW9kZScsIHZpZXdlclN0YXRlLnNjcm9sbE1vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHZpZXdlclN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzd2l0Y2hTY3JvbGxNb2RlOiBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICAgICAgc3RvcmUuZ2V0KCdzd2l0Y2hTY3JvbGxNb2RlJykobW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGU6IFN3aXRjaFNjcm9sbE1vZGVEZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGVCdXR0b246IFN3aXRjaFNjcm9sbE1vZGVCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbTogU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLkhvcml6b250YWxTY3JvbGxpbmdJY29uID0gSG9yaXpvbnRhbFNjcm9sbGluZ0ljb247XG5leHBvcnRzLlZlcnRpY2FsU2Nyb2xsaW5nSWNvbiA9IFZlcnRpY2FsU2Nyb2xsaW5nSWNvbjtcbmV4cG9ydHMuV3JhcHBlZFNjcm9sbGluZ0ljb24gPSBXcmFwcGVkU2Nyb2xsaW5nSWNvbjtcbmV4cG9ydHMuc2Nyb2xsTW9kZVBsdWdpbiA9IHNjcm9sbE1vZGVQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/scroll-mode.js */ \"./node_modules/@react-pdf-viewer/scroll-mode/lib/cjs/scroll-mode.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2Nyb2xsLW1vZGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSx1SUFBZ0Q7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3Njcm9sbC1tb2RlL2xpYi9pbmRleC5qcz80NjM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY3JvbGwtbW9kZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY3JvbGwtbW9kZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/search/lib/cjs/search.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/search/lib/cjs/search.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar NextIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\\n            L23.541,5.627\" }))); };\n\nvar PreviousIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\\n            L0.535,18.373\" }))); };\n\nvar SearchIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\\n            M23.5,23.5\\n            l-5.929-5.929\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar EMPTY_KEYWORD_REGEXP = {\n    keyword: '',\n    regExp: new RegExp(' '),\n    wholeWords: false,\n};\n\nvar calculateOffset = function (children, parent) {\n    var top = children.offsetTop;\n    var left = children.offsetLeft;\n    var p = children.parentElement;\n    while (p && p !== parent) {\n        top += p.offsetTop;\n        left += p.offsetLeft;\n        p = p.parentElement;\n    }\n    return {\n        left: left,\n        top: top,\n    };\n};\n\nvar getCssProperties = function (area) {\n    return {\n        left: \"\".concat(area.left, \"%\"),\n        top: \"\".concat(area.top, \"%\"),\n        height: \"\".concat(area.height, \"%\"),\n        width: \"\".concat(area.width, \"%\"),\n    };\n};\n\nvar HightlightItem = function (_a) {\n    var index = _a.index, area = _a.area, onHighlightKeyword = _a.onHighlightKeyword;\n    var containerRef = React__namespace.useRef();\n    core.useIsomorphicLayoutEffect(function () {\n        var highlightEle = containerRef.current;\n        if (onHighlightKeyword && highlightEle) {\n            onHighlightKeyword({\n                highlightEle: highlightEle,\n                keyword: area.keyword,\n            });\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-search__highlight\", \"data-index\": index, ref: containerRef, style: getCssProperties(area), title: area.keywordStr.trim() }));\n};\n\nvar removeNode = function (ele) {\n    var parent = ele.parentNode;\n    if (parent) {\n        parent.removeChild(ele);\n    }\n};\nvar replaceNode = function (replacementNode, node) {\n    removeNode(replacementNode);\n    var parent = node.parentNode;\n    if (parent) {\n        parent.insertBefore(replacementNode, node);\n    }\n    removeNode(node);\n};\nvar unwrap = function (ele) {\n    var parent = ele.parentNode;\n    if (!parent) {\n        return;\n    }\n    var range = document.createRange();\n    range.selectNodeContents(ele);\n    replaceNode(range.extractContents(), ele);\n    parent.normalize();\n};\n\nvar sortHighlightPosition = function (a, b) {\n    if (a.top < b.top) {\n        return -1;\n    }\n    if (a.top > b.top) {\n        return 1;\n    }\n    if (a.left < b.left) {\n        return -1;\n    }\n    if (a.left > b.left) {\n        return 1;\n    }\n    return 0;\n};\nvar Highlights = function (_a) {\n    var numPages = _a.numPages, pageIndex = _a.pageIndex, renderHighlights = _a.renderHighlights, store = _a.store, onHighlightKeyword = _a.onHighlightKeyword;\n    var containerRef = React__namespace.useRef();\n    var defaultRenderHighlights = React__namespace.useCallback(function (renderProps) { return (React__namespace.createElement(React__namespace.Fragment, null, renderProps.highlightAreas.map(function (area, index) { return (React__namespace.createElement(HightlightItem, { index: index, key: index, area: area, onHighlightKeyword: onHighlightKeyword })); }))); }, []);\n    var renderHighlightElements = renderHighlights || defaultRenderHighlights;\n    var _b = React__namespace.useState(store.get('matchPosition')), matchPosition = _b[0], setMatchPosition = _b[1];\n    var _c = React__namespace.useState(store.get('keyword') || [EMPTY_KEYWORD_REGEXP]), keywordRegexp = _c[0], setKeywordRegexp = _c[1];\n    var _d = React__namespace.useState({\n        pageIndex: pageIndex,\n        scale: 1,\n        status: core.LayerRenderStatus.PreRender,\n    }), renderStatus = _d[0], setRenderStatus = _d[1];\n    var currentMatchRef = React__namespace.useRef(null);\n    var characterIndexesRef = React__namespace.useRef([]);\n    var _e = React__namespace.useState([]), highlightAreas = _e[0], setHighlightAreas = _e[1];\n    var defaultTargetPageFilter = function () { return true; };\n    var targetPageFilter = React__namespace.useCallback(function () { return store.get('targetPageFilter') || defaultTargetPageFilter; }, [store.get('targetPageFilter')]);\n    var highlight = function (keywordStr, keyword, textLayerEle, span, charIndexSpan) {\n        var range = document.createRange();\n        var firstChild = span.firstChild;\n        if (!firstChild || firstChild.nodeType !== Node.TEXT_NODE) {\n            return null;\n        }\n        var length = firstChild.textContent.length;\n        var startOffset = charIndexSpan[0].charIndexInSpan;\n        var endOffset = charIndexSpan.length === 1 ? startOffset : charIndexSpan[charIndexSpan.length - 1].charIndexInSpan;\n        if (startOffset > length || endOffset + 1 > length) {\n            return null;\n        }\n        range.setStart(firstChild, startOffset);\n        range.setEnd(firstChild, endOffset + 1);\n        var wrapper = document.createElement('span');\n        range.surroundContents(wrapper);\n        var wrapperRect = wrapper.getBoundingClientRect();\n        var textLayerRect = textLayerEle.getBoundingClientRect();\n        var pageHeight = textLayerRect.height;\n        var pageWidth = textLayerRect.width;\n        var left = (100 * (wrapperRect.left - textLayerRect.left)) / pageWidth;\n        var top = (100 * (wrapperRect.top - textLayerRect.top)) / pageHeight;\n        var height = (100 * wrapperRect.height) / pageHeight;\n        var width = (100 * wrapperRect.width) / pageWidth;\n        unwrap(wrapper);\n        return {\n            keyword: keyword,\n            keywordStr: keywordStr,\n            numPages: numPages,\n            pageIndex: pageIndex,\n            left: left,\n            top: top,\n            height: height,\n            width: width,\n            pageHeight: pageHeight,\n            pageWidth: pageWidth,\n        };\n    };\n    var highlightAll = function (textLayerEle) {\n        var charIndexes = characterIndexesRef.current;\n        if (charIndexes.length === 0) {\n            return [];\n        }\n        var highlightPos = [];\n        var spans = [].slice.call(textLayerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        var fullText = charIndexes.map(function (item) { return item.char; }).join('');\n        keywordRegexp.forEach(function (keyword) {\n            var keywordStr = keyword.keyword;\n            if (!keywordStr.trim()) {\n                return;\n            }\n            var cloneKeyword = keyword.regExp.flags.indexOf('g') === -1\n                ? new RegExp(keyword.regExp, \"\".concat(keyword.regExp.flags, \"g\"))\n                : keyword.regExp;\n            var match;\n            var matches = [];\n            while ((match = cloneKeyword.exec(fullText)) !== null) {\n                matches.push({\n                    keyword: cloneKeyword,\n                    startIndex: match.index,\n                    endIndex: cloneKeyword.lastIndex,\n                });\n            }\n            matches\n                .map(function (item) { return ({\n                keyword: item.keyword,\n                indexes: charIndexes.slice(item.startIndex, item.endIndex),\n            }); })\n                .forEach(function (item) {\n                var spanIndexes = item.indexes.reduce(function (acc, item) {\n                    acc[item.spanIndex] = (acc[item.spanIndex] || []).concat([item]);\n                    return acc;\n                }, {});\n                Object.values(spanIndexes).forEach(function (charIndexSpan) {\n                    if (charIndexSpan.length !== 1 || charIndexSpan[0].char.trim() !== '') {\n                        var normalizedCharSpan = keyword.wholeWords ? charIndexSpan.slice(1, -1) : charIndexSpan;\n                        var hightlighPosition = highlight(keywordStr, item.keyword, textLayerEle, spans[normalizedCharSpan[0].spanIndex], normalizedCharSpan);\n                        if (hightlighPosition) {\n                            highlightPos.push(hightlighPosition);\n                        }\n                    }\n                });\n            });\n        });\n        return highlightPos.sort(sortHighlightPosition);\n    };\n    var handleKeywordChanged = function (keyword) {\n        if (keyword && keyword.length > 0) {\n            setKeywordRegexp(keyword);\n        }\n    };\n    var handleMatchPositionChanged = function (currentPosition) { return setMatchPosition(currentPosition); };\n    var handleRenderStatusChanged = function (status) {\n        if (!status.has(pageIndex)) {\n            return;\n        }\n        var currentStatus = status.get(pageIndex);\n        if (currentStatus) {\n            setRenderStatus({\n                ele: currentStatus.ele,\n                pageIndex: pageIndex,\n                scale: currentStatus.scale,\n                status: currentStatus.status,\n            });\n        }\n    };\n    var isEmptyKeyword = function () {\n        return keywordRegexp.length === 0 || (keywordRegexp.length === 1 && keywordRegexp[0].keyword.trim() === '');\n    };\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender ||\n            characterIndexesRef.current.length) {\n            return;\n        }\n        var textLayerEle = renderStatus.ele;\n        var spans = [].slice.call(textLayerEle.querySelectorAll('.rpv-core__text-layer-text'));\n        var charIndexes = spans\n            .map(function (span) { return span.textContent; })\n            .reduce(function (prev, curr, index) {\n            return prev.concat(curr.split('').map(function (c, i) { return ({\n                char: c,\n                charIndexInSpan: i,\n                spanIndex: index,\n            }); }));\n        }, [\n            {\n                char: '',\n                charIndexInSpan: 0,\n                spanIndex: 0,\n            },\n        ])\n            .slice(1);\n        characterIndexesRef.current = charIndexes;\n    }, [keywordRegexp, renderStatus.status]);\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() ||\n            !renderStatus.ele ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender ||\n            !targetPageFilter()({ pageIndex: pageIndex, numPages: numPages })) {\n            return;\n        }\n        var textLayerEle = renderStatus.ele;\n        var highlightPos = highlightAll(textLayerEle);\n        setHighlightAreas(highlightPos);\n    }, [keywordRegexp, matchPosition, renderStatus.status, characterIndexesRef.current]);\n    React__namespace.useEffect(function () {\n        if (isEmptyKeyword() && renderStatus.ele && renderStatus.status === core.LayerRenderStatus.DidRender) {\n            setHighlightAreas([]);\n        }\n    }, [keywordRegexp, renderStatus.status]);\n    React__namespace.useEffect(function () {\n        if (highlightAreas.length === 0) {\n            return;\n        }\n        var container = containerRef.current;\n        if (matchPosition.pageIndex !== pageIndex ||\n            !container ||\n            renderStatus.status !== core.LayerRenderStatus.DidRender) {\n            return;\n        }\n        var highlightEle = container.querySelector(\".rpv-search__highlight[data-index=\\\"\".concat(matchPosition.matchIndex, \"\\\"]\"));\n        if (!highlightEle) {\n            return;\n        }\n        var _a = calculateOffset(highlightEle, container), left = _a.left, top = _a.top;\n        var jump = store.get('jumpToDestination');\n        if (jump) {\n            jump(pageIndex, (container.getBoundingClientRect().height - top) / renderStatus.scale, left / renderStatus.scale, renderStatus.scale);\n            if (currentMatchRef.current) {\n                currentMatchRef.current.classList.remove('rpv-search__highlight--current');\n            }\n            currentMatchRef.current = highlightEle;\n            highlightEle.classList.add('rpv-search__highlight--current');\n        }\n    }, [highlightAreas, matchPosition]);\n    React__namespace.useEffect(function () {\n        store.subscribe('keyword', handleKeywordChanged);\n        store.subscribe('matchPosition', handleMatchPositionChanged);\n        store.subscribe('renderStatus', handleRenderStatusChanged);\n        return function () {\n            store.unsubscribe('keyword', handleKeywordChanged);\n            store.unsubscribe('matchPosition', handleMatchPositionChanged);\n            store.unsubscribe('renderStatus', handleRenderStatusChanged);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-search__highlights\", \"data-testid\": \"search__highlights-\".concat(pageIndex), ref: containerRef }, renderHighlightElements({\n        getCssProperties: getCssProperties,\n        highlightAreas: highlightAreas,\n    })));\n};\n\nvar escapeRegExp = function (input) { return input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); };\nvar normalizeFlagKeyword = function (flagKeyword) {\n    var source = flagKeyword.wholeWords ? \" \".concat(flagKeyword.keyword, \" \") : flagKeyword.keyword;\n    var flags = flagKeyword.matchCase ? 'g' : 'gi';\n    return {\n        keyword: flagKeyword.keyword,\n        regExp: new RegExp(escapeRegExp(source), flags),\n        wholeWords: flagKeyword.wholeWords || false,\n    };\n};\nvar normalizeSingleKeyword = function (keyword, matchCase, wholeWords) {\n    if (keyword instanceof RegExp) {\n        return {\n            keyword: keyword.source,\n            regExp: keyword,\n            wholeWords: wholeWords || false,\n        };\n    }\n    if (typeof keyword === 'string') {\n        return keyword === ''\n            ? EMPTY_KEYWORD_REGEXP\n            : normalizeFlagKeyword({\n                keyword: keyword,\n                matchCase: matchCase || false,\n                wholeWords: wholeWords || false,\n            });\n    }\n    if (typeof matchCase !== 'undefined') {\n        keyword.matchCase = matchCase;\n    }\n    if (typeof wholeWords !== 'undefined') {\n        keyword.wholeWords = wholeWords;\n    }\n    return normalizeFlagKeyword(keyword);\n};\n\nvar useDocument = function (store) {\n    var currentDocRef = React__namespace.useRef(store.get('doc'));\n    var handleDocumentChanged = function (doc) {\n        currentDocRef.current = doc;\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDocRef;\n};\n\nvar useSearch = function (store) {\n    var currentDocRef = useDocument(store);\n    var _a = React__namespace.useState([]), keywords = _a[0], setKeywords = _a[1];\n    var _b = React__namespace.useState([]), found = _b[0], setFound = _b[1];\n    var _c = React__namespace.useState(0), currentMatch = _c[0], setCurrentMatch = _c[1];\n    var _d = React__namespace.useState(false), matchCase = _d[0], setMatchCase = _d[1];\n    var textContents = React__namespace.useRef([]);\n    var _e = React__namespace.useState(false), wholeWords = _e[0], setWholeWords = _e[1];\n    var defaultTargetPageFilter = function () { return true; };\n    var targetPageFilter = React__namespace.useCallback(function () { return store.get('targetPageFilter') || defaultTargetPageFilter; }, [store.get('targetPageFilter')]);\n    var changeMatchCase = function (isChecked) {\n        setMatchCase(isChecked);\n        if (keywords.length > 0) {\n            searchFor(keywords, isChecked, wholeWords);\n        }\n    };\n    var changeWholeWords = function (isChecked) {\n        setWholeWords(isChecked);\n        if (keywords.length > 0) {\n            searchFor(keywords, matchCase, isChecked);\n        }\n    };\n    var jumpToMatch = function (index) {\n        var numMatches = found.length;\n        if (keywords.length === 0 || numMatches === 0) {\n            return null;\n        }\n        var normalizedIndex = index === numMatches + 1 ? 1 : Math.max(1, Math.min(numMatches, index));\n        setCurrentMatch(normalizedIndex);\n        return jumpToGivenMatch(found[normalizedIndex - 1]);\n    };\n    var jumpToPreviousMatch = function () { return jumpToMatch(currentMatch - 1); };\n    var jumpToNextMatch = function () { return jumpToMatch(currentMatch + 1); };\n    var clearKeyword = function () {\n        store.update('keyword', [EMPTY_KEYWORD_REGEXP]);\n        setKeyword('');\n        setCurrentMatch(0);\n        setFound([]);\n        setMatchCase(false);\n        setWholeWords(false);\n    };\n    var search = function () { return searchFor(keywords, matchCase, wholeWords); };\n    var setKeyword = function (keyword) { return setKeywords(keyword === '' ? [] : [keyword]); };\n    var setTargetPages = function (targetPageFilter) {\n        store.update('targetPageFilter', targetPageFilter);\n    };\n    var getTextContents = function () {\n        var currentDoc = currentDocRef.current;\n        if (!currentDoc) {\n            return Promise.resolve([]);\n        }\n        var promises = Array(currentDoc.numPages)\n            .fill(0)\n            .map(function (_, pageIndex) {\n            return core.getPage(currentDoc, pageIndex)\n                .then(function (page) {\n                return page.getTextContent();\n            })\n                .then(function (content) {\n                var pageContent = content.items.map(function (item) { return item.str || ''; }).join('');\n                return Promise.resolve({\n                    pageContent: pageContent,\n                    pageIndex: pageIndex,\n                });\n            });\n        });\n        return Promise.all(promises).then(function (data) {\n            data.sort(function (a, b) { return a.pageIndex - b.pageIndex; });\n            return Promise.resolve(data.map(function (item) { return item.pageContent; }));\n        });\n    };\n    var jumpToGivenMatch = function (match) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(match.pageIndex);\n        }\n        store.update('matchPosition', {\n            matchIndex: match.matchIndex,\n            pageIndex: match.pageIndex,\n        });\n        return match;\n    };\n    var getKeywordSource = function (keyword) {\n        if (keyword instanceof RegExp) {\n            return keyword.source;\n        }\n        if (typeof keyword === 'string') {\n            return keyword;\n        }\n        return keyword.keyword;\n    };\n    var searchFor = function (keywordParam, matchCaseParam, wholeWordsParam) {\n        var currentDoc = currentDocRef.current;\n        if (!currentDoc) {\n            return Promise.resolve([]);\n        }\n        var numPages = currentDoc.numPages;\n        var keywords = keywordParam.map(function (k) { return normalizeSingleKeyword(k, matchCaseParam, wholeWordsParam); });\n        store.update('keyword', keywords);\n        setCurrentMatch(0);\n        setFound([]);\n        return new Promise(function (resolve, _) {\n            var getTextPromise = textContents.current.length === 0\n                ? getTextContents().then(function (response) {\n                    textContents.current = response;\n                    return Promise.resolve(response);\n                })\n                : Promise.resolve(textContents.current);\n            getTextPromise.then(function (response) {\n                var arr = [];\n                response.forEach(function (pageText, pageIndex) {\n                    if (targetPageFilter()({ pageIndex: pageIndex, numPages: numPages })) {\n                        keywords.forEach(function (keyword) {\n                            var matchIndex = 0;\n                            var matches;\n                            while ((matches = keyword.regExp.exec(pageText)) !== null) {\n                                arr.push({\n                                    keyword: keyword.regExp,\n                                    matchIndex: matchIndex,\n                                    pageIndex: pageIndex,\n                                    pageText: pageText,\n                                    startIndex: matches.index,\n                                    endIndex: keyword.regExp.lastIndex,\n                                });\n                                matchIndex++;\n                            }\n                        });\n                    }\n                });\n                setFound(arr);\n                if (arr.length > 0) {\n                    setCurrentMatch(1);\n                    jumpToGivenMatch(arr[0]);\n                }\n                resolve(arr);\n            });\n        });\n    };\n    React__namespace.useEffect(function () {\n        textContents.current = [];\n    }, [currentDocRef.current]);\n    return {\n        clearKeyword: clearKeyword,\n        changeMatchCase: changeMatchCase,\n        changeWholeWords: changeWholeWords,\n        currentMatch: currentMatch,\n        jumpToMatch: jumpToMatch,\n        jumpToNextMatch: jumpToNextMatch,\n        jumpToPreviousMatch: jumpToPreviousMatch,\n        keywords: keywords,\n        matchCase: matchCase,\n        numberOfMatches: found.length,\n        wholeWords: wholeWords,\n        search: search,\n        searchFor: searchFor,\n        setKeywords: setKeywords,\n        keyword: keywords.length === 0 ? '' : getKeywordSource(keywords[0]),\n        setKeyword: setKeyword,\n        setTargetPages: setTargetPages,\n    };\n};\n\nvar Search = function (_a) {\n    var children = _a.children, store = _a.store;\n    var result = useSearch(store);\n    return children(__assign({}, result));\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var isMouseInsideRef = React__namespace.useRef(false);\n    var handleMouseEnter = function () {\n        isMouseInsideRef.current = true;\n    };\n    var handleMouseLeave = function () {\n        isMouseInsideRef.current = false;\n    };\n    var handleKeydown = function (e) {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        if (e.shiftKey || e.altKey || e.key !== 'f') {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey && !e.ctrlKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        if (isMouseInsideRef.current || (document.activeElement && containerEle.contains(document.activeElement))) {\n            e.preventDefault();\n            store.update('areShortcutsPressed', true);\n        }\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', handleKeydown);\n        containerEle.addEventListener('mouseenter', handleMouseEnter);\n        containerEle.addEventListener('mouseleave', handleMouseLeave);\n        return function () {\n            document.removeEventListener('keydown', handleKeydown);\n            containerEle.removeEventListener('mouseenter', handleMouseEnter);\n            containerEle.removeEventListener('mouseleave', handleMouseLeave);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar PORTAL_OFFSET$1 = { left: 0, top: 8 };\nvar SearchPopover = function (_a) {\n    var store = _a.store, onToggle = _a.onToggle;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var _b = React__namespace.useState(false), isQuerying = _b[0], setIsQuerying = _b[1];\n    var _c = React__namespace.useState(false), searchDone = _c[0], setSearchDone = _c[1];\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _d = useSearch(store), clearKeyword = _d.clearKeyword, changeMatchCase = _d.changeMatchCase, changeWholeWords = _d.changeWholeWords, currentMatch = _d.currentMatch, jumpToNextMatch = _d.jumpToNextMatch, jumpToPreviousMatch = _d.jumpToPreviousMatch, keyword = _d.keyword, matchCase = _d.matchCase, numberOfMatches = _d.numberOfMatches, wholeWords = _d.wholeWords, search = _d.search, setKeyword = _d.setKeyword;\n    var onKeydownSearch = function (e) {\n        if (e.key === 'Enter' && keyword) {\n            if (searchDone) {\n                jumpToNextMatch();\n            }\n            else {\n                setIsQuerying(true);\n                search().then(function (_) {\n                    setIsQuerying(false);\n                    setSearchDone(true);\n                });\n            }\n        }\n    };\n    var onChangeMatchCase = function (e) {\n        setSearchDone(false);\n        changeMatchCase(e.target.checked);\n    };\n    var onChangeWholeWords = function (e) {\n        setSearchDone(false);\n        changeWholeWords(e.target.checked);\n    };\n    var onClose = function () {\n        onToggle();\n        clearKeyword();\n    };\n    var onChangeKeyword = function (value) {\n        setSearchDone(false);\n        setKeyword(value);\n    };\n    var searchLabel = l10n && l10n.search ? l10n.search.enterToSearch : 'Enter to search';\n    var previousMatchLabel = l10n && l10n.search ? l10n.search.previousMatch : 'Previous match';\n    var nextMatchLabel = l10n && l10n.search ? l10n.search.nextMatch : 'Next match';\n    return (React__namespace.createElement(\"div\", { className: \"rpv-search__popover\" },\n        React__namespace.createElement(\"div\", { className: \"rpv-search__popover-input-counter\" },\n            React__namespace.createElement(core.TextBox, { ariaLabel: searchLabel, autoFocus: true, placeholder: searchLabel, type: \"text\", value: keyword, onChange: onChangeKeyword, onKeyDown: onKeydownSearch }),\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-search__popover-counter': true,\n                    'rpv-search__popover-counter--ltr': !isRtl,\n                    'rpv-search__popover-counter--rtl': isRtl,\n                }) },\n                isQuerying && React__namespace.createElement(core.Spinner, { testId: \"search__popover-searching\", size: \"1rem\" }),\n                !isQuerying && (React__namespace.createElement(\"span\", { \"data-testid\": \"search__popover-num-matches\" },\n                    currentMatch,\n                    \"/\",\n                    numberOfMatches)))),\n        React__namespace.createElement(\"label\", { className: \"rpv-search__popover-label\" },\n            React__namespace.createElement(\"input\", { className: \"rpv-search__popover-label-checkbox\", checked: matchCase, type: \"checkbox\", onChange: onChangeMatchCase }),\n            ' ',\n            l10n && l10n.search ? l10n.search.matchCase : 'Match case'),\n        React__namespace.createElement(\"label\", { className: \"rpv-search__popover-label\" },\n            React__namespace.createElement(\"input\", { className: \"rpv-search__popover-label-checkbox\", checked: wholeWords, type: \"checkbox\", onChange: onChangeWholeWords }),\n            ' ',\n            l10n && l10n.search ? l10n.search.wholeWords : 'Whole words'),\n        React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer\" },\n            React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer-item\" },\n                React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-previous-match\", position: isRtl ? core.Position.BottomRight : core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: previousMatchLabel, isDisabled: currentMatch <= 1, onClick: jumpToPreviousMatch },\n                        React__namespace.createElement(PreviousIcon, null)), content: function () { return previousMatchLabel; }, offset: PORTAL_OFFSET$1 })),\n            React__namespace.createElement(\"div\", { className: \"rpv-search__popover-footer-item\" },\n                React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-next-match\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: nextMatchLabel, isDisabled: currentMatch > numberOfMatches - 1, onClick: jumpToNextMatch },\n                        React__namespace.createElement(NextIcon, null)), content: function () { return nextMatchLabel; }, offset: PORTAL_OFFSET$1 })),\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-search__popover-footer-button': true,\n                    'rpv-search__popover-footer-button--ltr': !isRtl,\n                    'rpv-search__popover-footer-button--rtl': isRtl,\n                }) },\n                React__namespace.createElement(core.Button, { onClick: onClose }, l10n && l10n.search ? l10n.search.close : 'Close')))));\n};\n\nvar ShowSearchPopoverDecorator = function (_a) {\n    var children = _a.children, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.search ? l10n.search.search : 'Search';\n    var icon = React__namespace.createElement(SearchIcon, null);\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ShowSearchPopoverButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, store = _a.store, onClick = _a.onClick;\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+F' : 'Ctrl+F') : '';\n    var handleShortcutsPressed = function (areShortcutsPressed) {\n        if (areShortcutsPressed) {\n            onClick();\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('areShortcutsPressed', handleShortcutsPressed);\n        return function () {\n            store.unsubscribe('areShortcutsPressed', handleShortcutsPressed);\n        };\n    }, []);\n    return (React__namespace.createElement(ShowSearchPopoverDecorator, { onClick: onClick }, function (p) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"search-popover\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: p.label, testId: \"search__popover-button\", onClick: onClick }, p.icon), content: function () { return p.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar ShowSearchPopover = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var portalPosition = direction === core.TextDirection.RightToLeft ? core.Position.BottomRight : core.Position.BottomLeft;\n    var defaultChildren = function (props) { return (React__namespace.createElement(ShowSearchPopoverButton, __assign({ enableShortcuts: enableShortcuts, store: store }, props))); };\n    var render = children || defaultChildren;\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"search\", lockScroll: false, position: portalPosition, target: function (toggle) {\n            return render({\n                onClick: toggle,\n            });\n        }, content: function (toggle) { return React__namespace.createElement(SearchPopover, { store: store, onToggle: toggle }); }, offset: PORTAL_OFFSET, closeOnClickOutside: false, closeOnEscape: true }));\n};\n\nvar normalizeKeywords = function (keyword) {\n    return Array.isArray(keyword) ? keyword.map(function (k) { return normalizeSingleKeyword(k); }) : [normalizeSingleKeyword(keyword)];\n};\nvar searchPlugin = function (props) {\n    var searchPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true, onHighlightKeyword: function () { } }, props); }, []);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            matchPosition: {\n                matchIndex: -1,\n                pageIndex: -1,\n            },\n            renderStatus: new Map(),\n            keyword: props && props.keyword ? normalizeKeywords(props.keyword) : [EMPTY_KEYWORD_REGEXP],\n        });\n    }, []);\n    var _a = useSearch(store), clearKeyword = _a.clearKeyword, jumpToMatch = _a.jumpToMatch, jumpToNextMatch = _a.jumpToNextMatch, jumpToPreviousMatch = _a.jumpToPreviousMatch, searchFor = _a.searchFor, setKeywords = _a.setKeywords, setTargetPages = _a.setTargetPages;\n    var SearchDecorator = function (props) { return React__namespace.createElement(Search, __assign({}, props, { store: store })); };\n    var ShowSearchPopoverDecorator = function (props) { return (React__namespace.createElement(ShowSearchPopover, __assign({ enableShortcuts: searchPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ShowSearchPopoverButtonDecorator = function () { return (React__namespace.createElement(ShowSearchPopoverDecorator, null, function (props) { return (React__namespace.createElement(ShowSearchPopoverButton, __assign({ enableShortcuts: searchPluginProps.enableShortcuts, store: store }, props))); })); };\n    var renderViewer = function (renderViewerProps) {\n        var currentSlot = renderViewerProps.slot;\n        if (currentSlot.subSlot) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                searchPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: renderViewerProps.containerRef, store: store })),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    var renderPageLayer = function (renderProps) { return (React__namespace.createElement(Highlights, { key: renderProps.pageIndex, numPages: renderProps.doc.numPages, pageIndex: renderProps.pageIndex, renderHighlights: props === null || props === void 0 ? void 0 : props.renderHighlights, store: store, onHighlightKeyword: searchPluginProps.onHighlightKeyword })); };\n    return {\n        install: function (pluginFunctions) {\n            var keyword = props && props.keyword ? normalizeKeywords(props.keyword) : [EMPTY_KEYWORD_REGEXP];\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n            store.update('keyword', keyword);\n        },\n        renderPageLayer: renderPageLayer,\n        renderViewer: renderViewer,\n        uninstall: function (props) {\n            var renderStatus = store.get('renderStatus');\n            if (renderStatus) {\n                renderStatus.clear();\n            }\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        onTextLayerRender: function (props) {\n            var renderStatus = store.get('renderStatus');\n            if (renderStatus) {\n                renderStatus = renderStatus.set(props.pageIndex, props);\n                store.update('renderStatus', renderStatus);\n            }\n        },\n        Search: SearchDecorator,\n        ShowSearchPopover: ShowSearchPopoverDecorator,\n        ShowSearchPopoverButton: ShowSearchPopoverButtonDecorator,\n        clearHighlights: function () {\n            clearKeyword();\n        },\n        highlight: function (keyword) {\n            var keywords = Array.isArray(keyword) ? keyword : [keyword];\n            setKeywords(keywords);\n            return searchFor(keywords);\n        },\n        jumpToMatch: jumpToMatch,\n        jumpToNextMatch: jumpToNextMatch,\n        jumpToPreviousMatch: jumpToPreviousMatch,\n        setTargetPages: setTargetPages,\n    };\n};\n\nexports.NextIcon = NextIcon;\nexports.PreviousIcon = PreviousIcon;\nexports.SearchIcon = SearchIcon;\nexports.searchPlugin = searchPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VhcmNoL2xpYi9janMvc2VhcmNoLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2QyxpSUFBaUk7O0FBRTlLLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMsbUlBQW1JOztBQUVoTCwrQkFBK0Isb0RBQW9ELGlDQUFpQztBQUNwSCw2Q0FBNkMsOElBQThJOztBQUUzTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLG9EQUFvRCwwSUFBMEk7QUFDOUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RixnSUFBZ0kseURBQXlELDhFQUE4RSxLQUFLLE1BQU07QUFDMVc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hELHNFQUFzRSxrRUFBa0U7QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELG1CQUFtQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEI7QUFDN0Q7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMENBQTBDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0QsZ0hBQWdIO0FBQ3BLO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsc0NBQXNDLCtCQUErQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCxzRUFBc0Usa0VBQWtFO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1Qyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNFQUFzRSx3QkFBd0I7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSx3Q0FBd0MsbUNBQW1DO0FBQzNFLDhEQUE4RCwwQkFBMEI7QUFDeEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG9FQUFvRTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDBDQUEwQztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQ0FBa0M7QUFDdEYsZ0RBQWdELGdEQUFnRDtBQUNoRywyREFBMkQsd0pBQXdKO0FBQ25OLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsR0FBRztBQUNwQiw2RUFBNkUsbURBQW1EO0FBQ2hJLHlFQUF5RSw4Q0FBOEM7QUFDdkg7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdDQUF3QztBQUMxRixzREFBc0Qsb0hBQW9IO0FBQzFLO0FBQ0E7QUFDQSxrREFBa0Qsd0NBQXdDO0FBQzFGLHNEQUFzRCxzSEFBc0g7QUFDNUs7QUFDQTtBQUNBLGdEQUFnRCx5Q0FBeUM7QUFDekYsb0RBQW9ELDhDQUE4QztBQUNsRywrREFBK0Qsb0xBQW9MLDRGQUE0RjtBQUMvVSxvR0FBb0csNEJBQTRCLDJCQUEyQjtBQUMzSixvREFBb0QsOENBQThDO0FBQ2xHLCtEQUErRCw0SUFBNEkscUdBQXFHO0FBQ2hULGdHQUFnRyx3QkFBd0IsMkJBQTJCO0FBQ25KLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsR0FBRztBQUNwQiw4REFBOEQsa0JBQWtCO0FBQ2hGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNENBQTRDO0FBQ2xFOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx5RUFBeUUsa0JBQWtCLGlCQUFpQix1REFBdUQseUlBQXlJLDRHQUE0RyxrQ0FBa0MsaUJBQWlCLDBCQUEwQixLQUFLO0FBQzFlOztBQUVBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyRUFBMkUsZ0RBQWdEO0FBQ3hLO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUywrQkFBK0IsdURBQXVELGdDQUFnQyxJQUFJLDBFQUEwRTtBQUM3TTs7QUFFQTtBQUNBLCtEQUErRCxtQ0FBbUM7QUFDbEc7QUFDQTtBQUNBLG1FQUFtRSx1QkFBdUIsSUFBSSw0REFBNEQsV0FBVztBQUNySztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsNkNBQTZDLHlEQUF5RCxXQUFXLGNBQWM7QUFDL0gsd0RBQXdELHFFQUFxRSxvREFBb0QsV0FBVyxjQUFjO0FBQzFNLHlEQUF5RCw0RkFBNEYsMkVBQTJFLGtFQUFrRSxhQUFhO0FBQy9TO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLDREQUE0RDtBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxxREFBcUQsa1FBQWtRO0FBQzFXO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0I7QUFDaEIsb0JBQW9CO0FBQ3BCLGtCQUFrQjtBQUNsQixvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3NlYXJjaC9saWIvY2pzL3NlYXJjaC5qcz9iMWQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgTmV4dEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjU0MSw1LjYyN0wxMS42NjYsMTguMmMwLjE4MywwLjIwNywwLjQ5OSwwLjIyNiwwLjcwNiwwLjA0M2MwLjAxNS0wLjAxNCwwLjAzLTAuMDI4LDAuMDQzLTAuMDQzXFxuICAgICAgICAgICAgTDIzLjU0MSw1LjYyN1wiIH0pKSk7IH07XG5cbnZhciBQcmV2aW91c0ljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMy41MzUsMTguMzczTDEyLjQwOSw1LjhjLTAuMTgzLTAuMjA3LTAuNDk5LTAuMjI2LTAuNzA2LTAuMDQzQzExLjY4OCw1Ljc3LDExLjY3NCw1Ljc4NSwxMS42Niw1LjhcXG4gICAgICAgICAgICBMMC41MzUsMTguMzczXCIgfSkpKTsgfTtcblxudmFyIFNlYXJjaEljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBpZ25vcmVEaXJlY3Rpb246IHRydWUsIHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjUsMC41YzUuNTIzLDAsMTAsNC40NzcsMTAsMTBzLTQuNDc3LDEwLTEwLDEwcy0xMC00LjQ3Ny0xMC0xMFM0Ljk3NywwLjUsMTAuNSwwLjV6XFxuICAgICAgICAgICAgTTIzLjUsMjMuNVxcbiAgICAgICAgICAgIGwtNS45MjktNS45MjlcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBFTVBUWV9LRVlXT1JEX1JFR0VYUCA9IHtcbiAgICBrZXl3b3JkOiAnJyxcbiAgICByZWdFeHA6IG5ldyBSZWdFeHAoJyAnKSxcbiAgICB3aG9sZVdvcmRzOiBmYWxzZSxcbn07XG5cbnZhciBjYWxjdWxhdGVPZmZzZXQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHBhcmVudCkge1xuICAgIHZhciB0b3AgPSBjaGlsZHJlbi5vZmZzZXRUb3A7XG4gICAgdmFyIGxlZnQgPSBjaGlsZHJlbi5vZmZzZXRMZWZ0O1xuICAgIHZhciBwID0gY2hpbGRyZW4ucGFyZW50RWxlbWVudDtcbiAgICB3aGlsZSAocCAmJiBwICE9PSBwYXJlbnQpIHtcbiAgICAgICAgdG9wICs9IHAub2Zmc2V0VG9wO1xuICAgICAgICBsZWZ0ICs9IHAub2Zmc2V0TGVmdDtcbiAgICAgICAgcCA9IHAucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgfTtcbn07XG5cbnZhciBnZXRDc3NQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGFyZWEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBcIlwiLmNvbmNhdChhcmVhLmxlZnQsIFwiJVwiKSxcbiAgICAgICAgdG9wOiBcIlwiLmNvbmNhdChhcmVhLnRvcCwgXCIlXCIpLFxuICAgICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KGFyZWEuaGVpZ2h0LCBcIiVcIiksXG4gICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdChhcmVhLndpZHRoLCBcIiVcIiksXG4gICAgfTtcbn07XG5cbnZhciBIaWdodGxpZ2h0SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpbmRleCA9IF9hLmluZGV4LCBhcmVhID0gX2EuYXJlYSwgb25IaWdobGlnaHRLZXl3b3JkID0gX2Eub25IaWdobGlnaHRLZXl3b3JkO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIGNvcmUudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoaWdobGlnaHRFbGUgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKG9uSGlnaGxpZ2h0S2V5d29yZCAmJiBoaWdobGlnaHRFbGUpIHtcbiAgICAgICAgICAgIG9uSGlnaGxpZ2h0S2V5d29yZCh7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0RWxlOiBoaWdobGlnaHRFbGUsXG4gICAgICAgICAgICAgICAga2V5d29yZDogYXJlYS5rZXl3b3JkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9faGlnaGxpZ2h0XCIsIFwiZGF0YS1pbmRleFwiOiBpbmRleCwgcmVmOiBjb250YWluZXJSZWYsIHN0eWxlOiBnZXRDc3NQcm9wZXJ0aWVzKGFyZWEpLCB0aXRsZTogYXJlYS5rZXl3b3JkU3RyLnRyaW0oKSB9KSk7XG59O1xuXG52YXIgcmVtb3ZlTm9kZSA9IGZ1bmN0aW9uIChlbGUpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlKTtcbiAgICB9XG59O1xudmFyIHJlcGxhY2VOb2RlID0gZnVuY3Rpb24gKHJlcGxhY2VtZW50Tm9kZSwgbm9kZSkge1xuICAgIHJlbW92ZU5vZGUocmVwbGFjZW1lbnROb2RlKTtcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShyZXBsYWNlbWVudE5vZGUsIG5vZGUpO1xuICAgIH1cbiAgICByZW1vdmVOb2RlKG5vZGUpO1xufTtcbnZhciB1bndyYXAgPSBmdW5jdGlvbiAoZWxlKSB7XG4gICAgdmFyIHBhcmVudCA9IGVsZS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlKTtcbiAgICByZXBsYWNlTm9kZShyYW5nZS5leHRyYWN0Q29udGVudHMoKSwgZWxlKTtcbiAgICBwYXJlbnQubm9ybWFsaXplKCk7XG59O1xuXG52YXIgc29ydEhpZ2hsaWdodFBvc2l0aW9uID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS50b3AgPCBiLnRvcCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhLnRvcCA+IGIudG9wKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoYS5sZWZ0IDwgYi5sZWZ0KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGEubGVmdCA+IGIubGVmdCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59O1xudmFyIEhpZ2hsaWdodHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbnVtUGFnZXMgPSBfYS5udW1QYWdlcywgcGFnZUluZGV4ID0gX2EucGFnZUluZGV4LCByZW5kZXJIaWdobGlnaHRzID0gX2EucmVuZGVySGlnaGxpZ2h0cywgc3RvcmUgPSBfYS5zdG9yZSwgb25IaWdobGlnaHRLZXl3b3JkID0gX2Eub25IaWdobGlnaHRLZXl3b3JkO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZigpO1xuICAgIHZhciBkZWZhdWx0UmVuZGVySGlnaGxpZ2h0cyA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHJlbmRlclByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsIHJlbmRlclByb3BzLmhpZ2hsaWdodEFyZWFzLm1hcChmdW5jdGlvbiAoYXJlYSwgaW5kZXgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoSGlnaHRsaWdodEl0ZW0sIHsgaW5kZXg6IGluZGV4LCBrZXk6IGluZGV4LCBhcmVhOiBhcmVhLCBvbkhpZ2hsaWdodEtleXdvcmQ6IG9uSGlnaGxpZ2h0S2V5d29yZCB9KSk7IH0pKSk7IH0sIFtdKTtcbiAgICB2YXIgcmVuZGVySGlnaGxpZ2h0RWxlbWVudHMgPSByZW5kZXJIaWdobGlnaHRzIHx8IGRlZmF1bHRSZW5kZXJIaWdobGlnaHRzO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdtYXRjaFBvc2l0aW9uJykpLCBtYXRjaFBvc2l0aW9uID0gX2JbMF0sIHNldE1hdGNoUG9zaXRpb24gPSBfYlsxXTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHN0b3JlLmdldCgna2V5d29yZCcpIHx8IFtFTVBUWV9LRVlXT1JEX1JFR0VYUF0pLCBrZXl3b3JkUmVnZXhwID0gX2NbMF0sIHNldEtleXdvcmRSZWdleHAgPSBfY1sxXTtcbiAgICB2YXIgX2QgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKHtcbiAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBzdGF0dXM6IGNvcmUuTGF5ZXJSZW5kZXJTdGF0dXMuUHJlUmVuZGVyLFxuICAgIH0pLCByZW5kZXJTdGF0dXMgPSBfZFswXSwgc2V0UmVuZGVyU3RhdHVzID0gX2RbMV07XG4gICAgdmFyIGN1cnJlbnRNYXRjaFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKG51bGwpO1xuICAgIHZhciBjaGFyYWN0ZXJJbmRleGVzUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoW10pO1xuICAgIHZhciBfZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoW10pLCBoaWdobGlnaHRBcmVhcyA9IF9lWzBdLCBzZXRIaWdobGlnaHRBcmVhcyA9IF9lWzFdO1xuICAgIHZhciBkZWZhdWx0VGFyZ2V0UGFnZUZpbHRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgdmFyIHRhcmdldFBhZ2VGaWx0ZXIgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3JlLmdldCgndGFyZ2V0UGFnZUZpbHRlcicpIHx8IGRlZmF1bHRUYXJnZXRQYWdlRmlsdGVyOyB9LCBbc3RvcmUuZ2V0KCd0YXJnZXRQYWdlRmlsdGVyJyldKTtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGtleXdvcmRTdHIsIGtleXdvcmQsIHRleHRMYXllckVsZSwgc3BhbiwgY2hhckluZGV4U3Bhbikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IHNwYW4uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKCFmaXJzdENoaWxkIHx8IGZpcnN0Q2hpbGQubm9kZVR5cGUgIT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gZmlyc3RDaGlsZC50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgIHZhciBzdGFydE9mZnNldCA9IGNoYXJJbmRleFNwYW5bMF0uY2hhckluZGV4SW5TcGFuO1xuICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gY2hhckluZGV4U3Bhbi5sZW5ndGggPT09IDEgPyBzdGFydE9mZnNldCA6IGNoYXJJbmRleFNwYW5bY2hhckluZGV4U3Bhbi5sZW5ndGggLSAxXS5jaGFySW5kZXhJblNwYW47XG4gICAgICAgIGlmIChzdGFydE9mZnNldCA+IGxlbmd0aCB8fCBlbmRPZmZzZXQgKyAxID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByYW5nZS5zZXRTdGFydChmaXJzdENoaWxkLCBzdGFydE9mZnNldCk7XG4gICAgICAgIHJhbmdlLnNldEVuZChmaXJzdENoaWxkLCBlbmRPZmZzZXQgKyAxKTtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHJhbmdlLnN1cnJvdW5kQ29udGVudHMod3JhcHBlcik7XG4gICAgICAgIHZhciB3cmFwcGVyUmVjdCA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciB0ZXh0TGF5ZXJSZWN0ID0gdGV4dExheWVyRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcGFnZUhlaWdodCA9IHRleHRMYXllclJlY3QuaGVpZ2h0O1xuICAgICAgICB2YXIgcGFnZVdpZHRoID0gdGV4dExheWVyUmVjdC53aWR0aDtcbiAgICAgICAgdmFyIGxlZnQgPSAoMTAwICogKHdyYXBwZXJSZWN0LmxlZnQgLSB0ZXh0TGF5ZXJSZWN0LmxlZnQpKSAvIHBhZ2VXaWR0aDtcbiAgICAgICAgdmFyIHRvcCA9ICgxMDAgKiAod3JhcHBlclJlY3QudG9wIC0gdGV4dExheWVyUmVjdC50b3ApKSAvIHBhZ2VIZWlnaHQ7XG4gICAgICAgIHZhciBoZWlnaHQgPSAoMTAwICogd3JhcHBlclJlY3QuaGVpZ2h0KSAvIHBhZ2VIZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9ICgxMDAgKiB3cmFwcGVyUmVjdC53aWR0aCkgLyBwYWdlV2lkdGg7XG4gICAgICAgIHVud3JhcCh3cmFwcGVyKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleXdvcmQ6IGtleXdvcmQsXG4gICAgICAgICAgICBrZXl3b3JkU3RyOiBrZXl3b3JkU3RyLFxuICAgICAgICAgICAgbnVtUGFnZXM6IG51bVBhZ2VzLFxuICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHBhZ2VIZWlnaHQ6IHBhZ2VIZWlnaHQsXG4gICAgICAgICAgICBwYWdlV2lkdGg6IHBhZ2VXaWR0aCxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBoaWdobGlnaHRBbGwgPSBmdW5jdGlvbiAodGV4dExheWVyRWxlKSB7XG4gICAgICAgIHZhciBjaGFySW5kZXhlcyA9IGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNoYXJJbmRleGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoaWdobGlnaHRQb3MgPSBbXTtcbiAgICAgICAgdmFyIHNwYW5zID0gW10uc2xpY2UuY2FsbCh0ZXh0TGF5ZXJFbGUucXVlcnlTZWxlY3RvckFsbCgnLnJwdi1jb3JlX190ZXh0LWxheWVyLXRleHQnKSk7XG4gICAgICAgIHZhciBmdWxsVGV4dCA9IGNoYXJJbmRleGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5jaGFyOyB9KS5qb2luKCcnKTtcbiAgICAgICAga2V5d29yZFJlZ2V4cC5mb3JFYWNoKGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICAgICAgICB2YXIga2V5d29yZFN0ciA9IGtleXdvcmQua2V5d29yZDtcbiAgICAgICAgICAgIGlmICgha2V5d29yZFN0ci50cmltKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xvbmVLZXl3b3JkID0ga2V5d29yZC5yZWdFeHAuZmxhZ3MuaW5kZXhPZignZycpID09PSAtMVxuICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChrZXl3b3JkLnJlZ0V4cCwgXCJcIi5jb25jYXQoa2V5d29yZC5yZWdFeHAuZmxhZ3MsIFwiZ1wiKSlcbiAgICAgICAgICAgICAgICA6IGtleXdvcmQucmVnRXhwO1xuICAgICAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBjbG9uZUtleXdvcmQuZXhlYyhmdWxsVGV4dCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogY2xvbmVLZXl3b3JkLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4OiBtYXRjaC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXg6IGNsb25lS2V5d29yZC5sYXN0SW5kZXgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaGVzXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBpdGVtLmtleXdvcmQsXG4gICAgICAgICAgICAgICAgaW5kZXhlczogY2hhckluZGV4ZXMuc2xpY2UoaXRlbS5zdGFydEluZGV4LCBpdGVtLmVuZEluZGV4KSxcbiAgICAgICAgICAgIH0pOyB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwYW5JbmRleGVzID0gaXRlbS5pbmRleGVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY1tpdGVtLnNwYW5JbmRleF0gPSAoYWNjW2l0ZW0uc3BhbkluZGV4XSB8fCBbXSkuY29uY2F0KFtpdGVtXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoc3BhbkluZGV4ZXMpLmZvckVhY2goZnVuY3Rpb24gKGNoYXJJbmRleFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJJbmRleFNwYW4ubGVuZ3RoICE9PSAxIHx8IGNoYXJJbmRleFNwYW5bMF0uY2hhci50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZENoYXJTcGFuID0ga2V5d29yZC53aG9sZVdvcmRzID8gY2hhckluZGV4U3Bhbi5zbGljZSgxLCAtMSkgOiBjaGFySW5kZXhTcGFuO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpZ2h0bGlnaFBvc2l0aW9uID0gaGlnaGxpZ2h0KGtleXdvcmRTdHIsIGl0ZW0ua2V5d29yZCwgdGV4dExheWVyRWxlLCBzcGFuc1tub3JtYWxpemVkQ2hhclNwYW5bMF0uc3BhbkluZGV4XSwgbm9ybWFsaXplZENoYXJTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaWdodGxpZ2hQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodFBvcy5wdXNoKGhpZ2h0bGlnaFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGlnaGxpZ2h0UG9zLnNvcnQoc29ydEhpZ2hsaWdodFBvc2l0aW9uKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVLZXl3b3JkQ2hhbmdlZCA9IGZ1bmN0aW9uIChrZXl3b3JkKSB7XG4gICAgICAgIGlmIChrZXl3b3JkICYmIGtleXdvcmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0S2V5d29yZFJlZ2V4cChrZXl3b3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZU1hdGNoUG9zaXRpb25DaGFuZ2VkID0gZnVuY3Rpb24gKGN1cnJlbnRQb3NpdGlvbikgeyByZXR1cm4gc2V0TWF0Y2hQb3NpdGlvbihjdXJyZW50UG9zaXRpb24pOyB9O1xuICAgIHZhciBoYW5kbGVSZW5kZXJTdGF0dXNDaGFuZ2VkID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICBpZiAoIXN0YXR1cy5oYXMocGFnZUluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50U3RhdHVzID0gc3RhdHVzLmdldChwYWdlSW5kZXgpO1xuICAgICAgICBpZiAoY3VycmVudFN0YXR1cykge1xuICAgICAgICAgICAgc2V0UmVuZGVyU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBlbGU6IGN1cnJlbnRTdGF0dXMuZWxlLFxuICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIHNjYWxlOiBjdXJyZW50U3RhdHVzLnNjYWxlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY3VycmVudFN0YXR1cy5zdGF0dXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGlzRW1wdHlLZXl3b3JkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ga2V5d29yZFJlZ2V4cC5sZW5ndGggPT09IDAgfHwgKGtleXdvcmRSZWdleHAubGVuZ3RoID09PSAxICYmIGtleXdvcmRSZWdleHBbMF0ua2V5d29yZC50cmltKCkgPT09ICcnKTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzRW1wdHlLZXl3b3JkKCkgfHxcbiAgICAgICAgICAgIHJlbmRlclN0YXR1cy5zdGF0dXMgIT09IGNvcmUuTGF5ZXJSZW5kZXJTdGF0dXMuRGlkUmVuZGVyIHx8XG4gICAgICAgICAgICBjaGFyYWN0ZXJJbmRleGVzUmVmLmN1cnJlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRMYXllckVsZSA9IHJlbmRlclN0YXR1cy5lbGU7XG4gICAgICAgIHZhciBzcGFucyA9IFtdLnNsaWNlLmNhbGwodGV4dExheWVyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ycHYtY29yZV9fdGV4dC1sYXllci10ZXh0JykpO1xuICAgICAgICB2YXIgY2hhckluZGV4ZXMgPSBzcGFuc1xuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc3BhbikgeyByZXR1cm4gc3Bhbi50ZXh0Q29udGVudDsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldi5jb25jYXQoY3Vyci5zcGxpdCgnJykubWFwKGZ1bmN0aW9uIChjLCBpKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgICAgIGNoYXI6IGMsXG4gICAgICAgICAgICAgICAgY2hhckluZGV4SW5TcGFuOiBpLFxuICAgICAgICAgICAgICAgIHNwYW5JbmRleDogaW5kZXgsXG4gICAgICAgICAgICB9KTsgfSkpO1xuICAgICAgICB9LCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhcjogJycsXG4gICAgICAgICAgICAgICAgY2hhckluZGV4SW5TcGFuOiAwLFxuICAgICAgICAgICAgICAgIHNwYW5JbmRleDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pXG4gICAgICAgICAgICAuc2xpY2UoMSk7XG4gICAgICAgIGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudCA9IGNoYXJJbmRleGVzO1xuICAgIH0sIFtrZXl3b3JkUmVnZXhwLCByZW5kZXJTdGF0dXMuc3RhdHVzXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNFbXB0eUtleXdvcmQoKSB8fFxuICAgICAgICAgICAgIXJlbmRlclN0YXR1cy5lbGUgfHxcbiAgICAgICAgICAgIHJlbmRlclN0YXR1cy5zdGF0dXMgIT09IGNvcmUuTGF5ZXJSZW5kZXJTdGF0dXMuRGlkUmVuZGVyIHx8XG4gICAgICAgICAgICAhdGFyZ2V0UGFnZUZpbHRlcigpKHsgcGFnZUluZGV4OiBwYWdlSW5kZXgsIG51bVBhZ2VzOiBudW1QYWdlcyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0TGF5ZXJFbGUgPSByZW5kZXJTdGF0dXMuZWxlO1xuICAgICAgICB2YXIgaGlnaGxpZ2h0UG9zID0gaGlnaGxpZ2h0QWxsKHRleHRMYXllckVsZSk7XG4gICAgICAgIHNldEhpZ2hsaWdodEFyZWFzKGhpZ2hsaWdodFBvcyk7XG4gICAgfSwgW2tleXdvcmRSZWdleHAsIG1hdGNoUG9zaXRpb24sIHJlbmRlclN0YXR1cy5zdGF0dXMsIGNoYXJhY3RlckluZGV4ZXNSZWYuY3VycmVudF0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzRW1wdHlLZXl3b3JkKCkgJiYgcmVuZGVyU3RhdHVzLmVsZSAmJiByZW5kZXJTdGF0dXMuc3RhdHVzID09PSBjb3JlLkxheWVyUmVuZGVyU3RhdHVzLkRpZFJlbmRlcikge1xuICAgICAgICAgICAgc2V0SGlnaGxpZ2h0QXJlYXMoW10pO1xuICAgICAgICB9XG4gICAgfSwgW2tleXdvcmRSZWdleHAsIHJlbmRlclN0YXR1cy5zdGF0dXNdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChoaWdobGlnaHRBcmVhcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChtYXRjaFBvc2l0aW9uLnBhZ2VJbmRleCAhPT0gcGFnZUluZGV4IHx8XG4gICAgICAgICAgICAhY29udGFpbmVyIHx8XG4gICAgICAgICAgICByZW5kZXJTdGF0dXMuc3RhdHVzICE9PSBjb3JlLkxheWVyUmVuZGVyU3RhdHVzLkRpZFJlbmRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoaWdobGlnaHRFbGUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5ycHYtc2VhcmNoX19oaWdobGlnaHRbZGF0YS1pbmRleD1cXFwiXCIuY29uY2F0KG1hdGNoUG9zaXRpb24ubWF0Y2hJbmRleCwgXCJcXFwiXVwiKSk7XG4gICAgICAgIGlmICghaGlnaGxpZ2h0RWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gY2FsY3VsYXRlT2Zmc2V0KGhpZ2hsaWdodEVsZSwgY29udGFpbmVyKSwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcDtcbiAgICAgICAgdmFyIGp1bXAgPSBzdG9yZS5nZXQoJ2p1bXBUb0Rlc3RpbmF0aW9uJyk7XG4gICAgICAgIGlmIChqdW1wKSB7XG4gICAgICAgICAgICBqdW1wKHBhZ2VJbmRleCwgKGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLSB0b3ApIC8gcmVuZGVyU3RhdHVzLnNjYWxlLCBsZWZ0IC8gcmVuZGVyU3RhdHVzLnNjYWxlLCByZW5kZXJTdGF0dXMuc2NhbGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRNYXRjaFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE1hdGNoUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlYXJjaF9faGlnaGxpZ2h0LS1jdXJyZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hSZWYuY3VycmVudCA9IGhpZ2hsaWdodEVsZTtcbiAgICAgICAgICAgIGhpZ2hsaWdodEVsZS5jbGFzc0xpc3QuYWRkKCdycHYtc2VhcmNoX19oaWdobGlnaHQtLWN1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgIH0sIFtoaWdobGlnaHRBcmVhcywgbWF0Y2hQb3NpdGlvbl0pO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdrZXl3b3JkJywgaGFuZGxlS2V5d29yZENoYW5nZWQpO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ21hdGNoUG9zaXRpb24nLCBoYW5kbGVNYXRjaFBvc2l0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncmVuZGVyU3RhdHVzJywgaGFuZGxlUmVuZGVyU3RhdHVzQ2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgna2V5d29yZCcsIGhhbmRsZUtleXdvcmRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdtYXRjaFBvc2l0aW9uJywgaGFuZGxlTWF0Y2hQb3NpdGlvbkNoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3JlbmRlclN0YXR1cycsIGhhbmRsZVJlbmRlclN0YXR1c0NoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19oaWdobGlnaHRzXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJzZWFyY2hfX2hpZ2hsaWdodHMtXCIuY29uY2F0KHBhZ2VJbmRleCksIHJlZjogY29udGFpbmVyUmVmIH0sIHJlbmRlckhpZ2hsaWdodEVsZW1lbnRzKHtcbiAgICAgICAgZ2V0Q3NzUHJvcGVydGllczogZ2V0Q3NzUHJvcGVydGllcyxcbiAgICAgICAgaGlnaGxpZ2h0QXJlYXM6IGhpZ2hsaWdodEFyZWFzLFxuICAgIH0pKSk7XG59O1xuXG52YXIgZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBpbnB1dC5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpOyB9O1xudmFyIG5vcm1hbGl6ZUZsYWdLZXl3b3JkID0gZnVuY3Rpb24gKGZsYWdLZXl3b3JkKSB7XG4gICAgdmFyIHNvdXJjZSA9IGZsYWdLZXl3b3JkLndob2xlV29yZHMgPyBcIiBcIi5jb25jYXQoZmxhZ0tleXdvcmQua2V5d29yZCwgXCIgXCIpIDogZmxhZ0tleXdvcmQua2V5d29yZDtcbiAgICB2YXIgZmxhZ3MgPSBmbGFnS2V5d29yZC5tYXRjaENhc2UgPyAnZycgOiAnZ2knO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtleXdvcmQ6IGZsYWdLZXl3b3JkLmtleXdvcmQsXG4gICAgICAgIHJlZ0V4cDogbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAoc291cmNlKSwgZmxhZ3MpLFxuICAgICAgICB3aG9sZVdvcmRzOiBmbGFnS2V5d29yZC53aG9sZVdvcmRzIHx8IGZhbHNlLFxuICAgIH07XG59O1xudmFyIG5vcm1hbGl6ZVNpbmdsZUtleXdvcmQgPSBmdW5jdGlvbiAoa2V5d29yZCwgbWF0Y2hDYXNlLCB3aG9sZVdvcmRzKSB7XG4gICAgaWYgKGtleXdvcmQgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleXdvcmQ6IGtleXdvcmQuc291cmNlLFxuICAgICAgICAgICAgcmVnRXhwOiBrZXl3b3JkLFxuICAgICAgICAgICAgd2hvbGVXb3Jkczogd2hvbGVXb3JkcyB8fCBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBrZXl3b3JkID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ga2V5d29yZCA9PT0gJydcbiAgICAgICAgICAgID8gRU1QVFlfS0VZV09SRF9SRUdFWFBcbiAgICAgICAgICAgIDogbm9ybWFsaXplRmxhZ0tleXdvcmQoe1xuICAgICAgICAgICAgICAgIGtleXdvcmQ6IGtleXdvcmQsXG4gICAgICAgICAgICAgICAgbWF0Y2hDYXNlOiBtYXRjaENhc2UgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgd2hvbGVXb3Jkczogd2hvbGVXb3JkcyB8fCBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1hdGNoQ2FzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAga2V5d29yZC5tYXRjaENhc2UgPSBtYXRjaENhc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2hvbGVXb3JkcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAga2V5d29yZC53aG9sZVdvcmRzID0gd2hvbGVXb3JkcztcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZUZsYWdLZXl3b3JkKGtleXdvcmQpO1xufTtcblxudmFyIHVzZURvY3VtZW50ID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIGN1cnJlbnREb2NSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihzdG9yZS5nZXQoJ2RvYycpKTtcbiAgICB2YXIgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBjdXJyZW50RG9jUmVmLmN1cnJlbnQgPSBkb2M7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gY3VycmVudERvY1JlZjtcbn07XG5cbnZhciB1c2VTZWFyY2ggPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgY3VycmVudERvY1JlZiA9IHVzZURvY3VtZW50KHN0b3JlKTtcbiAgICB2YXIgX2EgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKFtdKSwga2V5d29yZHMgPSBfYVswXSwgc2V0S2V5d29yZHMgPSBfYVsxXTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKFtdKSwgZm91bmQgPSBfYlswXSwgc2V0Rm91bmQgPSBfYlsxXTtcbiAgICB2YXIgX2MgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKDApLCBjdXJyZW50TWF0Y2ggPSBfY1swXSwgc2V0Q3VycmVudE1hdGNoID0gX2NbMV07XG4gICAgdmFyIF9kID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIG1hdGNoQ2FzZSA9IF9kWzBdLCBzZXRNYXRjaENhc2UgPSBfZFsxXTtcbiAgICB2YXIgdGV4dENvbnRlbnRzID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoW10pO1xuICAgIHZhciBfZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpLCB3aG9sZVdvcmRzID0gX2VbMF0sIHNldFdob2xlV29yZHMgPSBfZVsxXTtcbiAgICB2YXIgZGVmYXVsdFRhcmdldFBhZ2VGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICAgIHZhciB0YXJnZXRQYWdlRmlsdGVyID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXQoJ3RhcmdldFBhZ2VGaWx0ZXInKSB8fCBkZWZhdWx0VGFyZ2V0UGFnZUZpbHRlcjsgfSwgW3N0b3JlLmdldCgndGFyZ2V0UGFnZUZpbHRlcicpXSk7XG4gICAgdmFyIGNoYW5nZU1hdGNoQ2FzZSA9IGZ1bmN0aW9uIChpc0NoZWNrZWQpIHtcbiAgICAgICAgc2V0TWF0Y2hDYXNlKGlzQ2hlY2tlZCk7XG4gICAgICAgIGlmIChrZXl3b3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWFyY2hGb3Ioa2V5d29yZHMsIGlzQ2hlY2tlZCwgd2hvbGVXb3Jkcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjaGFuZ2VXaG9sZVdvcmRzID0gZnVuY3Rpb24gKGlzQ2hlY2tlZCkge1xuICAgICAgICBzZXRXaG9sZVdvcmRzKGlzQ2hlY2tlZCk7XG4gICAgICAgIGlmIChrZXl3b3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWFyY2hGb3Ioa2V5d29yZHMsIG1hdGNoQ2FzZSwgaXNDaGVja2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGp1bXBUb01hdGNoID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBudW1NYXRjaGVzID0gZm91bmQubGVuZ3RoO1xuICAgICAgICBpZiAoa2V5d29yZHMubGVuZ3RoID09PSAwIHx8IG51bU1hdGNoZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5kZXggPSBpbmRleCA9PT0gbnVtTWF0Y2hlcyArIDEgPyAxIDogTWF0aC5tYXgoMSwgTWF0aC5taW4obnVtTWF0Y2hlcywgaW5kZXgpKTtcbiAgICAgICAgc2V0Q3VycmVudE1hdGNoKG5vcm1hbGl6ZWRJbmRleCk7XG4gICAgICAgIHJldHVybiBqdW1wVG9HaXZlbk1hdGNoKGZvdW5kW25vcm1hbGl6ZWRJbmRleCAtIDFdKTtcbiAgICB9O1xuICAgIHZhciBqdW1wVG9QcmV2aW91c01hdGNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4ganVtcFRvTWF0Y2goY3VycmVudE1hdGNoIC0gMSk7IH07XG4gICAgdmFyIGp1bXBUb05leHRNYXRjaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGp1bXBUb01hdGNoKGN1cnJlbnRNYXRjaCArIDEpOyB9O1xuICAgIHZhciBjbGVhcktleXdvcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnVwZGF0ZSgna2V5d29yZCcsIFtFTVBUWV9LRVlXT1JEX1JFR0VYUF0pO1xuICAgICAgICBzZXRLZXl3b3JkKCcnKTtcbiAgICAgICAgc2V0Q3VycmVudE1hdGNoKDApO1xuICAgICAgICBzZXRGb3VuZChbXSk7XG4gICAgICAgIHNldE1hdGNoQ2FzZShmYWxzZSk7XG4gICAgICAgIHNldFdob2xlV29yZHMoZmFsc2UpO1xuICAgIH07XG4gICAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlYXJjaEZvcihrZXl3b3JkcywgbWF0Y2hDYXNlLCB3aG9sZVdvcmRzKTsgfTtcbiAgICB2YXIgc2V0S2V5d29yZCA9IGZ1bmN0aW9uIChrZXl3b3JkKSB7IHJldHVybiBzZXRLZXl3b3JkcyhrZXl3b3JkID09PSAnJyA/IFtdIDogW2tleXdvcmRdKTsgfTtcbiAgICB2YXIgc2V0VGFyZ2V0UGFnZXMgPSBmdW5jdGlvbiAodGFyZ2V0UGFnZUZpbHRlcikge1xuICAgICAgICBzdG9yZS51cGRhdGUoJ3RhcmdldFBhZ2VGaWx0ZXInLCB0YXJnZXRQYWdlRmlsdGVyKTtcbiAgICB9O1xuICAgIHZhciBnZXRUZXh0Q29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50RG9jID0gY3VycmVudERvY1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWN1cnJlbnREb2MpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9taXNlcyA9IEFycmF5KGN1cnJlbnREb2MubnVtUGFnZXMpXG4gICAgICAgICAgICAuZmlsbCgwKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoXywgcGFnZUluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nZXRQYWdlKGN1cnJlbnREb2MsIHBhZ2VJbmRleClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmdldFRleHRDb250ZW50KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VDb250ZW50ID0gY29udGVudC5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc3RyIHx8ICcnOyB9KS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQ6IHBhZ2VDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBkYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEucGFnZUluZGV4IC0gYi5wYWdlSW5kZXg7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5wYWdlQ29udGVudDsgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBqdW1wVG9HaXZlbk1hdGNoID0gZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIHZhciBqdW1wVG9QYWdlID0gc3RvcmUuZ2V0KCdqdW1wVG9QYWdlJyk7XG4gICAgICAgIGlmIChqdW1wVG9QYWdlKSB7XG4gICAgICAgICAgICBqdW1wVG9QYWdlKG1hdGNoLnBhZ2VJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmUudXBkYXRlKCdtYXRjaFBvc2l0aW9uJywge1xuICAgICAgICAgICAgbWF0Y2hJbmRleDogbWF0Y2gubWF0Y2hJbmRleCxcbiAgICAgICAgICAgIHBhZ2VJbmRleDogbWF0Y2gucGFnZUluZGV4LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH07XG4gICAgdmFyIGdldEtleXdvcmRTb3VyY2UgPSBmdW5jdGlvbiAoa2V5d29yZCkge1xuICAgICAgICBpZiAoa2V5d29yZCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgcmV0dXJuIGtleXdvcmQuc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Yga2V5d29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXl3b3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXl3b3JkLmtleXdvcmQ7XG4gICAgfTtcbiAgICB2YXIgc2VhcmNoRm9yID0gZnVuY3Rpb24gKGtleXdvcmRQYXJhbSwgbWF0Y2hDYXNlUGFyYW0sIHdob2xlV29yZHNQYXJhbSkge1xuICAgICAgICB2YXIgY3VycmVudERvYyA9IGN1cnJlbnREb2NSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjdXJyZW50RG9jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtUGFnZXMgPSBjdXJyZW50RG9jLm51bVBhZ2VzO1xuICAgICAgICB2YXIga2V5d29yZHMgPSBrZXl3b3JkUGFyYW0ubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBub3JtYWxpemVTaW5nbGVLZXl3b3JkKGssIG1hdGNoQ2FzZVBhcmFtLCB3aG9sZVdvcmRzUGFyYW0pOyB9KTtcbiAgICAgICAgc3RvcmUudXBkYXRlKCdrZXl3b3JkJywga2V5d29yZHMpO1xuICAgICAgICBzZXRDdXJyZW50TWF0Y2goMCk7XG4gICAgICAgIHNldEZvdW5kKFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfKSB7XG4gICAgICAgICAgICB2YXIgZ2V0VGV4dFByb21pc2UgPSB0ZXh0Q29udGVudHMuY3VycmVudC5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/IGdldFRleHRDb250ZW50cygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50cy5jdXJyZW50ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUodGV4dENvbnRlbnRzLmN1cnJlbnQpO1xuICAgICAgICAgICAgZ2V0VGV4dFByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAocGFnZVRleHQsIHBhZ2VJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0UGFnZUZpbHRlcigpKHsgcGFnZUluZGV4OiBwYWdlSW5kZXgsIG51bVBhZ2VzOiBudW1QYWdlcyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5d29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoZXMgPSBrZXl3b3JkLnJlZ0V4cC5leGVjKHBhZ2VUZXh0KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZC5yZWdFeHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEluZGV4OiBtYXRjaEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGV4dDogcGFnZVRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4OiBtYXRjaGVzLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXg6IGtleXdvcmQucmVnRXhwLmxhc3RJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldEZvdW5kKGFycik7XG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRNYXRjaCgxKTtcbiAgICAgICAgICAgICAgICAgICAganVtcFRvR2l2ZW5NYXRjaChhcnJbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKGFycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRleHRDb250ZW50cy5jdXJyZW50ID0gW107XG4gICAgfSwgW2N1cnJlbnREb2NSZWYuY3VycmVudF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsZWFyS2V5d29yZDogY2xlYXJLZXl3b3JkLFxuICAgICAgICBjaGFuZ2VNYXRjaENhc2U6IGNoYW5nZU1hdGNoQ2FzZSxcbiAgICAgICAgY2hhbmdlV2hvbGVXb3JkczogY2hhbmdlV2hvbGVXb3JkcyxcbiAgICAgICAgY3VycmVudE1hdGNoOiBjdXJyZW50TWF0Y2gsXG4gICAgICAgIGp1bXBUb01hdGNoOiBqdW1wVG9NYXRjaCxcbiAgICAgICAganVtcFRvTmV4dE1hdGNoOiBqdW1wVG9OZXh0TWF0Y2gsXG4gICAgICAgIGp1bXBUb1ByZXZpb3VzTWF0Y2g6IGp1bXBUb1ByZXZpb3VzTWF0Y2gsXG4gICAgICAgIGtleXdvcmRzOiBrZXl3b3JkcyxcbiAgICAgICAgbWF0Y2hDYXNlOiBtYXRjaENhc2UsXG4gICAgICAgIG51bWJlck9mTWF0Y2hlczogZm91bmQubGVuZ3RoLFxuICAgICAgICB3aG9sZVdvcmRzOiB3aG9sZVdvcmRzLFxuICAgICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgICAgc2VhcmNoRm9yOiBzZWFyY2hGb3IsXG4gICAgICAgIHNldEtleXdvcmRzOiBzZXRLZXl3b3JkcyxcbiAgICAgICAga2V5d29yZDoga2V5d29yZHMubGVuZ3RoID09PSAwID8gJycgOiBnZXRLZXl3b3JkU291cmNlKGtleXdvcmRzWzBdKSxcbiAgICAgICAgc2V0S2V5d29yZDogc2V0S2V5d29yZCxcbiAgICAgICAgc2V0VGFyZ2V0UGFnZXM6IHNldFRhcmdldFBhZ2VzLFxuICAgIH07XG59O1xuXG52YXIgU2VhcmNoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIHJlc3VsdCA9IHVzZVNlYXJjaChzdG9yZSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuKF9fYXNzaWduKHt9LCByZXN1bHQpKTtcbn07XG5cbnZhciBTaG9ydGN1dEhhbmRsZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gX2EuY29udGFpbmVyUmVmLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBpc01vdXNlSW5zaWRlUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYoZmFsc2UpO1xuICAgIHZhciBoYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpc01vdXNlSW5zaWRlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZU1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTW91c2VJbnNpZGVSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5rZXkgIT09ICdmJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5ICYmICFlLmN0cmxLZXkgOiBlLmN0cmxLZXk7XG4gICAgICAgIGlmICghaXNDb21tYW5kUHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vdXNlSW5zaWRlUmVmLmN1cnJlbnQgfHwgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgY29udGFpbmVyRWxlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdhcmVTaG9ydGN1dHNQcmVzc2VkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcbiAgICAgICAgY29udGFpbmVyRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBoYW5kbGVNb3VzZUVudGVyKTtcbiAgICAgICAgY29udGFpbmVyRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlkb3duKTtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgaGFuZGxlTW91c2VFbnRlcik7XG4gICAgICAgICAgICBjb250YWluZXJFbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhhbmRsZU1vdXNlTGVhdmUpO1xuICAgICAgICB9O1xuICAgIH0sIFtjb250YWluZXJSZWYuY3VycmVudF0pO1xuICAgIHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCk7XG59O1xuXG52YXIgUE9SVEFMX09GRlNFVCQxID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBTZWFyY2hQb3BvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHN0b3JlID0gX2Euc3RvcmUsIG9uVG9nZ2xlID0gX2Eub25Ub2dnbGU7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGZhbHNlKSwgaXNRdWVyeWluZyA9IF9iWzBdLCBzZXRJc1F1ZXJ5aW5nID0gX2JbMV07XG4gICAgdmFyIF9jID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShmYWxzZSksIHNlYXJjaERvbmUgPSBfY1swXSwgc2V0U2VhcmNoRG9uZSA9IF9jWzFdO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBfZCA9IHVzZVNlYXJjaChzdG9yZSksIGNsZWFyS2V5d29yZCA9IF9kLmNsZWFyS2V5d29yZCwgY2hhbmdlTWF0Y2hDYXNlID0gX2QuY2hhbmdlTWF0Y2hDYXNlLCBjaGFuZ2VXaG9sZVdvcmRzID0gX2QuY2hhbmdlV2hvbGVXb3JkcywgY3VycmVudE1hdGNoID0gX2QuY3VycmVudE1hdGNoLCBqdW1wVG9OZXh0TWF0Y2ggPSBfZC5qdW1wVG9OZXh0TWF0Y2gsIGp1bXBUb1ByZXZpb3VzTWF0Y2ggPSBfZC5qdW1wVG9QcmV2aW91c01hdGNoLCBrZXl3b3JkID0gX2Qua2V5d29yZCwgbWF0Y2hDYXNlID0gX2QubWF0Y2hDYXNlLCBudW1iZXJPZk1hdGNoZXMgPSBfZC5udW1iZXJPZk1hdGNoZXMsIHdob2xlV29yZHMgPSBfZC53aG9sZVdvcmRzLCBzZWFyY2ggPSBfZC5zZWFyY2gsIHNldEtleXdvcmQgPSBfZC5zZXRLZXl3b3JkO1xuICAgIHZhciBvbktleWRvd25TZWFyY2ggPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYga2V5d29yZCkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaERvbmUpIHtcbiAgICAgICAgICAgICAgICBqdW1wVG9OZXh0TWF0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldElzUXVlcnlpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2VhcmNoKCkudGhlbihmdW5jdGlvbiAoXykge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1F1ZXJ5aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VhcmNoRG9uZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uQ2hhbmdlTWF0Y2hDYXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc2V0U2VhcmNoRG9uZShmYWxzZSk7XG4gICAgICAgIGNoYW5nZU1hdGNoQ2FzZShlLnRhcmdldC5jaGVja2VkKTtcbiAgICB9O1xuICAgIHZhciBvbkNoYW5nZVdob2xlV29yZHMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZXRTZWFyY2hEb25lKGZhbHNlKTtcbiAgICAgICAgY2hhbmdlV2hvbGVXb3JkcyhlLnRhcmdldC5jaGVja2VkKTtcbiAgICB9O1xuICAgIHZhciBvbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvblRvZ2dsZSgpO1xuICAgICAgICBjbGVhcktleXdvcmQoKTtcbiAgICB9O1xuICAgIHZhciBvbkNoYW5nZUtleXdvcmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2V0U2VhcmNoRG9uZShmYWxzZSk7XG4gICAgICAgIHNldEtleXdvcmQodmFsdWUpO1xuICAgIH07XG4gICAgdmFyIHNlYXJjaExhYmVsID0gbDEwbiAmJiBsMTBuLnNlYXJjaCA/IGwxMG4uc2VhcmNoLmVudGVyVG9TZWFyY2ggOiAnRW50ZXIgdG8gc2VhcmNoJztcbiAgICB2YXIgcHJldmlvdXNNYXRjaExhYmVsID0gbDEwbiAmJiBsMTBuLnNlYXJjaCA/IGwxMG4uc2VhcmNoLnByZXZpb3VzTWF0Y2ggOiAnUHJldmlvdXMgbWF0Y2gnO1xuICAgIHZhciBuZXh0TWF0Y2hMYWJlbCA9IGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC5uZXh0TWF0Y2ggOiAnTmV4dCBtYXRjaCc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3ZlclwiIH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19wb3BvdmVyLWlucHV0LWNvdW50ZXJcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVGV4dEJveCwgeyBhcmlhTGFiZWw6IHNlYXJjaExhYmVsLCBhdXRvRm9jdXM6IHRydWUsIHBsYWNlaG9sZGVyOiBzZWFyY2hMYWJlbCwgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlOiBrZXl3b3JkLCBvbkNoYW5nZTogb25DaGFuZ2VLZXl3b3JkLCBvbktleURvd246IG9uS2V5ZG93blNlYXJjaCB9KSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi1zZWFyY2hfX3BvcG92ZXItY291bnRlcic6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdycHYtc2VhcmNoX19wb3BvdmVyLWNvdW50ZXItLWx0cic6ICFpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi1zZWFyY2hfX3BvcG92ZXItY291bnRlci0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICBpc1F1ZXJ5aW5nICYmIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlNwaW5uZXIsIHsgdGVzdElkOiBcInNlYXJjaF9fcG9wb3Zlci1zZWFyY2hpbmdcIiwgc2l6ZTogXCIxcmVtXCIgfSksXG4gICAgICAgICAgICAgICAgIWlzUXVlcnlpbmcgJiYgKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwic2VhcmNoX19wb3BvdmVyLW51bS1tYXRjaGVzXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hdGNoLFxuICAgICAgICAgICAgICAgICAgICBcIi9cIixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZNYXRjaGVzKSkpKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbFwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19wb3BvdmVyLWxhYmVsLWNoZWNrYm94XCIsIGNoZWNrZWQ6IG1hdGNoQ2FzZSwgdHlwZTogXCJjaGVja2JveFwiLCBvbkNoYW5nZTogb25DaGFuZ2VNYXRjaENhc2UgfSksXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBsMTBuICYmIGwxMG4uc2VhcmNoID8gbDEwbi5zZWFyY2gubWF0Y2hDYXNlIDogJ01hdGNoIGNhc2UnKSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1sYWJlbFwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19wb3BvdmVyLWxhYmVsLWNoZWNrYm94XCIsIGNoZWNrZWQ6IHdob2xlV29yZHMsIHR5cGU6IFwiY2hlY2tib3hcIiwgb25DaGFuZ2U6IG9uQ2hhbmdlV2hvbGVXb3JkcyB9KSxcbiAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgIGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC53aG9sZVdvcmRzIDogJ1dob2xlIHdvcmRzJyksXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19wb3BvdmVyLWZvb3RlclwiIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXItaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuVG9vbHRpcCwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwic2VhcmNoLXByZXZpb3VzLW1hdGNoXCIsIHBvc2l0aW9uOiBpc1J0bCA/IGNvcmUuUG9zaXRpb24uQm90dG9tUmlnaHQgOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogcHJldmlvdXNNYXRjaExhYmVsLCBpc0Rpc2FibGVkOiBjdXJyZW50TWF0Y2ggPD0gMSwgb25DbGljazoganVtcFRvUHJldmlvdXNNYXRjaCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByZXZpb3VzSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmV2aW91c01hdGNoTGFiZWw7IH0sIG9mZnNldDogUE9SVEFMX09GRlNFVCQxIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtc2VhcmNoX19wb3BvdmVyLWZvb3Rlci1pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJzZWFyY2gtbmV4dC1tYXRjaFwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IG5leHRNYXRjaExhYmVsLCBpc0Rpc2FibGVkOiBjdXJyZW50TWF0Y2ggPiBudW1iZXJPZk1hdGNoZXMgLSAxLCBvbkNsaWNrOiBqdW1wVG9OZXh0TWF0Y2ggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChOZXh0SWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXh0TWF0Y2hMYWJlbDsgfSwgb2Zmc2V0OiBQT1JUQUxfT0ZGU0VUJDEgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICAgICAncnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXItYnV0dG9uJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi1zZWFyY2hfX3BvcG92ZXItZm9vdGVyLWJ1dHRvbi0tbHRyJzogIWlzUnRsLFxuICAgICAgICAgICAgICAgICAgICAncnB2LXNlYXJjaF9fcG9wb3Zlci1mb290ZXItYnV0dG9uLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICAgICB9KSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkJ1dHRvbiwgeyBvbkNsaWNrOiBvbkNsb3NlIH0sIGwxMG4gJiYgbDEwbi5zZWFyY2ggPyBsMTBuLnNlYXJjaC5jbG9zZSA6ICdDbG9zZScpKSkpKTtcbn07XG5cbnZhciBTaG93U2VhcmNoUG9wb3ZlckRlY29yYXRvciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnNlYXJjaCA/IGwxMG4uc2VhcmNoLnNlYXJjaCA6ICdTZWFyY2gnO1xuICAgIHZhciBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNlYXJjaEljb24sIG51bGwpO1xuICAgIHJldHVybiBjaGlsZHJlbih7IGljb246IGljb24sIGxhYmVsOiBsYWJlbCwgb25DbGljazogb25DbGljayB9KTtcbn07XG5cbnZhciBUT09MVElQX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgU2hvd1NlYXJjaFBvcG92ZXJCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgYXJpYUtleVNob3J0Y3V0cyA9IGVuYWJsZVNob3J0Y3V0cyA/IChjb3JlLmlzTWFjKCkgPyAnTWV0YStGJyA6ICdDdHJsK0YnKSA6ICcnO1xuICAgIHZhciBoYW5kbGVTaG9ydGN1dHNQcmVzc2VkID0gZnVuY3Rpb24gKGFyZVNob3J0Y3V0c1ByZXNzZWQpIHtcbiAgICAgICAgaWYgKGFyZVNob3J0Y3V0c1ByZXNzZWQpIHtcbiAgICAgICAgICAgIG9uQ2xpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2FyZVNob3J0Y3V0c1ByZXNzZWQnLCBoYW5kbGVTaG9ydGN1dHNQcmVzc2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdhcmVTaG9ydGN1dHNQcmVzc2VkJywgaGFuZGxlU2hvcnRjdXRzUHJlc3NlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dTZWFyY2hQb3BvdmVyRGVjb3JhdG9yLCB7IG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJzZWFyY2gtcG9wb3ZlclwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhS2V5U2hvcnRjdXRzOiBhcmlhS2V5U2hvcnRjdXRzLCBhcmlhTGFiZWw6IHAubGFiZWwsIHRlc3RJZDogXCJzZWFyY2hfX3BvcG92ZXItYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgcC5pY29uKSwgY29udGVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcC5sYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7IH0pKTtcbn07XG5cbnZhciBQT1JUQUxfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBTaG93U2VhcmNoUG9wb3ZlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLlRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBwb3J0YWxQb3NpdGlvbiA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0ID8gY29yZS5Qb3NpdGlvbi5Cb3R0b21SaWdodCA6IGNvcmUuUG9zaXRpb24uQm90dG9tTGVmdDtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dTZWFyY2hQb3BvdmVyQnV0dG9uLCBfX2Fzc2lnbih7IGVuYWJsZVNob3J0Y3V0czogZW5hYmxlU2hvcnRjdXRzLCBzdG9yZTogc3RvcmUgfSwgcHJvcHMpKSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlBvcG92ZXIsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInNlYXJjaFwiLCBsb2NrU2Nyb2xsOiBmYWxzZSwgcG9zaXRpb246IHBvcnRhbFBvc2l0aW9uLCB0YXJnZXQ6IGZ1bmN0aW9uICh0b2dnbGUpIHtcbiAgICAgICAgICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRvZ2dsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBjb250ZW50OiBmdW5jdGlvbiAodG9nZ2xlKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2VhcmNoUG9wb3ZlciwgeyBzdG9yZTogc3RvcmUsIG9uVG9nZ2xlOiB0b2dnbGUgfSk7IH0sIG9mZnNldDogUE9SVEFMX09GRlNFVCwgY2xvc2VPbkNsaWNrT3V0c2lkZTogZmFsc2UsIGNsb3NlT25Fc2NhcGU6IHRydWUgfSkpO1xufTtcblxudmFyIG5vcm1hbGl6ZUtleXdvcmRzID0gZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXl3b3JkKSA/IGtleXdvcmQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBub3JtYWxpemVTaW5nbGVLZXl3b3JkKGspOyB9KSA6IFtub3JtYWxpemVTaW5nbGVLZXl3b3JkKGtleXdvcmQpXTtcbn07XG52YXIgc2VhcmNoUGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIHNlYXJjaFBsdWdpblByb3BzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHsgZW5hYmxlU2hvcnRjdXRzOiB0cnVlLCBvbkhpZ2hsaWdodEtleXdvcmQ6IGZ1bmN0aW9uICgpIHsgfSB9LCBwcm9wcyk7IH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICBtYXRjaFBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgbWF0Y2hJbmRleDogLTEsXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4OiAtMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW5kZXJTdGF0dXM6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIGtleXdvcmQ6IHByb3BzICYmIHByb3BzLmtleXdvcmQgPyBub3JtYWxpemVLZXl3b3Jkcyhwcm9wcy5rZXl3b3JkKSA6IFtFTVBUWV9LRVlXT1JEX1JFR0VYUF0sXG4gICAgICAgIH0pO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgX2EgPSB1c2VTZWFyY2goc3RvcmUpLCBjbGVhcktleXdvcmQgPSBfYS5jbGVhcktleXdvcmQsIGp1bXBUb01hdGNoID0gX2EuanVtcFRvTWF0Y2gsIGp1bXBUb05leHRNYXRjaCA9IF9hLmp1bXBUb05leHRNYXRjaCwganVtcFRvUHJldmlvdXNNYXRjaCA9IF9hLmp1bXBUb1ByZXZpb3VzTWF0Y2gsIHNlYXJjaEZvciA9IF9hLnNlYXJjaEZvciwgc2V0S2V5d29yZHMgPSBfYS5zZXRLZXl3b3Jkcywgc2V0VGFyZ2V0UGFnZXMgPSBfYS5zZXRUYXJnZXRQYWdlcztcbiAgICB2YXIgU2VhcmNoRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2VhcmNoLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgU2hvd1NlYXJjaFBvcG92ZXJEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1NlYXJjaFBvcG92ZXIsIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiBzZWFyY2hQbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKSk7IH07XG4gICAgdmFyIFNob3dTZWFyY2hQb3BvdmVyQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTaG93U2VhcmNoUG9wb3ZlckRlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dTZWFyY2hQb3BvdmVyQnV0dG9uLCBfX2Fzc2lnbih7IGVuYWJsZVNob3J0Y3V0czogc2VhcmNoUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZTogc3RvcmUgfSwgcHJvcHMpKSk7IH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyVmlld2VyID0gZnVuY3Rpb24gKHJlbmRlclZpZXdlclByb3BzKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2xvdCA9IHJlbmRlclZpZXdlclByb3BzLnNsb3Q7XG4gICAgICAgIGlmIChjdXJyZW50U2xvdC5zdWJTbG90KSB7XG4gICAgICAgICAgICBjdXJyZW50U2xvdC5zdWJTbG90LmNoaWxkcmVuID0gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgIHNlYXJjaFBsdWdpblByb3BzLmVuYWJsZVNob3J0Y3V0cyAmJiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3J0Y3V0SGFuZGxlciwgeyBjb250YWluZXJSZWY6IHJlbmRlclZpZXdlclByb3BzLmNvbnRhaW5lclJlZiwgc3RvcmU6IHN0b3JlIH0pKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xvdC5zdWJTbG90LmNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTbG90O1xuICAgIH07XG4gICAgdmFyIHJlbmRlclBhZ2VMYXllciA9IGZ1bmN0aW9uIChyZW5kZXJQcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChIaWdobGlnaHRzLCB7IGtleTogcmVuZGVyUHJvcHMucGFnZUluZGV4LCBudW1QYWdlczogcmVuZGVyUHJvcHMuZG9jLm51bVBhZ2VzLCBwYWdlSW5kZXg6IHJlbmRlclByb3BzLnBhZ2VJbmRleCwgcmVuZGVySGlnaGxpZ2h0czogcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlckhpZ2hsaWdodHMsIHN0b3JlOiBzdG9yZSwgb25IaWdobGlnaHRLZXl3b3JkOiBzZWFyY2hQbHVnaW5Qcm9wcy5vbkhpZ2hsaWdodEtleXdvcmQgfSkpOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBrZXl3b3JkID0gcHJvcHMgJiYgcHJvcHMua2V5d29yZCA/IG5vcm1hbGl6ZUtleXdvcmRzKHByb3BzLmtleXdvcmQpIDogW0VNUFRZX0tFWVdPUkRfUkVHRVhQXTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnanVtcFRvRGVzdGluYXRpb24nLCBwbHVnaW5GdW5jdGlvbnMuanVtcFRvRGVzdGluYXRpb24pO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdqdW1wVG9QYWdlJywgcGx1Z2luRnVuY3Rpb25zLmp1bXBUb1BhZ2UpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdrZXl3b3JkJywga2V5d29yZCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclBhZ2VMYXllcjogcmVuZGVyUGFnZUxheWVyLFxuICAgICAgICByZW5kZXJWaWV3ZXI6IHJlbmRlclZpZXdlcixcbiAgICAgICAgdW5pbnN0YWxsOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJTdGF0dXMgPSBzdG9yZS5nZXQoJ3JlbmRlclN0YXR1cycpO1xuICAgICAgICAgICAgaWYgKHJlbmRlclN0YXR1cykge1xuICAgICAgICAgICAgICAgIHJlbmRlclN0YXR1cy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkRvY3VtZW50TG9hZDogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2RvYycsIHByb3BzLmRvYyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVGV4dExheWVyUmVuZGVyOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJTdGF0dXMgPSBzdG9yZS5nZXQoJ3JlbmRlclN0YXR1cycpO1xuICAgICAgICAgICAgaWYgKHJlbmRlclN0YXR1cykge1xuICAgICAgICAgICAgICAgIHJlbmRlclN0YXR1cyA9IHJlbmRlclN0YXR1cy5zZXQocHJvcHMucGFnZUluZGV4LCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyZW5kZXJTdGF0dXMnLCByZW5kZXJTdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBTZWFyY2g6IFNlYXJjaERlY29yYXRvcixcbiAgICAgICAgU2hvd1NlYXJjaFBvcG92ZXI6IFNob3dTZWFyY2hQb3BvdmVyRGVjb3JhdG9yLFxuICAgICAgICBTaG93U2VhcmNoUG9wb3ZlckJ1dHRvbjogU2hvd1NlYXJjaFBvcG92ZXJCdXR0b25EZWNvcmF0b3IsXG4gICAgICAgIGNsZWFySGlnaGxpZ2h0czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xlYXJLZXl3b3JkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgICAgICAgIHZhciBrZXl3b3JkcyA9IEFycmF5LmlzQXJyYXkoa2V5d29yZCkgPyBrZXl3b3JkIDogW2tleXdvcmRdO1xuICAgICAgICAgICAgc2V0S2V5d29yZHMoa2V5d29yZHMpO1xuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaEZvcihrZXl3b3Jkcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGp1bXBUb01hdGNoOiBqdW1wVG9NYXRjaCxcbiAgICAgICAganVtcFRvTmV4dE1hdGNoOiBqdW1wVG9OZXh0TWF0Y2gsXG4gICAgICAgIGp1bXBUb1ByZXZpb3VzTWF0Y2g6IGp1bXBUb1ByZXZpb3VzTWF0Y2gsXG4gICAgICAgIHNldFRhcmdldFBhZ2VzOiBzZXRUYXJnZXRQYWdlcyxcbiAgICB9O1xufTtcblxuZXhwb3J0cy5OZXh0SWNvbiA9IE5leHRJY29uO1xuZXhwb3J0cy5QcmV2aW91c0ljb24gPSBQcmV2aW91c0ljb247XG5leHBvcnRzLlNlYXJjaEljb24gPSBTZWFyY2hJY29uO1xuZXhwb3J0cy5zZWFyY2hQbHVnaW4gPSBzZWFyY2hQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/search/lib/cjs/search.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/search/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/search/lib/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/search.js */ \"./node_modules/@react-pdf-viewer/search/lib/cjs/search.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VhcmNoL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksd0hBQTJDO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci9zZWFyY2gvbGliL2luZGV4LmpzP2MzZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3NlYXJjaC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWFyY2guanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/search/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar HandToolIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nexports.SelectionMode = void 0;\n(function (SelectionMode) {\n    SelectionMode[\"Hand\"] = \"Hand\";\n    SelectionMode[\"Text\"] = \"Text\";\n})(exports.SelectionMode || (exports.SelectionMode = {}));\n\nvar TextSelectionIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z\" }))); };\n\nvar SwitchSelectionModeDecorator = function (_a) {\n    var children = _a.children, mode = _a.mode, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = '';\n    var icon = React__namespace.createElement(TextSelectionIcon, null);\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            label =\n                l10n && l10n.selectionMode ? l10n.selectionMode.handTool : 'Hand tool';\n            icon = React__namespace.createElement(HandToolIcon, null);\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            label =\n                l10n && l10n.selectionMode\n                    ? l10n.selectionMode.textSelectionTool\n                    : 'Text selection tool';\n            icon = React__namespace.createElement(TextSelectionIcon, null);\n            break;\n    }\n    return children({ icon: icon, label: label, onClick: onClick });\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchSelectionModeButton = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            testId = 'selection-mode__hand-button';\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            testId = 'selection-mode__text-button';\n    }\n    return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"selection-mode-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: props.label, isSelected: isSelected, testId: testId, onClick: props.onClick }, props.icon), content: function () { return props.label; }, offset: TOOLTIP_OFFSET })); }));\n};\n\nvar SwitchSelectionMode = function (_a) {\n    var children = _a.children, mode = _a.mode, store = _a.store;\n    var onClick = function () { return store.update('selectionMode', mode); };\n    var isSelected = mode === store.get('selectionMode');\n    var defaultChildren = function (props) { return (React__namespace.createElement(SwitchSelectionModeButton, { isSelected: isSelected, mode: props.mode, onClick: props.onClick })); };\n    var render = children || defaultChildren;\n    return render({\n        isSelected: isSelected,\n        mode: mode,\n        onClick: onClick,\n    });\n};\n\nvar SwitchSelectionModeMenuItem = function (_a) {\n    var isSelected = _a.isSelected, mode = _a.mode, onClick = _a.onClick;\n    var testId = '';\n    switch (mode) {\n        case exports.SelectionMode.Hand:\n            testId = 'selection-mode__hand-menu';\n            break;\n        case exports.SelectionMode.Text:\n        default:\n            testId = 'selection-mode__text-menu';\n    }\n    return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: mode, onClick: onClick }, function (props) { return (React__namespace.createElement(core.MenuItem, { checked: isSelected, icon: props.icon, testId: testId, onClick: props.onClick }, props.label)); }));\n};\n\nvar Tracker = function (_a) {\n    var store = _a.store;\n    var pagesRef = React__namespace.useRef(null);\n    var _b = React__namespace.useState(exports.SelectionMode.Text), selectionMode = _b[0], setSelectionMode = _b[1];\n    var pos = React__namespace.useRef({ top: 0, left: 0, x: 0, y: 0 });\n    var onMouseMoveHandler = function (e) {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        ele.scrollTop = pos.current.top - (e.clientY - pos.current.y);\n        ele.scrollLeft = pos.current.left - (e.clientX - pos.current.x);\n    };\n    var onMouseUpHandler = function () {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        ele.classList.add('rpv-selection-mode__grab');\n        ele.classList.remove('rpv-selection-mode__grabbing');\n        document.removeEventListener('mousemove', onMouseMoveHandler);\n        document.removeEventListener('mouseup', onMouseUpHandler);\n    };\n    var onMouseDownHandler = function (e) {\n        var ele = pagesRef.current;\n        if (!ele || selectionMode === exports.SelectionMode.Text) {\n            return;\n        }\n        ele.classList.remove('rpv-selection-mode__grab');\n        ele.classList.add('rpv-selection-mode__grabbing');\n        e.preventDefault();\n        e.stopPropagation();\n        pos.current = {\n            left: ele.scrollLeft,\n            top: ele.scrollTop,\n            x: e.clientX,\n            y: e.clientY,\n        };\n        document.addEventListener('mousemove', onMouseMoveHandler);\n        document.addEventListener('mouseup', onMouseUpHandler);\n    };\n    var handlePagesContainer = function (getPagesContainer) {\n        pagesRef.current = getPagesContainer();\n    };\n    var handleSelectionModeChanged = function (mode) {\n        setSelectionMode(mode);\n    };\n    React__namespace.useEffect(function () {\n        var ele = pagesRef.current;\n        if (!ele) {\n            return;\n        }\n        selectionMode === exports.SelectionMode.Hand\n            ? ele.classList.add('rpv-selection-mode__grab')\n            : ele.classList.remove('rpv-selection-mode__grab');\n        ele.addEventListener('mousedown', onMouseDownHandler);\n        return function () {\n            ele.removeEventListener('mousedown', onMouseDownHandler);\n        };\n    }, [selectionMode]);\n    React__namespace.useEffect(function () {\n        store.subscribe('getPagesContainer', handlePagesContainer);\n        store.subscribe('selectionMode', handleSelectionModeChanged);\n        return function () {\n            store.unsubscribe('getPagesContainer', handlePagesContainer);\n            store.unsubscribe('selectionMode', handleSelectionModeChanged);\n        };\n    }, []);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar selectionModePlugin = function (props) {\n    var store = React__namespace.useMemo(function () { return core.createStore(); }, []);\n    var SwitchSelectionModeDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionMode, __assign({}, props, { store: store }))); };\n    var SwitchSelectionModeButtonDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchSelectionModeButton, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n        } })); })); };\n    var SwitchSelectionModeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchSelectionModeDecorator, { mode: props.mode }, function (p) { return (React__namespace.createElement(SwitchSelectionModeMenuItem, { isSelected: p.isSelected, mode: p.mode, onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var renderViewer = function (props) {\n        var currentSlot = props.slot;\n        if (currentSlot.subSlot && currentSlot.subSlot.children) {\n            currentSlot.subSlot.children = (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(Tracker, { store: store }),\n                currentSlot.subSlot.children));\n        }\n        return currentSlot;\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('selectionMode', props && props.selectionMode ? props.selectionMode : exports.SelectionMode.Text);\n            store.update('getPagesContainer', pluginFunctions.getPagesContainer);\n        },\n        renderViewer: renderViewer,\n        SwitchSelectionMode: SwitchSelectionModeDecorator,\n        SwitchSelectionModeButton: SwitchSelectionModeButtonDecorator,\n        SwitchSelectionModeMenuItem: SwitchSelectionModeMenuItemDecorator,\n    };\n};\n\nexports.HandToolIcon = HandToolIcon;\nexports.TextSelectionIcon = TextSelectionIcon;\nexports.selectionModePlugin = selectionModePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VsZWN0aW9uLW1vZGUvbGliL2Nqcy9zZWxlY3Rpb24tbW9kZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlDQUFpQyxvREFBb0QsVUFBVTtBQUMvRiw2Q0FBNkMscWNBQXFjOztBQUVsZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCLHFCQUFxQixLQUFLOztBQUV2RCxzQ0FBc0Msb0RBQW9ELFVBQVU7QUFDcEcsNkNBQTZDLHdhQUF3YTs7QUFFcmQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBNEM7QUFDbEU7O0FBRUEsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsOEJBQThCLHFCQUFxQix1REFBdUQsZ0pBQWdKLHdGQUF3RixzQ0FBc0MscUJBQXFCLDBCQUEwQixLQUFLO0FBQ3ZmOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSw2Q0FBNkMsb0VBQW9FLGtFQUFrRTtBQUNuTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsOEJBQThCLHFCQUFxQix3REFBd0QsK0VBQStFLGtCQUFrQjtBQUN2Ujs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyw2QkFBNkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsNEJBQTRCO0FBQ25GLDBEQUEwRCx1RUFBdUUsV0FBVyxjQUFjO0FBQzFKLGdFQUFnRSx1RUFBdUUsa0JBQWtCLGlCQUFpQixvRUFBb0U7QUFDOU87QUFDQSxXQUFXLEtBQUs7QUFDaEIsa0VBQWtFLHVFQUF1RSxrQkFBa0IsaUJBQWlCLHNFQUFzRTtBQUNsUDtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QiwyQkFBMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3NlbGVjdGlvbi1tb2RlL2xpYi9janMvc2VsZWN0aW9uLW1vZGUuanM/NjRmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxudmFyIEhhbmRUb29sSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTExLjUsNS41di0yQzExLjUsMi42NzIsMTIuMTcyLDIsMTMsMnMxLjUsMC42NzIsMS41LDEuNXYyIE0xNC41LDExLjV2LTZDMTQuNSw0LjY3MiwxNS4xNzIsNCwxNiw0XFxuICAgICAgICAgICAgYzAuODI4LDAsMS41LDAuNjcyLDEuNSwxLjV2MyBNMTcuNSwxM1Y4LjVDMTcuNSw3LjY3MiwxOC4xNzIsNywxOSw3czEuNSwwLjY3MiwxLjUsMS41djEwYzAsMi43NjEtMi4yMzksNS01LDVoLTMuMzM1XFxuICAgICAgICAgICAgYy0xLjcxMi0wLjAwMS0zLjMwNS0wLjg3Ni00LjIyMy0yLjMyMUM2LjIyLDE4LjQ2Nyw0LjA4MywxNCw0LjA4MywxNGMtMC4zNzgtMC41NDUtMC4yNDItMS4yOTIsMC4zMDMtMS42N1xcbiAgICAgICAgICAgIGMwLjQ0Ni0wLjMwOSwxLjA0NC0wLjI4MSwxLjQ1OCwwLjA3TDguNSwxNS41di0xMEM4LjUsNC42NzIsOS4xNzIsNCwxMCw0czEuNSwwLjY3MiwxLjUsMS41djZcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbmV4cG9ydHMuU2VsZWN0aW9uTW9kZSA9IHZvaWQgMDtcbihmdW5jdGlvbiAoU2VsZWN0aW9uTW9kZSkge1xuICAgIFNlbGVjdGlvbk1vZGVbXCJIYW5kXCJdID0gXCJIYW5kXCI7XG4gICAgU2VsZWN0aW9uTW9kZVtcIlRleHRcIl0gPSBcIlRleHRcIjtcbn0pKGV4cG9ydHMuU2VsZWN0aW9uTW9kZSB8fCAoZXhwb3J0cy5TZWxlY3Rpb25Nb2RlID0ge30pKTtcblxudmFyIFRleHRTZWxlY3Rpb25JY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTMuNjc1LDExLjY3MWwyLjk0MS0yLjk0MWMwLjE5NS0wLjE5NiwwLjE5NS0wLjUxMi0wLjAwMS0wLjcwN0MxNi41NjMsNy45NzEsMTYuNSw3LjkzMSwxNi40Myw3LjkwNlxcbiAgICAgICAgICAgIEw0LjE2OCwzLjUyN0MzLjkwOCwzLjQzNCwzLjYyMiwzLjU3LDMuNTI5LDMuODNjLTAuMDM5LDAuMTA5LTAuMDM5LDAuMjI4LDAsMC4zMzZsNC4zNzksMTIuMjYyXFxuICAgICAgICAgICAgYzAuMDkzLDAuMjYsMC4zNzksMC4zOTYsMC42MzksMC4zMDNjMC4wNy0wLjAyNSwwLjEzMy0wLjA2NSwwLjE4NS0wLjExN2wyLjk0My0yLjk0M2w2LjE0Niw2LjE0NmMwLjE5NSwwLjE5NSwwLjUxMiwwLjE5NSwwLjcwNywwXFxuICAgICAgICAgICAgbDEuMjkzLTEuMjkzYzAuMTk1LTAuMTk1LDAuMTk1LTAuNTEyLDAtMC43MDdMMTMuNjc1LDExLjY3MXpcIiB9KSkpOyB9O1xuXG52YXIgU3dpdGNoU2VsZWN0aW9uTW9kZURlY29yYXRvciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBtb2RlID0gX2EubW9kZSwgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9ICcnO1xuICAgIHZhciBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHRTZWxlY3Rpb25JY29uLCBudWxsKTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNlbGVjdGlvbk1vZGUuSGFuZDpcbiAgICAgICAgICAgIGxhYmVsID1cbiAgICAgICAgICAgICAgICBsMTBuICYmIGwxMG4uc2VsZWN0aW9uTW9kZSA/IGwxMG4uc2VsZWN0aW9uTW9kZS5oYW5kVG9vbCA6ICdIYW5kIHRvb2wnO1xuICAgICAgICAgICAgaWNvbiA9IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChIYW5kVG9vbEljb24sIG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLlRleHQ6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsYWJlbCA9XG4gICAgICAgICAgICAgICAgbDEwbiAmJiBsMTBuLnNlbGVjdGlvbk1vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBsMTBuLnNlbGVjdGlvbk1vZGUudGV4dFNlbGVjdGlvblRvb2xcbiAgICAgICAgICAgICAgICAgICAgOiAnVGV4dCBzZWxlY3Rpb24gdG9vbCc7XG4gICAgICAgICAgICBpY29uID0gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFRleHRTZWxlY3Rpb25JY29uLCBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW4oeyBpY29uOiBpY29uLCBsYWJlbDogbGFiZWwsIG9uQ2xpY2s6IG9uQ2xpY2sgfSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNTZWxlY3RlZCA9IF9hLmlzU2VsZWN0ZWQsIG1vZGUgPSBfYS5tb2RlLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgdGVzdElkID0gJyc7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLkhhbmQ6XG4gICAgICAgICAgICB0ZXN0SWQgPSAnc2VsZWN0aW9uLW1vZGVfX2hhbmQtYnV0dG9uJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0OlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3NlbGVjdGlvbi1tb2RlX190ZXh0LWJ1dHRvbic7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogbW9kZSwgb25DbGljazogb25DbGljayB9LCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJzZWxlY3Rpb24tbW9kZS1zd2l0Y2hcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBwcm9wcy5sYWJlbCwgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMuaWNvbiksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3BzLmxhYmVsOyB9LCBvZmZzZXQ6IFRPT0xUSVBfT0ZGU0VUIH0pKTsgfSkpO1xufTtcblxudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgbW9kZSA9IF9hLm1vZGUsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS51cGRhdGUoJ3NlbGVjdGlvbk1vZGUnLCBtb2RlKTsgfTtcbiAgICB2YXIgaXNTZWxlY3RlZCA9IG1vZGUgPT09IHN0b3JlLmdldCgnc2VsZWN0aW9uTW9kZScpO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRyZW4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZUJ1dHRvbiwgeyBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLCBtb2RlOiBwcm9wcy5tb2RlLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpc1NlbGVjdGVkID0gX2EuaXNTZWxlY3RlZCwgbW9kZSA9IF9hLm1vZGUsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciB0ZXN0SWQgPSAnJztcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBleHBvcnRzLlNlbGVjdGlvbk1vZGUuSGFuZDpcbiAgICAgICAgICAgIHRlc3RJZCA9ICdzZWxlY3Rpb24tbW9kZV9faGFuZC1tZW51JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0OlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGVzdElkID0gJ3NlbGVjdGlvbi1tb2RlX190ZXh0LW1lbnUnO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlRGVjb3JhdG9yLCB7IG1vZGU6IG1vZGUsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgY2hlY2tlZDogaXNTZWxlY3RlZCwgaWNvbjogcHJvcHMuaWNvbiwgdGVzdElkOiB0ZXN0SWQsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSwgcHJvcHMubGFiZWwpKTsgfSkpO1xufTtcblxudmFyIFRyYWNrZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgcGFnZXNSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgICB2YXIgX2IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVN0YXRlKGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0KSwgc2VsZWN0aW9uTW9kZSA9IF9iWzBdLCBzZXRTZWxlY3Rpb25Nb2RlID0gX2JbMV07XG4gICAgdmFyIHBvcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKHsgdG9wOiAwLCBsZWZ0OiAwLCB4OiAwLCB5OiAwIH0pO1xuICAgIHZhciBvbk1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZWxlID0gcGFnZXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFlbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbGUuc2Nyb2xsVG9wID0gcG9zLmN1cnJlbnQudG9wIC0gKGUuY2xpZW50WSAtIHBvcy5jdXJyZW50LnkpO1xuICAgICAgICBlbGUuc2Nyb2xsTGVmdCA9IHBvcy5jdXJyZW50LmxlZnQgLSAoZS5jbGllbnRYIC0gcG9zLmN1cnJlbnQueCk7XG4gICAgfTtcbiAgICB2YXIgb25Nb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlLmNsYXNzTGlzdC5hZGQoJ3Jwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYicpO1xuICAgICAgICBlbGUuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZycpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwSGFuZGxlcik7XG4gICAgfTtcbiAgICB2YXIgb25Nb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGVsZSA9IHBhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghZWxlIHx8IHNlbGVjdGlvbk1vZGUgPT09IGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5UZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Jwdi1zZWxlY3Rpb24tbW9kZV9fZ3JhYicpO1xuICAgICAgICBlbGUuY2xhc3NMaXN0LmFkZCgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiYmluZycpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHBvcy5jdXJyZW50ID0ge1xuICAgICAgICAgICAgbGVmdDogZWxlLnNjcm9sbExlZnQsXG4gICAgICAgICAgICB0b3A6IGVsZS5zY3JvbGxUb3AsXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXBIYW5kbGVyKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlc0NvbnRhaW5lciA9IGZ1bmN0aW9uIChnZXRQYWdlc0NvbnRhaW5lcikge1xuICAgICAgICBwYWdlc1JlZi5jdXJyZW50ID0gZ2V0UGFnZXNDb250YWluZXIoKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVTZWxlY3Rpb25Nb2RlQ2hhbmdlZCA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIHNldFNlbGVjdGlvbk1vZGUobW9kZSk7XG4gICAgfTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGUgPSBwYWdlc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGlvbk1vZGUgPT09IGV4cG9ydHMuU2VsZWN0aW9uTW9kZS5IYW5kXG4gICAgICAgICAgICA/IGVsZS5jbGFzc0xpc3QuYWRkKCdycHYtc2VsZWN0aW9uLW1vZGVfX2dyYWInKVxuICAgICAgICAgICAgOiBlbGUuY2xhc3NMaXN0LnJlbW92ZSgncnB2LXNlbGVjdGlvbi1tb2RlX19ncmFiJyk7XG4gICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW3NlbGVjdGlvbk1vZGVdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnZ2V0UGFnZXNDb250YWluZXInLCBoYW5kbGVQYWdlc0NvbnRhaW5lcik7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnc2VsZWN0aW9uTW9kZScsIGhhbmRsZVNlbGVjdGlvbk1vZGVDaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdnZXRQYWdlc0NvbnRhaW5lcicsIGhhbmRsZVBhZ2VzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdzZWxlY3Rpb25Nb2RlJywgaGFuZGxlU2VsZWN0aW9uTW9kZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwpO1xufTtcblxudmFyIHNlbGVjdGlvbk1vZGVQbHVnaW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSgpOyB9LCBbXSk7XG4gICAgdmFyIFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZSwgX19hc3NpZ24oe30sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogcHJvcHMubW9kZSB9LCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uLCB7IGlzU2VsZWN0ZWQ6IHAuaXNTZWxlY3RlZCwgbW9kZTogcC5tb2RlLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNlbGVjdGlvbk1vZGVEZWNvcmF0b3IsIHsgbW9kZTogcHJvcHMubW9kZSB9LCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW0sIHsgaXNTZWxlY3RlZDogcC5pc1NlbGVjdGVkLCBtb2RlOiBwLm1vZGUsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciByZW5kZXJWaWV3ZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgaWYgKGN1cnJlbnRTbG90LnN1YlNsb3QgJiYgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbiA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVHJhY2tlciwgeyBzdG9yZTogc3RvcmUgfSksXG4gICAgICAgICAgICAgICAgY3VycmVudFNsb3Quc3ViU2xvdC5jaGlsZHJlbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50U2xvdDtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2VsZWN0aW9uTW9kZScsIHByb3BzICYmIHByb3BzLnNlbGVjdGlvbk1vZGUgPyBwcm9wcy5zZWxlY3Rpb25Nb2RlIDogZXhwb3J0cy5TZWxlY3Rpb25Nb2RlLlRleHQpO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdnZXRQYWdlc0NvbnRhaW5lcicsIHBsdWdpbkZ1bmN0aW9ucy5nZXRQYWdlc0NvbnRhaW5lcik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclZpZXdlcjogcmVuZGVyVmlld2VyLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlRGVjb3JhdG9yLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlQnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW06IFN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5IYW5kVG9vbEljb24gPSBIYW5kVG9vbEljb247XG5leHBvcnRzLlRleHRTZWxlY3Rpb25JY29uID0gVGV4dFNlbGVjdGlvbkljb247XG5leHBvcnRzLnNlbGVjdGlvbk1vZGVQbHVnaW4gPSBzZWxlY3Rpb25Nb2RlUGx1Z2luO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/selection-mode/lib/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/selection-mode/lib/index.js ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/selection-mode.js */ \"./node_modules/@react-pdf-viewer/selection-mode/lib/cjs/selection-mode.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvc2VsZWN0aW9uLW1vZGUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxnSkFBbUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3NlbGVjdGlvbi1tb2RlL2xpYi9pbmRleC5qcz83ZTJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWxlY3Rpb24tbW9kZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zZWxlY3Rpb24tbW9kZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/selection-mode/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DarkIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z\" }))); };\n\nvar LightIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z\" }),\n    React__namespace.createElement(\"path\", { d: \"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar SwitchThemeButton = function (_a) {\n    var onClick = _a.onClick;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var isDarkTheme = theme.currentTheme === 'dark';\n    var label = l10n && l10n.theme\n        ? isDarkTheme\n            ? l10n.theme.switchLightTheme\n            : l10n.theme.switchDarkTheme\n        : isDarkTheme\n            ? 'Switch to the light theme'\n            : 'Switch to the dark theme';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"theme-switch\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"theme__switch-button\", onClick: onClick }, isDarkTheme ? React__namespace.createElement(LightIcon, null) : React__namespace.createElement(DarkIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar SwitchTheme = function (_a) {\n    var children = _a.children;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var defaultChildern = function (props) { return React__namespace.createElement(SwitchThemeButton, { onClick: props.onClick }); };\n    var render = children || defaultChildern;\n    return render({\n        onClick: function () { return theme.setCurrentTheme(theme.currentTheme === 'dark' ? 'light' : 'dark'); },\n    });\n};\n\nvar SwitchThemeMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var theme = React__namespace.useContext(core.ThemeContext);\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var isDarkTheme = theme.currentTheme === 'dark';\n    var label = l10n && l10n.theme\n        ? isDarkTheme\n            ? l10n.theme.switchLightTheme\n            : l10n.theme.switchDarkTheme\n        : isDarkTheme\n            ? 'Switch to the light theme'\n            : 'Switch to the dark theme';\n    return (React__namespace.createElement(core.MenuItem, { icon: isDarkTheme ? React__namespace.createElement(LightIcon, null) : React__namespace.createElement(DarkIcon, null), testId: \"theme__switch-menu\", onClick: onClick }, label));\n};\n\nvar themePlugin = function () {\n    var SwitchThemeDecorator = function (props) { return React__namespace.createElement(SwitchTheme, __assign({}, props)); };\n    var SwitchThemeButtonDecorator = function () { return (React__namespace.createElement(SwitchThemeDecorator, null, function (props) { return React__namespace.createElement(SwitchThemeButton, __assign({}, props)); })); };\n    var SwitchThemeMenuItemDecorator = function (props) { return (React__namespace.createElement(SwitchThemeDecorator, null, function (p) { return (React__namespace.createElement(SwitchThemeMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    return {\n        SwitchTheme: SwitchThemeDecorator,\n        SwitchThemeButton: SwitchThemeButtonDecorator,\n        SwitchThemeMenuItem: SwitchThemeMenuItemDecorator,\n    };\n};\n\nexports.DarkIcon = DarkIcon;\nexports.LightIcon = LightIcon;\nexports.themePlugin = themePlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGhlbWUvbGliL2Nqcy90aGVtZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDZCQUE2QixvREFBb0QsVUFBVTtBQUMzRiw2Q0FBNkMsNlBBQTZQO0FBQzFTLDZDQUE2QyxtREFBbUQ7O0FBRWhHLDhCQUE4QixvREFBb0QsVUFBVTtBQUM1Riw2Q0FBNkMsZ1FBQWdRO0FBQzdTLDZDQUE2QywwQ0FBMEM7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVJQUF1SSxvRUFBb0UsMElBQTBJLGVBQWUsMEJBQTBCO0FBQ3piOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywyREFBMkQsd0JBQXdCO0FBQ2hJO0FBQ0E7QUFDQSwrQkFBK0IsaUZBQWlGO0FBQ2hILEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsc0tBQXNLO0FBQ2xPOztBQUVBO0FBQ0Esa0RBQWtELDhEQUE4RDtBQUNoSCxtREFBbUQsc0ZBQXNGLG9FQUFvRSxZQUFZO0FBQ3pOLDBEQUEwRCxrRkFBa0YsOERBQThEO0FBQzFNO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aGVtZS9saWIvY2pzL3RoZW1lLmpzP2UyZTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wTmFtZXNwYWNlKGUpIHtcbiAgICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICAgIHZhciBuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBpZiAoZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZVtrXTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbltcImRlZmF1bHRcIl0gPSBlO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG4pO1xufVxuXG52YXIgUmVhY3RfX25hbWVzcGFjZSA9IC8qI19fUFVSRV9fKi9faW50ZXJvcE5hbWVzcGFjZShSZWFjdCk7XG5cbnZhciBEYXJrSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IHNpemU6IDE2IH0sXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE5LjUsMTUuMTA2bDIuNC0yLjRhMSwxLDAsMCwwLDAtMS40MTRsLTIuNC0yLjRWNS41YTEsMSwwLDAsMC0xLTFIMTUuMTA2bC0yLjQtMi40YTEsMSwwLDAsMC0xLjQxNCwwbC0yLjQsMi40SDUuNWExLDEsMCwwLDAtMSwxVjguODk0bC0yLjQsMi40YTEsMSwwLDAsMCwwLDEuNDE0bDIuNCwyLjRWMTguNWExLDEsMCwwLDAsMSwxSDguODk0bDIuNCwyLjRhMSwxLDAsMCwwLDEuNDE0LDBsMi40LTIuNEgxOC41YTEsMSwwLDAsMCwxLTFaXCIgfSksXG4gICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwLDYuMzQ5YTYsNiwwLDAsMSwwLDExLjMsNiw2LDAsMSwwLDAtMTEuM1pcIiB9KSkpOyB9O1xuXG52YXIgTGlnaHRJY29uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLkljb24sIHsgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTkuNDkxLDE1LjEwNmwyLjQtMi40YTEsMSwwLDAsMCwwLTEuNDE0bC0yLjQtMi40VjUuNWExLDEsMCwwLDAtMS0xSDE1LjFMMTIuNywyLjFhMSwxLDAsMCwwLTEuNDE0LDBsLTIuNCwyLjRINS40OTFhMSwxLDAsMCwwLTEsMVY4Ljg5NGwtMi40LDIuNGExLDEsMCwwLDAsMCwxLjQxNGwyLjQsMi40VjE4LjVhMSwxLDAsMCwwLDEsMUg4Ljg4NWwyLjQsMi40YTEsMSwwLDAsMCwxLjQxNCwwbDIuNC0yLjRoMy4zOTRhMSwxLDAsMCwwLDEtMVpcIiB9KSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTEuNDkxLDZjNCwwLDYsMi42ODYsNiw2cy0yLDYtNiw2WlwiIH0pKSk7IH07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBTd2l0Y2hUaGVtZUJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgdGhlbWUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgaXNEYXJrVGhlbWUgPSB0aGVtZS5jdXJyZW50VGhlbWUgPT09ICdkYXJrJztcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4udGhlbWVcbiAgICAgICAgPyBpc0RhcmtUaGVtZVxuICAgICAgICAgICAgPyBsMTBuLnRoZW1lLnN3aXRjaExpZ2h0VGhlbWVcbiAgICAgICAgICAgIDogbDEwbi50aGVtZS5zd2l0Y2hEYXJrVGhlbWVcbiAgICAgICAgOiBpc0RhcmtUaGVtZVxuICAgICAgICAgICAgPyAnU3dpdGNoIHRvIHRoZSBsaWdodCB0aGVtZSdcbiAgICAgICAgICAgIDogJ1N3aXRjaCB0byB0aGUgZGFyayB0aGVtZSc7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJ0aGVtZS1zd2l0Y2hcIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcInRoZW1lX19zd2l0Y2gtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgaXNEYXJrVGhlbWUgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTGlnaHRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEYXJrSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgU3dpdGNoVGhlbWUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbjtcbiAgICB2YXIgdGhlbWUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpO1xuICAgIHZhciBkZWZhdWx0Q2hpbGRlcm4gPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZUJ1dHRvbiwgeyBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0pOyB9O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBkZWZhdWx0Q2hpbGRlcm47XG4gICAgcmV0dXJuIHJlbmRlcih7XG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoZW1lLnNldEN1cnJlbnRUaGVtZSh0aGVtZS5jdXJyZW50VGhlbWUgPT09ICdkYXJrJyA/ICdsaWdodCcgOiAnZGFyaycpOyB9LFxuICAgIH0pO1xufTtcblxudmFyIFN3aXRjaFRoZW1lTWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIHRoZW1lID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuVGhlbWVDb250ZXh0KTtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGlzRGFya1RoZW1lID0gdGhlbWUuY3VycmVudFRoZW1lID09PSAnZGFyayc7XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnRoZW1lXG4gICAgICAgID8gaXNEYXJrVGhlbWVcbiAgICAgICAgICAgID8gbDEwbi50aGVtZS5zd2l0Y2hMaWdodFRoZW1lXG4gICAgICAgICAgICA6IGwxMG4udGhlbWUuc3dpdGNoRGFya1RoZW1lXG4gICAgICAgIDogaXNEYXJrVGhlbWVcbiAgICAgICAgICAgID8gJ1N3aXRjaCB0byB0aGUgbGlnaHQgdGhlbWUnXG4gICAgICAgICAgICA6ICdTd2l0Y2ggdG8gdGhlIGRhcmsgdGhlbWUnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogaXNEYXJrVGhlbWUgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTGlnaHRJY29uLCBudWxsKSA6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChEYXJrSWNvbiwgbnVsbCksIHRlc3RJZDogXCJ0aGVtZV9fc3dpdGNoLW1lbnVcIiwgb25DbGljazogb25DbGljayB9LCBsYWJlbCkpO1xufTtcblxudmFyIHRoZW1lUGx1Z2luID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBTd2l0Y2hUaGVtZURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFRoZW1lLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTsgfTtcbiAgICB2YXIgU3dpdGNoVGhlbWVCdXR0b25EZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFRoZW1lRGVjb3JhdG9yLCBudWxsLCBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgU3dpdGNoVGhlbWVNZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoVGhlbWVNZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBTd2l0Y2hUaGVtZTogU3dpdGNoVGhlbWVEZWNvcmF0b3IsXG4gICAgICAgIFN3aXRjaFRoZW1lQnV0dG9uOiBTd2l0Y2hUaGVtZUJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgU3dpdGNoVGhlbWVNZW51SXRlbTogU3dpdGNoVGhlbWVNZW51SXRlbURlY29yYXRvcixcbiAgICB9O1xufTtcblxuZXhwb3J0cy5EYXJrSWNvbiA9IERhcmtJY29uO1xuZXhwb3J0cy5MaWdodEljb24gPSBMaWdodEljb247XG5leHBvcnRzLnRoZW1lUGx1Z2luID0gdGhlbWVQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/theme/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/theme/lib/index.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/theme.js */ \"./node_modules/@react-pdf-viewer/theme/lib/cjs/theme.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGhlbWUvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsSUFBSSxxSEFBMEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3RoZW1lL2xpYi9pbmRleC5qcz80NjczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgdG8gdmlldyBhIFBERiBkb2N1bWVudFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldlxuICogQGxpY2Vuc2UgaHR0cHM6Ly9yZWFjdC1wZGYtdmlld2VyLmRldi9saWNlbnNlXG4gKiBAY29weXJpZ2h0IDIwMTktMjAyMiBOZ3V5ZW4gSHV1IFBodW9jIDxtZUBwaHVvYy5uZz5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aGVtZS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aGVtZS5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/theme/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar CoverInner = function (_a) {\n    var getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, doc = _a.doc;\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var isMounted = core.useIsMounted();\n    var renderTask = React__namespace.useRef();\n    var handleVisibilityChanged = function (params) {\n        if (src || !params.isVisible) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        var numPages = doc.numPages;\n        var targetPage = getPageIndex ? getPageIndex({ numPages: numPages }) : 0;\n        var normalizePage = Math.max(0, Math.min(targetPage, numPages - 1));\n        core.getPage(doc, normalizePage).then(function (page) {\n            var viewport = page.getViewport({ scale: 1 });\n            var w = viewport.width;\n            var h = viewport.height;\n            var canvas = document.createElement('canvas');\n            var canvasContext = canvas.getContext('2d', { alpha: false });\n            var containerWidth = containerEle.clientWidth;\n            var containerHeight = containerEle.clientHeight;\n            var scaled = Math.min(containerWidth / w, containerHeight / h);\n            var canvasWidth = scaled * w;\n            var canvasHeight = scaled * h;\n            canvas.height = canvasHeight;\n            canvas.width = canvasWidth;\n            canvas.style.opacity = '0';\n            var renderViewport = page.getViewport({\n                rotation: 0,\n                scale: scaled,\n            });\n            renderTask.current = page.render({ canvasContext: canvasContext, viewport: renderViewport });\n            renderTask.current.promise.then(function () {\n                isMounted.current && setSrc(canvas.toDataURL());\n                canvas.width = 0;\n                canvas.height = 0;\n            }, function () {\n            });\n        });\n    };\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: handleVisibilityChanged,\n    });\n    React__namespace.useEffect(function () {\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, []);\n    return src ? (React__namespace.createElement(\"img\", { className: \"rpv-thumbnail__cover-image\", \"data-testid\": \"thumbnail__cover-image\", src: src })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\", \"data-testid\": \"thumbnail__cover-loader\", ref: containerRef }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)));\n};\n\nvar Cover = function (_a) {\n    var getPageIndex = _a.getPageIndex, renderSpinner = _a.renderSpinner, store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover\" }, currentDoc ? (React__namespace.createElement(CoverInner, { doc: currentDoc, getPageIndex: getPageIndex, renderSpinner: renderSpinner })) : (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__cover-loader\" }, renderSpinner ? renderSpinner() : React__namespace.createElement(core.Spinner, null)))));\n};\n\nvar defaultSpinner = function () { return React__namespace.createElement(core.Spinner, null); };\nvar SpinnerContext = React__namespace.createContext({\n    renderSpinner: defaultSpinner,\n});\n\nvar FetchLabels = function (_a) {\n    var children = _a.children, doc = _a.doc;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        loading: true,\n        labels: [],\n    }), status = _b[0], setStatus = _b[1];\n    React__namespace.useEffect(function () {\n        doc.getPageLabels().then(function (result) {\n            isMounted.current && setStatus({ loading: false, labels: result || [] });\n        });\n    }, [doc.loadingTask.docId]);\n    return status.loading ? React__namespace.createElement(React__namespace.Fragment, null) : children(status.labels);\n};\n\nvar scrollToBeVisible = function (ele, container) {\n    var top = ele.getBoundingClientRect().top - container.getBoundingClientRect().top;\n    var eleHeight = ele.clientHeight;\n    var containerHeight = container.clientHeight;\n    if (top < 0) {\n        container.scrollTop += top;\n        return;\n    }\n    if (top + eleHeight <= containerHeight) {\n        return;\n    }\n    container.scrollTop += top + eleHeight - containerHeight;\n};\n\nvar ThumbnailItem = function (_a) {\n    var page = _a.page, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, rotation = _a.rotation, thumbnailHeight = _a.thumbnailHeight, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    var thumbnailLabel = l10n && l10n.thumbnail\n        ? l10n.thumbnail.thumbnailLabel\n        : 'Thumbnail of page {{pageIndex}}';\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var canvas = document.createElement('canvas');\n        var canvasContext = canvas.getContext('2d', { alpha: false });\n        var w = thumbnailWidth;\n        var h = w / (pageWidth / pageHeight);\n        var scale = w / pageWidth;\n        canvas.height = h;\n        canvas.width = w;\n        canvas.style.height = \"\".concat(h, \"px\");\n        canvas.style.width = \"\".concat(w, \"px\");\n        var viewport = page.getViewport({ rotation: rotation, scale: scale });\n        renderTask.current = page.render({ canvasContext: canvasContext, viewport: viewport });\n        renderTask.current.promise.then(function () {\n            setSrc(canvas.toDataURL());\n            onRenderCompleted(pageIndex);\n        }, function () {\n            onRenderCompleted(pageIndex);\n        });\n        return function () {\n            var _a;\n            (_a = renderTask.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        };\n    }, [rotation]);\n    return !src ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(\"img\", { \"aria-label\": thumbnailLabel.replace('{{pageIndex}}', \"\".concat(pageIndex + 1)), src: src, height: \"\".concat(thumbnailHeight, \"px\"), width: \"\".concat(thumbnailWidth, \"px\") }));\n};\n\nvar ThumbnailContainer = function (_a) {\n    var doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageRotation = _a.pageRotation, pageWidth = _a.pageWidth, rotation = _a.rotation, shouldRender = _a.shouldRender, thumbnailWidth = _a.thumbnailWidth, onRenderCompleted = _a.onRenderCompleted, onVisibilityChanged = _a.onVisibilityChanged;\n    var isMounted = core.useIsMounted();\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var scale = width / height;\n    var isVertical = Math.abs(rotation + pageRotation) % 180 === 0;\n    var w = isVertical ? thumbnailWidth : thumbnailWidth / scale;\n    var h = isVertical ? thumbnailWidth / scale : thumbnailWidth;\n    React__namespace.useEffect(function () {\n        if (shouldRender) {\n            core.getPage(doc, pageIndex).then(function (pdfPage) {\n                var viewport = pdfPage.getViewport({ scale: 1 });\n                isMounted.current &&\n                    setPageSize({\n                        height: viewport.height,\n                        page: pdfPage,\n                        viewportRotation: viewport.rotation,\n                        width: viewport.width,\n                    });\n            });\n        }\n    }, [shouldRender]);\n    var rotationNumber = (pageSize.viewportRotation + rotation + pageRotation) % 360;\n    var containerRef = core.useIntersectionObserver({\n        onVisibilityChanged: function (visibility) {\n            onVisibilityChanged(pageIndex, visibility);\n        },\n    });\n    return (React__namespace.createElement(\"div\", { className: \"rpv-thumbnail__container\", \"data-testid\": \"thumbnail__container-\".concat(pageIndex), ref: containerRef, style: {\n            height: \"\".concat(h, \"px\"),\n            width: \"\".concat(w, \"px\"),\n        } }, !page ? (React__namespace.useContext(SpinnerContext).renderSpinner()) : (React__namespace.createElement(ThumbnailItem, { page: page, pageHeight: isVertical ? height : width, pageIndex: pageIndex, pageWidth: isVertical ? width : height, rotation: rotationNumber, thumbnailHeight: h, thumbnailWidth: w, onRenderCompleted: onRenderCompleted }))));\n};\n\nvar ThumbnailList = function (_a) {\n    var currentPage = _a.currentPage, doc = _a.doc, labels = _a.labels, pagesRotation = _a.pagesRotation, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, rotatedPage = _a.rotatedPage, rotation = _a.rotation, thumbnailWidth = _a.thumbnailWidth, onJumpToPage = _a.onJumpToPage, onRotatePage = _a.onRotatePage;\n    var numPages = doc.numPages;\n    var docId = doc.loadingTask.docId;\n    var containerRef = React__namespace.useRef(null);\n    var thumbnailsRef = React__namespace.useRef([]);\n    var _b = React__namespace.useState(currentPage), currentFocused = _b[0], setCurrentFocused = _b[1];\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _c = React__namespace.useState(-1), renderPageIndex = _c[0], setRenderPageIndex = _c[1];\n    var isMounted = core.useIsMounted();\n    var hasRenderingThumbnailRef = React__namespace.useRef(false);\n    var renderQueue = core.useRenderQueue({ doc: doc });\n    var pageIndexes = React__namespace.useMemo(function () {\n        return Array(numPages)\n            .fill(0)\n            .map(function (_, pageIndex) { return pageIndex; });\n    }, [docId]);\n    var handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'ArrowDown':\n                activateNextItem();\n                break;\n            case 'ArrowUp':\n                activatePreviousItem();\n                break;\n            case 'Enter':\n                jumpToFocusedPage();\n                break;\n        }\n    };\n    var activateNextItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var nextItem = currentFocused + 1;\n        if (nextItem < items.length) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(nextItem);\n        }\n    };\n    var activatePreviousItem = function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var items = thumbnailsRef.current;\n        var prevItem = currentFocused - 1;\n        if (prevItem >= 0) {\n            if (currentFocused >= 0) {\n                items[currentFocused].setAttribute('tabindex', '-1');\n            }\n            setCurrentFocused(prevItem);\n        }\n    };\n    var jumpToFocusedPage = function () {\n        if (currentFocused >= 0 && currentFocused < numPages) {\n            onJumpToPage(currentFocused);\n        }\n    };\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        thumbnailsRef.current = Array.from(container.querySelectorAll('.rpv-thumbnail__item'));\n    }, []);\n    React__namespace.useEffect(function () {\n        var thumbnails = thumbnailsRef.current;\n        if (thumbnails.length === 0 || currentFocused < 0 || currentFocused > thumbnails.length) {\n            return;\n        }\n        var thumbnailEle = thumbnails[currentFocused];\n        thumbnailEle.setAttribute('tabindex', '0');\n        thumbnailEle.focus();\n    }, [currentFocused]);\n    core.useIsomorphicLayoutEffect(function () {\n        var container = containerRef.current;\n        if (container) {\n            var thumbnailNodes = container.children;\n            if (currentPage < thumbnailNodes.length) {\n                scrollToBeVisible(thumbnailNodes.item(currentPage), container);\n            }\n        }\n    }, [currentPage]);\n    var handleRenderCompleted = React__namespace.useCallback(function (pageIndex) {\n        if (isMounted.current) {\n            renderQueue.markRendered(pageIndex);\n            hasRenderingThumbnailRef.current = false;\n            renderNextThumbnail();\n        }\n    }, [docId]);\n    var handleVisibilityChanged = React__namespace.useCallback(function (pageIndex, visibility) {\n        visibility.isVisible\n            ? renderQueue.setVisibility(pageIndex, visibility.ratio)\n            :\n                renderQueue.setOutOfRange(pageIndex);\n        renderNextThumbnail();\n    }, [docId]);\n    var renderNextThumbnail = React__namespace.useCallback(function () {\n        if (hasRenderingThumbnailRef.current) {\n            return;\n        }\n        var nextPage = renderQueue.getHighestPriorityPage();\n        if (nextPage > -1) {\n            renderQueue.markRendering(nextPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(nextPage);\n        }\n    }, [docId]);\n    React__namespace.useEffect(function () {\n        if (rotatedPage >= 0) {\n            renderQueue.markRendering(rotatedPage);\n            hasRenderingThumbnailRef.current = true;\n            setRenderPageIndex(rotatedPage);\n        }\n    }, [docId, rotatedPage]);\n    return (React__namespace.createElement(\"div\", { ref: containerRef, \"data-testid\": \"thumbnail__list\", className: core.classNames({\n            'rpv-thumbnail__list': true,\n            'rpv-thumbnail__list--rtl': isRtl,\n        }), onKeyDown: handleKeyDown }, pageIndexes.map(function (pageIndex) {\n        var key = \"\".concat(doc.loadingTask.docId, \"___\").concat(pageIndex);\n        var pageLabel = labels.length === numPages ? labels[pageIndex] : \"\".concat(pageIndex + 1);\n        var label = renderCurrentPageLabel\n            ? renderCurrentPageLabel({ currentPage: currentPage, pageIndex: pageIndex, numPages: numPages, pageLabel: pageLabel })\n            : pageLabel;\n        var pageRotation = pagesRotation.has(pageIndex) ? pagesRotation.get(pageIndex) : 0;\n        var thumbnail = (React__namespace.createElement(ThumbnailContainer, { doc: doc, pageHeight: pageHeight, pageIndex: pageIndex, pageRotation: pageRotation, pageWidth: pageWidth, rotation: rotation, shouldRender: renderPageIndex === pageIndex, thumbnailWidth: thumbnailWidth, onRenderCompleted: handleRenderCompleted, onVisibilityChanged: handleVisibilityChanged }));\n        return renderThumbnailItem ? (renderThumbnailItem({\n            currentPage: currentPage,\n            key: key,\n            numPages: numPages,\n            pageIndex: pageIndex,\n            renderPageLabel: React__namespace.createElement(React__namespace.Fragment, null, label),\n            renderPageThumbnail: thumbnail,\n            onJumpToPage: function () { return onJumpToPage(pageIndex); },\n            onRotatePage: function (direction) { return onRotatePage(pageIndex, direction); },\n        })) : (React__namespace.createElement(\"div\", { key: key },\n            React__namespace.createElement(\"div\", { className: core.classNames({\n                    'rpv-thumbnail__item': true,\n                    'rpv-thumbnail__item--selected': currentPage === pageIndex,\n                }), role: \"button\", tabIndex: currentPage === pageIndex ? 0 : -1, onClick: function () { return onJumpToPage(pageIndex); } }, thumbnail),\n            React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail__label-\".concat(pageIndex), className: \"rpv-thumbnail__label\" }, label)));\n    })));\n};\n\nvar ThumbnailListWithStore = function (_a) {\n    var renderCurrentPageLabel = _a.renderCurrentPageLabel, renderThumbnailItem = _a.renderThumbnailItem, store = _a.store, thumbnailWidth = _a.thumbnailWidth;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var _c = React__namespace.useState(store.get('currentPage') || 0), currentPage = _c[0], setCurrentPage = _c[1];\n    var _d = React__namespace.useState(store.get('pageHeight') || 0), pageHeight = _d[0], setPageHeight = _d[1];\n    var _e = React__namespace.useState(store.get('pageWidth') || 0), pageWidth = _e[0], setPageWidth = _e[1];\n    var _f = React__namespace.useState(store.get('rotation') || 0), rotation = _f[0], setRotation = _f[1];\n    var _g = React__namespace.useState(store.get('pagesRotation') || new Map()), pagesRotation = _g[0], setPagesRotation = _g[1];\n    var _h = React__namespace.useState(store.get('rotatedPage') || -1), rotatedPage = _h[0], setRotatedPage = _h[1];\n    var handleCurrentPageChanged = function (currentPageIndex) {\n        setCurrentPage(currentPageIndex);\n    };\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var handlePageHeightChanged = function (height) {\n        setPageHeight(height);\n    };\n    var handlePageWidthChanged = function (width) {\n        setPageWidth(width);\n    };\n    var handleRotationChanged = function (currentRotation) {\n        setRotation(currentRotation);\n    };\n    var handlePagesRotationChanged = function (rotations) {\n        setPagesRotation(rotations);\n    };\n    var handleRotatedPage = function (rotatedPage) {\n        setRotatedPage(rotatedPage);\n    };\n    var jump = function (pageIndex) {\n        var jumpToPage = store.get('jumpToPage');\n        if (jumpToPage) {\n            jumpToPage(pageIndex);\n        }\n    };\n    var rotatePage = function (pageIndex, direction) {\n        store.get('rotatePage')(pageIndex, direction);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        store.subscribe('pageHeight', handlePageHeightChanged);\n        store.subscribe('pageWidth', handlePageWidthChanged);\n        store.subscribe('rotatedPage', handleRotatedPage);\n        store.subscribe('rotation', handleRotationChanged);\n        store.subscribe('pagesRotation', handlePagesRotationChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n            store.unsubscribe('pageHeight', handlePageHeightChanged);\n            store.unsubscribe('pageWidth', handlePageWidthChanged);\n            store.unsubscribe('rotatedPage', handleRotatedPage);\n            store.unsubscribe('rotation', handleRotationChanged);\n            store.unsubscribe('pagesRotation', handlePagesRotationChanged);\n        };\n    }, []);\n    core.useIsomorphicLayoutEffect(function () {\n        store.subscribe('currentPage', handleCurrentPageChanged);\n        return function () {\n            store.unsubscribe('currentPage', handleCurrentPageChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(core.LazyRender, { testId: \"thumbnail__list-container\", attrs: {\n            className: 'rpv-thumbnail__list-container',\n        } },\n        React__namespace.createElement(FetchLabels, { doc: currentDoc }, function (labels) { return (React__namespace.createElement(ThumbnailList, { currentPage: currentPage, doc: currentDoc, labels: labels, pagesRotation: pagesRotation, pageHeight: pageHeight, pageWidth: pageWidth, renderCurrentPageLabel: renderCurrentPageLabel, renderThumbnailItem: renderThumbnailItem, rotatedPage: rotatedPage, rotation: rotation, thumbnailWidth: thumbnailWidth, onJumpToPage: jump, onRotatePage: rotatePage })); }))) : (React__namespace.createElement(\"div\", { \"data-testid\": \"thumbnail-list__loader\", className: \"rpv-thumbnail__loader\" }, React__namespace.useContext(SpinnerContext).renderSpinner()));\n};\n\nvar thumbnailPlugin = function (pluginProps) {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            rotatePage: function () {\n            },\n        });\n    }, []);\n    var _a = React__namespace.useState(''), docId = _a[0], setDocId = _a[1];\n    var CoverDecorator = function (props) { return (React__namespace.createElement(Cover, __assign({}, props, { renderSpinner: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner, store: store }))); };\n    var ThumbnailsDecorator = React__namespace.useCallback(function (props) { return (React__namespace.createElement(SpinnerContext.Provider, { value: { renderSpinner: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderSpinner) || defaultSpinner } },\n        React__namespace.createElement(ThumbnailListWithStore, { renderCurrentPageLabel: pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.renderCurrentPageLabel, renderThumbnailItem: props === null || props === void 0 ? void 0 : props.renderThumbnailItem, store: store, thumbnailWidth: (pluginProps === null || pluginProps === void 0 ? void 0 : pluginProps.thumbnailWidth) || 100 }))); }, [docId]);\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToPage', pluginFunctions.jumpToPage);\n            store.update('rotatePage', pluginFunctions.rotatePage);\n        },\n        onDocumentLoad: function (props) {\n            setDocId(props.doc.loadingTask.docId);\n            store.update('doc', props.doc);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('currentPage', viewerState.pageIndex);\n            store.update('pagesRotation', viewerState.pagesRotation);\n            store.update('pageHeight', viewerState.pageHeight);\n            store.update('pageWidth', viewerState.pageWidth);\n            store.update('rotation', viewerState.rotation);\n            store.update('rotatedPage', viewerState.rotatedPage);\n            return viewerState;\n        },\n        Cover: CoverDecorator,\n        Thumbnails: ThumbnailsDecorator,\n    };\n};\n\nexports.thumbnailPlugin = thumbnailPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9janMvdGh1bWJuYWlsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QyxFQUFFLGFBQWEsRUFBQzs7QUFFN0QsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0JBQW9CO0FBQzNFO0FBQ0E7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsY0FBYztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLCtDQUErQyx3REFBd0Q7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwREFBMEQsNEZBQTRGLDhDQUE4Qyx1R0FBdUc7QUFDM1M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0QsbUNBQW1DLDZEQUE2RCwyRUFBMkUsOENBQThDLDBDQUEwQztBQUN2VDs7QUFFQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2Q0FBNkMsc0NBQXNDO0FBQ25GLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixXQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxjQUFjO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGtDQUFrQztBQUM1RSwyQ0FBMkMsa0RBQWtEO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwySEFBMkgsd0NBQXdDLFdBQVcsMEhBQTBIO0FBQ3hTOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0EsV0FBVywySEFBMkgsME5BQTBOO0FBQ2hXOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxVQUFVO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBbUI7QUFDOUQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwRkFBMEY7QUFDakk7QUFDQTtBQUNBLDhFQUE4RSxtU0FBbVM7QUFDalg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUNBQWlDO0FBQ3pFLGlEQUFpRCw0Q0FBNEM7QUFDN0YsU0FBUyw4Q0FBOEMsVUFBVTtBQUNqRSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBLGlCQUFpQix3RkFBd0YsbUNBQW1DO0FBQzVJLG9EQUFvRCx5RkFBeUY7QUFDN0ksS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJFQUEyRTtBQUMzRTtBQUNBLFdBQVc7QUFDWCxzREFBc0QsaUJBQWlCLHNCQUFzQix3REFBd0QsNlZBQTZWLEtBQUssK0NBQStDLDZFQUE2RTtBQUNubkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDRDQUE0Qyx5REFBeUQsV0FBVyxrSEFBa0g7QUFDbE8sOEVBQThFLGtFQUFrRSxTQUFTLDBIQUEwSDtBQUNuUixpRUFBaUUsaVZBQWlWLE1BQU07QUFDeFo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwvbGliL2Nqcy90aHVtYm5haWwuanM/OGJmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvY29yZScpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICAgIGlmIChlICYmIGUuX19lc01vZHVsZSkgcmV0dXJuIGU7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIGlmIChrICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIGssIGQuZ2V0ID8gZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuW1wiZGVmYXVsdFwiXSA9IGU7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbnZhciBSZWFjdF9fbmFtZXNwYWNlID0gLyojX19QVVJFX18qL19pbnRlcm9wTmFtZXNwYWNlKFJlYWN0KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgQ292ZXJJbm5lciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBnZXRQYWdlSW5kZXggPSBfYS5nZXRQYWdlSW5kZXgsIHJlbmRlclNwaW5uZXIgPSBfYS5yZW5kZXJTcGlubmVyLCBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgaXNNb3VudGVkID0gY29yZS51c2VJc01vdW50ZWQoKTtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2VkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBpZiAoc3JjIHx8ICFwYXJhbXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRhaW5lckVsZSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBudW1QYWdlcyA9IGRvYy5udW1QYWdlcztcbiAgICAgICAgdmFyIHRhcmdldFBhZ2UgPSBnZXRQYWdlSW5kZXggPyBnZXRQYWdlSW5kZXgoeyBudW1QYWdlczogbnVtUGFnZXMgfSkgOiAwO1xuICAgICAgICB2YXIgbm9ybWFsaXplUGFnZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRhcmdldFBhZ2UsIG51bVBhZ2VzIC0gMSkpO1xuICAgICAgICBjb3JlLmdldFBhZ2UoZG9jLCBub3JtYWxpemVQYWdlKS50aGVuKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEgfSk7XG4gICAgICAgICAgICB2YXIgdyA9IHZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgdmFyIGggPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyRWxlLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lckVsZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgc2NhbGVkID0gTWF0aC5taW4oY29udGFpbmVyV2lkdGggLyB3LCBjb250YWluZXJIZWlnaHQgLyBoKTtcbiAgICAgICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHNjYWxlZCAqIHc7XG4gICAgICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gc2NhbGVkICogaDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgdmFyIHJlbmRlclZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50ID0gcGFnZS5yZW5kZXIoeyBjYW52YXNDb250ZXh0OiBjYW52YXNDb250ZXh0LCB2aWV3cG9ydDogcmVuZGVyVmlld3BvcnQgfSk7XG4gICAgICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRTcmMoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IGNvcmUudXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoe1xuICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2VkOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlZCxcbiAgICB9KTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSByZW5kZXJUYXNrLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHNyYyA/IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXItaW1hZ2VcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY292ZXItaW1hZ2VcIiwgc3JjOiBzcmMgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb3Zlci1sb2FkZXJcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY292ZXItbG9hZGVyXCIsIHJlZjogY29udGFpbmVyUmVmIH0sIHJlbmRlclNwaW5uZXIgPyByZW5kZXJTcGlubmVyKCkgOiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5TcGlubmVyLCBudWxsKSkpO1xufTtcblxudmFyIENvdmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGdldFBhZ2VJbmRleCA9IF9hLmdldFBhZ2VJbmRleCwgcmVuZGVyU3Bpbm5lciA9IF9hLnJlbmRlclNwaW5uZXIsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ2RvYycpKSwgY3VycmVudERvYyA9IF9iWzBdLCBzZXRDdXJyZW50RG9jID0gX2JbMV07XG4gICAgdmFyIGhhbmRsZURvY3VtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgc2V0Q3VycmVudERvYyhkb2MpO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnZG9jJywgaGFuZGxlRG9jdW1lbnRDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fY292ZXJcIiB9LCBjdXJyZW50RG9jID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChDb3ZlcklubmVyLCB7IGRvYzogY3VycmVudERvYywgZ2V0UGFnZUluZGV4OiBnZXRQYWdlSW5kZXgsIHJlbmRlclNwaW5uZXI6IHJlbmRlclNwaW5uZXIgfSkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb3Zlci1sb2FkZXJcIiB9LCByZW5kZXJTcGlubmVyID8gcmVuZGVyU3Bpbm5lcigpIDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCkpKSkpO1xufTtcblxudmFyIGRlZmF1bHRTcGlubmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuU3Bpbm5lciwgbnVsbCk7IH07XG52YXIgU3Bpbm5lckNvbnRleHQgPSBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUNvbnRleHQoe1xuICAgIHJlbmRlclNwaW5uZXI6IGRlZmF1bHRTcGlubmVyLFxufSk7XG5cbnZhciBGZXRjaExhYmVscyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBkb2MgPSBfYS5kb2M7XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGxhYmVsczogW10sXG4gICAgfSksIHN0YXR1cyA9IF9iWzBdLCBzZXRTdGF0dXMgPSBfYlsxXTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvYy5nZXRQYWdlTGFiZWxzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRTdGF0dXMoeyBsb2FkaW5nOiBmYWxzZSwgbGFiZWxzOiByZXN1bHQgfHwgW10gfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtkb2MubG9hZGluZ1Rhc2suZG9jSWRdKTtcbiAgICByZXR1cm4gc3RhdHVzLmxvYWRpbmcgPyBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCkgOiBjaGlsZHJlbihzdGF0dXMubGFiZWxzKTtcbn07XG5cbnZhciBzY3JvbGxUb0JlVmlzaWJsZSA9IGZ1bmN0aW9uIChlbGUsIGNvbnRhaW5lcikge1xuICAgIHZhciB0b3AgPSBlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICB2YXIgZWxlSGVpZ2h0ID0gZWxlLmNsaWVudEhlaWdodDtcbiAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICBpZiAodG9wIDwgMCkge1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IHRvcDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodG9wICsgZWxlSGVpZ2h0IDw9IGNvbnRhaW5lckhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gdG9wICsgZWxlSGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0O1xufTtcblxudmFyIFRodW1ibmFpbEl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcGFnZSA9IF9hLnBhZ2UsIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlSW5kZXggPSBfYS5wYWdlSW5kZXgsIHBhZ2VXaWR0aCA9IF9hLnBhZ2VXaWR0aCwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsSGVpZ2h0ID0gX2EudGh1bWJuYWlsSGVpZ2h0LCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoLCBvblJlbmRlckNvbXBsZXRlZCA9IF9hLm9uUmVuZGVyQ29tcGxldGVkO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgcmVuZGVyVGFzayA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIHNyYyA9IF9iWzBdLCBzZXRTcmMgPSBfYlsxXTtcbiAgICB2YXIgdGh1bWJuYWlsTGFiZWwgPSBsMTBuICYmIGwxMG4udGh1bWJuYWlsXG4gICAgICAgID8gbDEwbi50aHVtYm5haWwudGh1bWJuYWlsTGFiZWxcbiAgICAgICAgOiAnVGh1bWJuYWlsIG9mIHBhZ2Uge3twYWdlSW5kZXh9fSc7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFzayA9IHJlbmRlclRhc2suY3VycmVudDtcbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgIHRhc2suY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgdyA9IHRodW1ibmFpbFdpZHRoO1xuICAgICAgICB2YXIgaCA9IHcgLyAocGFnZVdpZHRoIC8gcGFnZUhlaWdodCk7XG4gICAgICAgIHZhciBzY2FsZSA9IHcgLyBwYWdlV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoaCwgXCJweFwiKTtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQodywgXCJweFwiKTtcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHJvdGF0aW9uOiByb3RhdGlvbiwgc2NhbGU6IHNjYWxlIH0pO1xuICAgICAgICByZW5kZXJUYXNrLmN1cnJlbnQgPSBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGNhbnZhc0NvbnRleHQsIHZpZXdwb3J0OiB2aWV3cG9ydCB9KTtcbiAgICAgICAgcmVuZGVyVGFzay5jdXJyZW50LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRTcmMoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9uUmVuZGVyQ29tcGxldGVkKHBhZ2VJbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gcmVuZGVyVGFzay5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3JvdGF0aW9uXSk7XG4gICAgcmV0dXJuICFzcmMgPyAoUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpIDogKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IFwiYXJpYS1sYWJlbFwiOiB0aHVtYm5haWxMYWJlbC5yZXBsYWNlKCd7e3BhZ2VJbmRleH19JywgXCJcIi5jb25jYXQocGFnZUluZGV4ICsgMSkpLCBzcmM6IHNyYywgaGVpZ2h0OiBcIlwiLmNvbmNhdCh0aHVtYm5haWxIZWlnaHQsIFwicHhcIiksIHdpZHRoOiBcIlwiLmNvbmNhdCh0aHVtYm5haWxXaWR0aCwgXCJweFwiKSB9KSk7XG59O1xuXG52YXIgVGh1bWJuYWlsQ29udGFpbmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGRvYyA9IF9hLmRvYywgcGFnZUhlaWdodCA9IF9hLnBhZ2VIZWlnaHQsIHBhZ2VJbmRleCA9IF9hLnBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uID0gX2EucGFnZVJvdGF0aW9uLCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJvdGF0aW9uID0gX2Eucm90YXRpb24sIHNob3VsZFJlbmRlciA9IF9hLnNob3VsZFJlbmRlciwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aCwgb25SZW5kZXJDb21wbGV0ZWQgPSBfYS5vblJlbmRlckNvbXBsZXRlZCwgb25WaXNpYmlsaXR5Q2hhbmdlZCA9IF9hLm9uVmlzaWJpbGl0eUNoYW5nZWQ7XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSh7XG4gICAgICAgIGhlaWdodDogcGFnZUhlaWdodCxcbiAgICAgICAgcGFnZTogbnVsbCxcbiAgICAgICAgdmlld3BvcnRSb3RhdGlvbjogMCxcbiAgICAgICAgd2lkdGg6IHBhZ2VXaWR0aCxcbiAgICB9KSwgcGFnZVNpemUgPSBfYlswXSwgc2V0UGFnZVNpemUgPSBfYlsxXTtcbiAgICB2YXIgcGFnZSA9IHBhZ2VTaXplLnBhZ2UsIGhlaWdodCA9IHBhZ2VTaXplLmhlaWdodCwgd2lkdGggPSBwYWdlU2l6ZS53aWR0aDtcbiAgICB2YXIgc2NhbGUgPSB3aWR0aCAvIGhlaWdodDtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IE1hdGguYWJzKHJvdGF0aW9uICsgcGFnZVJvdGF0aW9uKSAlIDE4MCA9PT0gMDtcbiAgICB2YXIgdyA9IGlzVmVydGljYWwgPyB0aHVtYm5haWxXaWR0aCA6IHRodW1ibmFpbFdpZHRoIC8gc2NhbGU7XG4gICAgdmFyIGggPSBpc1ZlcnRpY2FsID8gdGh1bWJuYWlsV2lkdGggLyBzY2FsZSA6IHRodW1ibmFpbFdpZHRoO1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgY29yZS5nZXRQYWdlKGRvYywgcGFnZUluZGV4KS50aGVuKGZ1bmN0aW9uIChwZGZQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGRmUGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlOiAxIH0pO1xuICAgICAgICAgICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VTaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGRmUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Um90YXRpb246IHZpZXdwb3J0LnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3Nob3VsZFJlbmRlcl0pO1xuICAgIHZhciByb3RhdGlvbk51bWJlciA9IChwYWdlU2l6ZS52aWV3cG9ydFJvdGF0aW9uICsgcm90YXRpb24gKyBwYWdlUm90YXRpb24pICUgMzYwO1xuICAgIHZhciBjb250YWluZXJSZWYgPSBjb3JlLnVzZUludGVyc2VjdGlvbk9ic2VydmVyKHtcbiAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlZDogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZWQocGFnZUluZGV4LCB2aXNpYmlsaXR5KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdGh1bWJuYWlsX19jb250YWluZXJcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInRodW1ibmFpbF9fY29udGFpbmVyLVwiLmNvbmNhdChwYWdlSW5kZXgpLCByZWY6IGNvbnRhaW5lclJlZiwgc3R5bGU6IHtcbiAgICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoaCwgXCJweFwiKSxcbiAgICAgICAgICAgIHdpZHRoOiBcIlwiLmNvbmNhdCh3LCBcInB4XCIpLFxuICAgICAgICB9IH0sICFwYWdlID8gKFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChTcGlubmVyQ29udGV4dCkucmVuZGVyU3Bpbm5lcigpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsSXRlbSwgeyBwYWdlOiBwYWdlLCBwYWdlSGVpZ2h0OiBpc1ZlcnRpY2FsID8gaGVpZ2h0IDogd2lkdGgsIHBhZ2VJbmRleDogcGFnZUluZGV4LCBwYWdlV2lkdGg6IGlzVmVydGljYWwgPyB3aWR0aCA6IGhlaWdodCwgcm90YXRpb246IHJvdGF0aW9uTnVtYmVyLCB0aHVtYm5haWxIZWlnaHQ6IGgsIHRodW1ibmFpbFdpZHRoOiB3LCBvblJlbmRlckNvbXBsZXRlZDogb25SZW5kZXJDb21wbGV0ZWQgfSkpKSk7XG59O1xuXG52YXIgVGh1bWJuYWlsTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjdXJyZW50UGFnZSA9IF9hLmN1cnJlbnRQYWdlLCBkb2MgPSBfYS5kb2MsIGxhYmVscyA9IF9hLmxhYmVscywgcGFnZXNSb3RhdGlvbiA9IF9hLnBhZ2VzUm90YXRpb24sIHBhZ2VIZWlnaHQgPSBfYS5wYWdlSGVpZ2h0LCBwYWdlV2lkdGggPSBfYS5wYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWwgPSBfYS5yZW5kZXJDdXJyZW50UGFnZUxhYmVsLCByZW5kZXJUaHVtYm5haWxJdGVtID0gX2EucmVuZGVyVGh1bWJuYWlsSXRlbSwgcm90YXRlZFBhZ2UgPSBfYS5yb3RhdGVkUGFnZSwgcm90YXRpb24gPSBfYS5yb3RhdGlvbiwgdGh1bWJuYWlsV2lkdGggPSBfYS50aHVtYm5haWxXaWR0aCwgb25KdW1wVG9QYWdlID0gX2Eub25KdW1wVG9QYWdlLCBvblJvdGF0ZVBhZ2UgPSBfYS5vblJvdGF0ZVBhZ2U7XG4gICAgdmFyIG51bVBhZ2VzID0gZG9jLm51bVBhZ2VzO1xuICAgIHZhciBkb2NJZCA9IGRvYy5sb2FkaW5nVGFzay5kb2NJZDtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gUmVhY3RfX25hbWVzcGFjZS51c2VSZWYobnVsbCk7XG4gICAgdmFyIHRodW1ibmFpbHNSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihbXSk7XG4gICAgdmFyIF9iID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShjdXJyZW50UGFnZSksIGN1cnJlbnRGb2N1c2VkID0gX2JbMF0sIHNldEN1cnJlbnRGb2N1c2VkID0gX2JbMV07XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLlRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBpc1J0bCA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0O1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoLTEpLCByZW5kZXJQYWdlSW5kZXggPSBfY1swXSwgc2V0UmVuZGVyUGFnZUluZGV4ID0gX2NbMV07XG4gICAgdmFyIGlzTW91bnRlZCA9IGNvcmUudXNlSXNNb3VudGVkKCk7XG4gICAgdmFyIGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgcmVuZGVyUXVldWUgPSBjb3JlLnVzZVJlbmRlclF1ZXVlKHsgZG9jOiBkb2MgfSk7XG4gICAgdmFyIHBhZ2VJbmRleGVzID0gUmVhY3RfX25hbWVzcGFjZS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5KG51bVBhZ2VzKVxuICAgICAgICAgICAgLmZpbGwoMClcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF8sIHBhZ2VJbmRleCkgeyByZXR1cm4gcGFnZUluZGV4OyB9KTtcbiAgICB9LCBbZG9jSWRdKTtcbiAgICB2YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVOZXh0SXRlbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgYWN0aXZhdGVQcmV2aW91c0l0ZW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICAgICBqdW1wVG9Gb2N1c2VkUGFnZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgYWN0aXZhdGVOZXh0SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtcyA9IHRodW1ibmFpbHNSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIG5leHRJdGVtID0gY3VycmVudEZvY3VzZWQgKyAxO1xuICAgICAgICBpZiAobmV4dEl0ZW0gPCBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9jdXNlZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgaXRlbXNbY3VycmVudEZvY3VzZWRdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEN1cnJlbnRGb2N1c2VkKG5leHRJdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGl2YXRlUHJldmlvdXNJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW1zID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICB2YXIgcHJldkl0ZW0gPSBjdXJyZW50Rm9jdXNlZCAtIDE7XG4gICAgICAgIGlmIChwcmV2SXRlbSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZvY3VzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGl0ZW1zW2N1cnJlbnRGb2N1c2VkXS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDdXJyZW50Rm9jdXNlZChwcmV2SXRlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBqdW1wVG9Gb2N1c2VkUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRGb2N1c2VkID49IDAgJiYgY3VycmVudEZvY3VzZWQgPCBudW1QYWdlcykge1xuICAgICAgICAgICAgb25KdW1wVG9QYWdlKGN1cnJlbnRGb2N1c2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRodW1ibmFpbHNSZWYuY3VycmVudCA9IEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ycHYtdGh1bWJuYWlsX19pdGVtJykpO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aHVtYm5haWxzID0gdGh1bWJuYWlsc1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAodGh1bWJuYWlscy5sZW5ndGggPT09IDAgfHwgY3VycmVudEZvY3VzZWQgPCAwIHx8IGN1cnJlbnRGb2N1c2VkID4gdGh1bWJuYWlscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGh1bWJuYWlsRWxlID0gdGh1bWJuYWlsc1tjdXJyZW50Rm9jdXNlZF07XG4gICAgICAgIHRodW1ibmFpbEVsZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGh1bWJuYWlsRWxlLmZvY3VzKCk7XG4gICAgfSwgW2N1cnJlbnRGb2N1c2VkXSk7XG4gICAgY29yZS51c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsTm9kZXMgPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPCB0aHVtYm5haWxOb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb0JlVmlzaWJsZSh0aHVtYm5haWxOb2Rlcy5pdGVtKGN1cnJlbnRQYWdlKSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50UGFnZV0pO1xuICAgIHZhciBoYW5kbGVSZW5kZXJDb21wbGV0ZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICByZW5kZXJRdWV1ZS5tYXJrUmVuZGVyZWQocGFnZUluZGV4KTtcbiAgICAgICAgICAgIGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZW5kZXJOZXh0VGh1bWJuYWlsKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZG9jSWRdKTtcbiAgICB2YXIgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdlSW5kZXgsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdmlzaWJpbGl0eS5pc1Zpc2libGVcbiAgICAgICAgICAgID8gcmVuZGVyUXVldWUuc2V0VmlzaWJpbGl0eShwYWdlSW5kZXgsIHZpc2liaWxpdHkucmF0aW8pXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgcmVuZGVyUXVldWUuc2V0T3V0T2ZSYW5nZShwYWdlSW5kZXgpO1xuICAgICAgICByZW5kZXJOZXh0VGh1bWJuYWlsKCk7XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgdmFyIHJlbmRlck5leHRUaHVtYm5haWwgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhhc1JlbmRlcmluZ1RodW1ibmFpbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5leHRQYWdlID0gcmVuZGVyUXVldWUuZ2V0SGlnaGVzdFByaW9yaXR5UGFnZSgpO1xuICAgICAgICBpZiAobmV4dFBhZ2UgPiAtMSkge1xuICAgICAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmluZyhuZXh0UGFnZSk7XG4gICAgICAgICAgICBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBzZXRSZW5kZXJQYWdlSW5kZXgobmV4dFBhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgW2RvY0lkXSk7XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocm90YXRlZFBhZ2UgPj0gMCkge1xuICAgICAgICAgICAgcmVuZGVyUXVldWUubWFya1JlbmRlcmluZyhyb3RhdGVkUGFnZSk7XG4gICAgICAgICAgICBoYXNSZW5kZXJpbmdUaHVtYm5haWxSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBzZXRSZW5kZXJQYWdlSW5kZXgocm90YXRlZFBhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgW2RvY0lkLCByb3RhdGVkUGFnZV0pO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xpc3RcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QnOiB0cnVlLFxuICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2xpc3QtLXJ0bCc6IGlzUnRsLFxuICAgICAgICB9KSwgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duIH0sIHBhZ2VJbmRleGVzLm1hcChmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBcIlwiLmNvbmNhdChkb2MubG9hZGluZ1Rhc2suZG9jSWQsIFwiX19fXCIpLmNvbmNhdChwYWdlSW5kZXgpO1xuICAgICAgICB2YXIgcGFnZUxhYmVsID0gbGFiZWxzLmxlbmd0aCA9PT0gbnVtUGFnZXMgPyBsYWJlbHNbcGFnZUluZGV4XSA6IFwiXCIuY29uY2F0KHBhZ2VJbmRleCArIDEpO1xuICAgICAgICB2YXIgbGFiZWwgPSByZW5kZXJDdXJyZW50UGFnZUxhYmVsXG4gICAgICAgICAgICA/IHJlbmRlckN1cnJlbnRQYWdlTGFiZWwoeyBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsIHBhZ2VJbmRleDogcGFnZUluZGV4LCBudW1QYWdlczogbnVtUGFnZXMsIHBhZ2VMYWJlbDogcGFnZUxhYmVsIH0pXG4gICAgICAgICAgICA6IHBhZ2VMYWJlbDtcbiAgICAgICAgdmFyIHBhZ2VSb3RhdGlvbiA9IHBhZ2VzUm90YXRpb24uaGFzKHBhZ2VJbmRleCkgPyBwYWdlc1JvdGF0aW9uLmdldChwYWdlSW5kZXgpIDogMDtcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsQ29udGFpbmVyLCB7IGRvYzogZG9jLCBwYWdlSGVpZ2h0OiBwYWdlSGVpZ2h0LCBwYWdlSW5kZXg6IHBhZ2VJbmRleCwgcGFnZVJvdGF0aW9uOiBwYWdlUm90YXRpb24sIHBhZ2VXaWR0aDogcGFnZVdpZHRoLCByb3RhdGlvbjogcm90YXRpb24sIHNob3VsZFJlbmRlcjogcmVuZGVyUGFnZUluZGV4ID09PSBwYWdlSW5kZXgsIHRodW1ibmFpbFdpZHRoOiB0aHVtYm5haWxXaWR0aCwgb25SZW5kZXJDb21wbGV0ZWQ6IGhhbmRsZVJlbmRlckNvbXBsZXRlZCwgb25WaXNpYmlsaXR5Q2hhbmdlZDogaGFuZGxlVmlzaWJpbGl0eUNoYW5nZWQgfSkpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGh1bWJuYWlsSXRlbSA/IChyZW5kZXJUaHVtYm5haWxJdGVtKHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgbnVtUGFnZXM6IG51bVBhZ2VzLFxuICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICByZW5kZXJQYWdlTGFiZWw6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLCBsYWJlbCksXG4gICAgICAgICAgICByZW5kZXJQYWdlVGh1bWJuYWlsOiB0aHVtYm5haWwsXG4gICAgICAgICAgICBvbkp1bXBUb1BhZ2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uSnVtcFRvUGFnZShwYWdlSW5kZXgpOyB9LFxuICAgICAgICAgICAgb25Sb3RhdGVQYWdlOiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7IHJldHVybiBvblJvdGF0ZVBhZ2UocGFnZUluZGV4LCBkaXJlY3Rpb24pOyB9LFxuICAgICAgICB9KSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBrZXkgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ3Jwdi10aHVtYm5haWxfX2l0ZW0nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAncnB2LXRodW1ibmFpbF9faXRlbS0tc2VsZWN0ZWQnOiBjdXJyZW50UGFnZSA9PT0gcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIH0pLCByb2xlOiBcImJ1dHRvblwiLCB0YWJJbmRleDogY3VycmVudFBhZ2UgPT09IHBhZ2VJbmRleCA/IDAgOiAtMSwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gb25KdW1wVG9QYWdlKHBhZ2VJbmRleCk7IH0gfSwgdGh1bWJuYWlsKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJ0aHVtYm5haWxfX2xhYmVsLVwiLmNvbmNhdChwYWdlSW5kZXgpLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbGFiZWxcIiB9LCBsYWJlbCkpKTtcbiAgICB9KSkpO1xufTtcblxudmFyIFRodW1ibmFpbExpc3RXaXRoU3RvcmUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcmVuZGVyQ3VycmVudFBhZ2VMYWJlbCA9IF9hLnJlbmRlckN1cnJlbnRQYWdlTGFiZWwsIHJlbmRlclRodW1ibmFpbEl0ZW0gPSBfYS5yZW5kZXJUaHVtYm5haWxJdGVtLCBzdG9yZSA9IF9hLnN0b3JlLCB0aHVtYm5haWxXaWR0aCA9IF9hLnRodW1ibmFpbFdpZHRoO1xuICAgIHZhciBfYiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdkb2MnKSksIGN1cnJlbnREb2MgPSBfYlswXSwgc2V0Q3VycmVudERvYyA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdjdXJyZW50UGFnZScpIHx8IDApLCBjdXJyZW50UGFnZSA9IF9jWzBdLCBzZXRDdXJyZW50UGFnZSA9IF9jWzFdO1xuICAgIHZhciBfZCA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlSGVpZ2h0JykgfHwgMCksIHBhZ2VIZWlnaHQgPSBfZFswXSwgc2V0UGFnZUhlaWdodCA9IF9kWzFdO1xuICAgIHZhciBfZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlV2lkdGgnKSB8fCAwKSwgcGFnZVdpZHRoID0gX2VbMF0sIHNldFBhZ2VXaWR0aCA9IF9lWzFdO1xuICAgIHZhciBfZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdyb3RhdGlvbicpIHx8IDApLCByb3RhdGlvbiA9IF9mWzBdLCBzZXRSb3RhdGlvbiA9IF9mWzFdO1xuICAgIHZhciBfZyA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoc3RvcmUuZ2V0KCdwYWdlc1JvdGF0aW9uJykgfHwgbmV3IE1hcCgpKSwgcGFnZXNSb3RhdGlvbiA9IF9nWzBdLCBzZXRQYWdlc1JvdGF0aW9uID0gX2dbMV07XG4gICAgdmFyIF9oID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3JvdGF0ZWRQYWdlJykgfHwgLTEpLCByb3RhdGVkUGFnZSA9IF9oWzBdLCBzZXRSb3RhdGVkUGFnZSA9IF9oWzFdO1xuICAgIHZhciBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFBhZ2VJbmRleCkge1xuICAgICAgICBzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZUluZGV4KTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVEb2N1bWVudENoYW5nZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHNldEN1cnJlbnREb2MoZG9jKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVQYWdlSGVpZ2h0Q2hhbmdlZCA9IGZ1bmN0aW9uIChoZWlnaHQpIHtcbiAgICAgICAgc2V0UGFnZUhlaWdodChoZWlnaHQpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZVBhZ2VXaWR0aENoYW5nZWQgPSBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICAgICAgc2V0UGFnZVdpZHRoKHdpZHRoKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVSb3RhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoY3VycmVudFJvdGF0aW9uKSB7XG4gICAgICAgIHNldFJvdGF0aW9uKGN1cnJlbnRSb3RhdGlvbik7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlUGFnZXNSb3RhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAocm90YXRpb25zKSB7XG4gICAgICAgIHNldFBhZ2VzUm90YXRpb24ocm90YXRpb25zKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVSb3RhdGVkUGFnZSA9IGZ1bmN0aW9uIChyb3RhdGVkUGFnZSkge1xuICAgICAgICBzZXRSb3RhdGVkUGFnZShyb3RhdGVkUGFnZSk7XG4gICAgfTtcbiAgICB2YXIganVtcCA9IGZ1bmN0aW9uIChwYWdlSW5kZXgpIHtcbiAgICAgICAgdmFyIGp1bXBUb1BhZ2UgPSBzdG9yZS5nZXQoJ2p1bXBUb1BhZ2UnKTtcbiAgICAgICAgaWYgKGp1bXBUb1BhZ2UpIHtcbiAgICAgICAgICAgIGp1bXBUb1BhZ2UocGFnZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJvdGF0ZVBhZ2UgPSBmdW5jdGlvbiAocGFnZUluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgc3RvcmUuZ2V0KCdyb3RhdGVQYWdlJykocGFnZUluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUoJ2RvYycsIGhhbmRsZURvY3VtZW50Q2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncGFnZUhlaWdodCcsIGhhbmRsZVBhZ2VIZWlnaHRDaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdwYWdlV2lkdGgnLCBoYW5kbGVQYWdlV2lkdGhDaGFuZ2VkKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdyb3RhdGVkUGFnZScsIGhhbmRsZVJvdGF0ZWRQYWdlKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdyb3RhdGlvbicsIGhhbmRsZVJvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgncGFnZXNSb3RhdGlvbicsIGhhbmRsZVBhZ2VzUm90YXRpb25DaGFuZ2VkKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnVuc3Vic2NyaWJlKCdkb2MnLCBoYW5kbGVEb2N1bWVudENoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3BhZ2VIZWlnaHQnLCBoYW5kbGVQYWdlSGVpZ2h0Q2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncGFnZVdpZHRoJywgaGFuZGxlUGFnZVdpZHRoQ2hhbmdlZCk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncm90YXRlZFBhZ2UnLCBoYW5kbGVSb3RhdGVkUGFnZSk7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgncm90YXRpb24nLCBoYW5kbGVSb3RhdGlvbkNoYW5nZWQpO1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ3BhZ2VzUm90YXRpb24nLCBoYW5kbGVQYWdlc1JvdGF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvcmUudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3JlLnN1YnNjcmliZSgnY3VycmVudFBhZ2UnLCBoYW5kbGVDdXJyZW50UGFnZUNoYW5nZWQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcmUudW5zdWJzY3JpYmUoJ2N1cnJlbnRQYWdlJywgaGFuZGxlQ3VycmVudFBhZ2VDaGFuZ2VkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGN1cnJlbnREb2MgPyAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTGF6eVJlbmRlciwgeyB0ZXN0SWQ6IFwidGh1bWJuYWlsX19saXN0LWNvbnRhaW5lclwiLCBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAncnB2LXRodW1ibmFpbF9fbGlzdC1jb250YWluZXInLFxuICAgICAgICB9IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChGZXRjaExhYmVscywgeyBkb2M6IGN1cnJlbnREb2MgfSwgZnVuY3Rpb24gKGxhYmVscykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxMaXN0LCB7IGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSwgZG9jOiBjdXJyZW50RG9jLCBsYWJlbHM6IGxhYmVscywgcGFnZXNSb3RhdGlvbjogcGFnZXNSb3RhdGlvbiwgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgcGFnZVdpZHRoOiBwYWdlV2lkdGgsIHJlbmRlckN1cnJlbnRQYWdlTGFiZWw6IHJlbmRlckN1cnJlbnRQYWdlTGFiZWwsIHJlbmRlclRodW1ibmFpbEl0ZW06IHJlbmRlclRodW1ibmFpbEl0ZW0sIHJvdGF0ZWRQYWdlOiByb3RhdGVkUGFnZSwgcm90YXRpb246IHJvdGF0aW9uLCB0aHVtYm5haWxXaWR0aDogdGh1bWJuYWlsV2lkdGgsIG9uSnVtcFRvUGFnZToganVtcCwgb25Sb3RhdGVQYWdlOiByb3RhdGVQYWdlIH0pKTsgfSkpKSA6IChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwidGh1bWJuYWlsLWxpc3RfX2xvYWRlclwiLCBjbGFzc05hbWU6IFwicnB2LXRodW1ibmFpbF9fbG9hZGVyXCIgfSwgUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KFNwaW5uZXJDb250ZXh0KS5yZW5kZXJTcGlubmVyKCkpKTtcbn07XG5cbnZhciB0aHVtYm5haWxQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luUHJvcHMpIHtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7XG4gICAgICAgICAgICByb3RhdGVQYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgnJyksIGRvY0lkID0gX2FbMF0sIHNldERvY0lkID0gX2FbMV07XG4gICAgdmFyIENvdmVyRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KENvdmVyLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgcmVuZGVyU3Bpbm5lcjogcGx1Z2luUHJvcHMgPT09IG51bGwgfHwgcGx1Z2luUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsdWdpblByb3BzLnJlbmRlclNwaW5uZXIsIHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBUaHVtYm5haWxzRGVjb3JhdG9yID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3Bpbm5lckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgcmVuZGVyU3Bpbm5lcjogKHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy5yZW5kZXJTcGlubmVyKSB8fCBkZWZhdWx0U3Bpbm5lciB9IH0sXG4gICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChUaHVtYm5haWxMaXN0V2l0aFN0b3JlLCB7IHJlbmRlckN1cnJlbnRQYWdlTGFiZWw6IHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy5yZW5kZXJDdXJyZW50UGFnZUxhYmVsLCByZW5kZXJUaHVtYm5haWxJdGVtOiBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMucmVuZGVyVGh1bWJuYWlsSXRlbSwgc3RvcmU6IHN0b3JlLCB0aHVtYm5haWxXaWR0aDogKHBsdWdpblByb3BzID09PSBudWxsIHx8IHBsdWdpblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5Qcm9wcy50aHVtYm5haWxXaWR0aCkgfHwgMTAwIH0pKSk7IH0sIFtkb2NJZF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIChwbHVnaW5GdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnanVtcFRvUGFnZScsIHBsdWdpbkZ1bmN0aW9ucy5qdW1wVG9QYWdlKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncm90YXRlUGFnZScsIHBsdWdpbkZ1bmN0aW9ucy5yb3RhdGVQYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb2N1bWVudExvYWQ6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc2V0RG9jSWQocHJvcHMuZG9jLmxvYWRpbmdUYXNrLmRvY0lkKTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnZG9jJywgcHJvcHMuZG9jKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25WaWV3ZXJTdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHZpZXdlclN0YXRlKSB7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ2N1cnJlbnRQYWdlJywgdmlld2VyU3RhdGUucGFnZUluZGV4KTtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgncGFnZXNSb3RhdGlvbicsIHZpZXdlclN0YXRlLnBhZ2VzUm90YXRpb24pO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdwYWdlSGVpZ2h0Jywgdmlld2VyU3RhdGUucGFnZUhlaWdodCk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3BhZ2VXaWR0aCcsIHZpZXdlclN0YXRlLnBhZ2VXaWR0aCk7XG4gICAgICAgICAgICBzdG9yZS51cGRhdGUoJ3JvdGF0aW9uJywgdmlld2VyU3RhdGUucm90YXRpb24pO1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCdyb3RhdGVkUGFnZScsIHZpZXdlclN0YXRlLnJvdGF0ZWRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiB2aWV3ZXJTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ292ZXI6IENvdmVyRGVjb3JhdG9yLFxuICAgICAgICBUaHVtYm5haWxzOiBUaHVtYm5haWxzRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLnRodW1ibmFpbFBsdWdpbiA9IHRodW1ibmFpbFBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/thumbnail/lib/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/thumbnail/lib/index.js ***!
  \***************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/thumbnail.js */ \"./node_modules/@react-pdf-viewer/thumbnail/lib/cjs/thumbnail.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdGh1bWJuYWlsL2xpYi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLElBQUksaUlBQThDO0FBQ2xEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci90aHVtYm5haWwvbGliL2luZGV4LmpzP2M1MmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0byB2aWV3IGEgUERGIGRvY3VtZW50XG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2XG4gKiBAbGljZW5zZSBodHRwczovL3JlYWN0LXBkZi12aWV3ZXIuZGV2L2xpY2Vuc2VcbiAqIEBjb3B5cmlnaHQgMjAxOS0yMDIyIE5ndXllbiBIdXUgUGh1b2MgPG1lQHBodW9jLm5nPlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3RodW1ibmFpbC5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90aHVtYm5haWwuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/thumbnail/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar selectionMode = __webpack_require__(/*! @react-pdf-viewer/selection-mode */ \"./node_modules/@react-pdf-viewer/selection-mode/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar fullScreen = __webpack_require__(/*! @react-pdf-viewer/full-screen */ \"./node_modules/@react-pdf-viewer/full-screen/lib/index.js\");\nvar getFile = __webpack_require__(/*! @react-pdf-viewer/get-file */ \"./node_modules/@react-pdf-viewer/get-file/lib/index.js\");\nvar open = __webpack_require__(/*! @react-pdf-viewer/open */ \"./node_modules/@react-pdf-viewer/open/lib/index.js\");\nvar pageNavigation = __webpack_require__(/*! @react-pdf-viewer/page-navigation */ \"./node_modules/@react-pdf-viewer/page-navigation/lib/index.js\");\nvar print = __webpack_require__(/*! @react-pdf-viewer/print */ \"./node_modules/@react-pdf-viewer/print/lib/index.js\");\nvar properties = __webpack_require__(/*! @react-pdf-viewer/properties */ \"./node_modules/@react-pdf-viewer/properties/lib/index.js\");\nvar rotate = __webpack_require__(/*! @react-pdf-viewer/rotate */ \"./node_modules/@react-pdf-viewer/rotate/lib/index.js\");\nvar scrollMode = __webpack_require__(/*! @react-pdf-viewer/scroll-mode */ \"./node_modules/@react-pdf-viewer/scroll-mode/lib/index.js\");\nvar search = __webpack_require__(/*! @react-pdf-viewer/search */ \"./node_modules/@react-pdf-viewer/search/lib/index.js\");\nvar theme = __webpack_require__(/*! @react-pdf-viewer/theme */ \"./node_modules/@react-pdf-viewer/theme/lib/index.js\");\nvar zoom = __webpack_require__(/*! @react-pdf-viewer/zoom */ \"./node_modules/@react-pdf-viewer/zoom/lib/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar MoreIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\\n            M12,9.5\\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z\" }))); };\n\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar MoreActionsPopover = function (_a) {\n    var toolbarSlot = _a.toolbarSlot;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var portalPosition = direction === core.TextDirection.RightToLeft ? core.Position.BottomLeft : core.Position.BottomRight;\n    var DownloadMenuItem = toolbarSlot.DownloadMenuItem, EnterFullScreenMenuItem = toolbarSlot.EnterFullScreenMenuItem, GoToFirstPageMenuItem = toolbarSlot.GoToFirstPageMenuItem, GoToLastPageMenuItem = toolbarSlot.GoToLastPageMenuItem, GoToNextPageMenuItem = toolbarSlot.GoToNextPageMenuItem, GoToPreviousPageMenuItem = toolbarSlot.GoToPreviousPageMenuItem, OpenMenuItem = toolbarSlot.OpenMenuItem, PrintMenuItem = toolbarSlot.PrintMenuItem, RotateBackwardMenuItem = toolbarSlot.RotateBackwardMenuItem, RotateForwardMenuItem = toolbarSlot.RotateForwardMenuItem, ShowPropertiesMenuItem = toolbarSlot.ShowPropertiesMenuItem, SwitchScrollModeMenuItem = toolbarSlot.SwitchScrollModeMenuItem, SwitchSelectionModeMenuItem = toolbarSlot.SwitchSelectionModeMenuItem, SwitchThemeMenuItem = toolbarSlot.SwitchThemeMenuItem;\n    var renderTarget = function (toggle, opened) {\n        var label = l10n && l10n.toolbar ? l10n.toolbar.moreActions : 'More actions';\n        return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"toolbar-more-actions\", position: portalPosition, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, isSelected: opened, testId: \"toolbar__more-actions-popover-target\", onClick: toggle },\n                React__namespace.createElement(MoreIcon, null)), content: function () { return label; }, offset: PORTAL_OFFSET }));\n    };\n    var renderContent = function (toggle) {\n        return (React__namespace.createElement(core.Menu, null,\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(SwitchThemeMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(EnterFullScreenMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(OpenMenuItem, null)),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(PrintMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(DownloadMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(core.MenuDivider, null)),\n            React__namespace.createElement(GoToFirstPageMenuItem, { onClick: toggle }),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(GoToPreviousPageMenuItem, { onClick: toggle })),\n            React__namespace.createElement(\"div\", { className: \"rpv-core__display--block rpv-core__display--hidden-medium\" },\n                React__namespace.createElement(GoToNextPageMenuItem, { onClick: toggle })),\n            React__namespace.createElement(GoToLastPageMenuItem, { onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(RotateForwardMenuItem, { onClick: toggle }),\n            React__namespace.createElement(RotateBackwardMenuItem, { onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(SwitchSelectionModeMenuItem, { mode: selectionMode.SelectionMode.Text, onClick: toggle }),\n            React__namespace.createElement(SwitchSelectionModeMenuItem, { mode: selectionMode.SelectionMode.Hand, onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Vertical, onClick: toggle }),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Horizontal, onClick: toggle }),\n            React__namespace.createElement(SwitchScrollModeMenuItem, { mode: core.ScrollMode.Wrapped, onClick: toggle }),\n            React__namespace.createElement(core.MenuDivider, null),\n            React__namespace.createElement(ShowPropertiesMenuItem, { onClick: toggle })));\n    };\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"toolbar-more-actions\", ariaHasPopup: \"menu\", position: portalPosition, target: renderTarget, content: renderContent, offset: PORTAL_OFFSET, closeOnClickOutside: true, closeOnEscape: true }));\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar renderDefaultToolbar = function (transformToolbarSlot) {\n    return function (defaultToolbarSlot) {\n        var toolbarSlot = React__namespace.useMemo(function () { return transformToolbarSlot(defaultToolbarSlot); }, []);\n        var direction = React__namespace.useContext(core.ThemeContext).direction;\n        var isRtl = direction === core.TextDirection.RightToLeft;\n        var CurrentPageInput = toolbarSlot.CurrentPageInput, Download = toolbarSlot.Download, EnterFullScreen = toolbarSlot.EnterFullScreen, GoToNextPage = toolbarSlot.GoToNextPage, GoToPreviousPage = toolbarSlot.GoToPreviousPage, NumberOfPages = toolbarSlot.NumberOfPages, Open = toolbarSlot.Open, Print = toolbarSlot.Print, ShowSearchPopover = toolbarSlot.ShowSearchPopover, SwitchTheme = toolbarSlot.SwitchTheme, Zoom = toolbarSlot.Zoom, ZoomIn = toolbarSlot.ZoomIn, ZoomOut = toolbarSlot.ZoomOut;\n        return (React__namespace.createElement(\"div\", { \"data-testid\": \"toolbar\", className: core.classNames({\n                'rpv-toolbar': true,\n                'rpv-toolbar--rtl': isRtl,\n            }), role: \"toolbar\", \"aria-orientation\": \"horizontal\" },\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__left\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ShowSearchPopover, null)),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(GoToPreviousPage, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(CurrentPageInput, null),\n                    React__namespace.createElement(\"span\", { className: \"rpv-toolbar__label\" },\n                        React__namespace.createElement(NumberOfPages, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(GoToNextPage, null)))),\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__center\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ZoomOut, null)),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-small\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Zoom, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(ZoomIn, null))),\n            React__namespace.createElement(\"div\", { className: \"rpv-toolbar__right\" },\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(SwitchTheme, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(EnterFullScreen, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Open, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Download, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-core__display--hidden rpv-core__display--block-medium\" },\n                    React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                        React__namespace.createElement(Print, null))),\n                React__namespace.createElement(\"div\", { className: \"rpv-toolbar__item\" },\n                    React__namespace.createElement(MoreActionsPopover, { toolbarSlot: toolbarSlot })))));\n    };\n};\n\nvar defaultTransform = function (slot) {\n    var NumberOfPages = slot.NumberOfPages;\n    return Object.assign({}, slot, {\n        NumberOfPages: function () { return (React__namespace.createElement(React__namespace.Fragment, null,\n            \"/ \",\n            React__namespace.createElement(NumberOfPages, null))); },\n    });\n};\nvar DefaultToobar = function (toolbarSlot) {\n    return renderDefaultToolbar(defaultTransform)(toolbarSlot);\n};\n\nvar Toolbar = function (_a) {\n    var children = _a.children, slot = _a.slot;\n    var render = children || DefaultToobar;\n    return render(slot);\n};\n\nvar toolbarPlugin = function (props) {\n    var fullScreenPluginInstance = fullScreen.fullScreenPlugin(props ? props.fullScreenPlugin : {});\n    var getFilePluginInstance = getFile.getFilePlugin(props ? props.getFilePlugin : {});\n    var openPluginInstance = open.openPlugin(props ? props.openPlugin : {});\n    var pageNavigationPluginInstance = pageNavigation.pageNavigationPlugin(props ? props.pageNavigationPlugin : {});\n    var printPluginInstance = print.printPlugin(props ? props.printPlugin : {});\n    var propertiesPluginInstance = properties.propertiesPlugin();\n    var rotatePluginInstance = rotate.rotatePlugin();\n    var scrollModePluginInstance = scrollMode.scrollModePlugin();\n    var searchPluginInstance = search.searchPlugin(props ? props.searchPlugin : {});\n    var selectionModePluginInstance = selectionMode.selectionModePlugin(props ? props.selectionModePlugin : {});\n    var themePluginInstance = theme.themePlugin();\n    var zoomPluginInstance = zoom.zoomPlugin(props ? props.zoomPlugin : {});\n    var plugins = [\n        fullScreenPluginInstance,\n        getFilePluginInstance,\n        openPluginInstance,\n        pageNavigationPluginInstance,\n        printPluginInstance,\n        propertiesPluginInstance,\n        rotatePluginInstance,\n        scrollModePluginInstance,\n        searchPluginInstance,\n        selectionModePluginInstance,\n        themePluginInstance,\n        zoomPluginInstance,\n    ];\n    var ToolbarDecorator = React__namespace.useCallback(function (props) {\n        var EnterFullScreen = fullScreenPluginInstance.EnterFullScreen, EnterFullScreenMenuItem = fullScreenPluginInstance.EnterFullScreenMenuItem;\n        var Download = getFilePluginInstance.Download, DownloadMenuItem = getFilePluginInstance.DownloadMenuItem;\n        var Open = openPluginInstance.Open, OpenMenuItem = openPluginInstance.OpenMenuItem;\n        var CurrentPageInput = pageNavigationPluginInstance.CurrentPageInput, CurrentPageLabel = pageNavigationPluginInstance.CurrentPageLabel, GoToFirstPage = pageNavigationPluginInstance.GoToFirstPage, GoToFirstPageMenuItem = pageNavigationPluginInstance.GoToFirstPageMenuItem, GoToLastPage = pageNavigationPluginInstance.GoToLastPage, GoToLastPageMenuItem = pageNavigationPluginInstance.GoToLastPageMenuItem, GoToNextPage = pageNavigationPluginInstance.GoToNextPage, GoToNextPageMenuItem = pageNavigationPluginInstance.GoToNextPageMenuItem, GoToPreviousPage = pageNavigationPluginInstance.GoToPreviousPage, GoToPreviousPageMenuItem = pageNavigationPluginInstance.GoToPreviousPageMenuItem, NumberOfPages = pageNavigationPluginInstance.NumberOfPages;\n        var Print = printPluginInstance.Print, PrintMenuItem = printPluginInstance.PrintMenuItem;\n        var ShowProperties = propertiesPluginInstance.ShowProperties, ShowPropertiesMenuItem = propertiesPluginInstance.ShowPropertiesMenuItem;\n        var Rotate = rotatePluginInstance.Rotate, RotateBackwardMenuItem = rotatePluginInstance.RotateBackwardMenuItem, RotateForwardMenuItem = rotatePluginInstance.RotateForwardMenuItem;\n        var SwitchScrollMode = scrollModePluginInstance.SwitchScrollMode, SwitchScrollModeMenuItem = scrollModePluginInstance.SwitchScrollModeMenuItem;\n        var Search = searchPluginInstance.Search, ShowSearchPopover = searchPluginInstance.ShowSearchPopover;\n        var SwitchSelectionMode = selectionModePluginInstance.SwitchSelectionMode, SwitchSelectionModeMenuItem = selectionModePluginInstance.SwitchSelectionModeMenuItem;\n        var SwitchTheme = themePluginInstance.SwitchTheme, SwitchThemeMenuItem = themePluginInstance.SwitchThemeMenuItem;\n        var CurrentScale = zoomPluginInstance.CurrentScale, Zoom = zoomPluginInstance.Zoom, ZoomIn = zoomPluginInstance.ZoomIn, ZoomInMenuItem = zoomPluginInstance.ZoomInMenuItem, ZoomOut = zoomPluginInstance.ZoomOut, ZoomOutMenuItem = zoomPluginInstance.ZoomOutMenuItem;\n        return (React__namespace.createElement(Toolbar, __assign({}, props, { slot: {\n                CurrentPageInput: CurrentPageInput,\n                CurrentPageLabel: CurrentPageLabel,\n                CurrentScale: CurrentScale,\n                Download: Download,\n                DownloadMenuItem: DownloadMenuItem,\n                EnterFullScreen: EnterFullScreen,\n                EnterFullScreenMenuItem: EnterFullScreenMenuItem,\n                GoToFirstPage: GoToFirstPage,\n                GoToFirstPageMenuItem: GoToFirstPageMenuItem,\n                GoToLastPage: GoToLastPage,\n                GoToLastPageMenuItem: GoToLastPageMenuItem,\n                GoToNextPage: GoToNextPage,\n                GoToNextPageMenuItem: GoToNextPageMenuItem,\n                GoToPreviousPage: GoToPreviousPage,\n                GoToPreviousPageMenuItem: GoToPreviousPageMenuItem,\n                NumberOfPages: NumberOfPages,\n                Open: Open,\n                OpenMenuItem: OpenMenuItem,\n                Print: Print,\n                PrintMenuItem: PrintMenuItem,\n                Rotate: Rotate,\n                RotateBackwardMenuItem: RotateBackwardMenuItem,\n                RotateForwardMenuItem: RotateForwardMenuItem,\n                Search: Search,\n                ShowProperties: ShowProperties,\n                ShowPropertiesMenuItem: ShowPropertiesMenuItem,\n                ShowSearchPopover: ShowSearchPopover,\n                SwitchScrollMode: SwitchScrollMode,\n                SwitchScrollModeMenuItem: SwitchScrollModeMenuItem,\n                SwitchSelectionMode: SwitchSelectionMode,\n                SwitchSelectionModeMenuItem: SwitchSelectionModeMenuItem,\n                SwitchTheme: SwitchTheme,\n                SwitchThemeMenuItem: SwitchThemeMenuItem,\n                Zoom: Zoom,\n                ZoomIn: ZoomIn,\n                ZoomInMenuItem: ZoomInMenuItem,\n                ZoomOut: ZoomOut,\n                ZoomOutMenuItem: ZoomOutMenuItem,\n            } })));\n    }, []);\n    return {\n        fullScreenPluginInstance: fullScreenPluginInstance,\n        getFilePluginInstance: getFilePluginInstance,\n        openPluginInstance: openPluginInstance,\n        pageNavigationPluginInstance: pageNavigationPluginInstance,\n        printPluginInstance: printPluginInstance,\n        propertiesPluginInstance: propertiesPluginInstance,\n        rotatePluginInstance: rotatePluginInstance,\n        scrollModePluginInstance: scrollModePluginInstance,\n        searchPluginInstance: searchPluginInstance,\n        selectionModePluginInstance: selectionModePluginInstance,\n        themePluginInstance: themePluginInstance,\n        zoomPluginInstance: zoomPluginInstance,\n        install: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.install) {\n                    plugin.install(pluginFunctions);\n                }\n            });\n        },\n        renderPageLayer: function (renderProps) { return (React__namespace.createElement(React__namespace.Fragment, null, plugins.map(function (plugin, idx) {\n            return plugin.renderPageLayer ? (React__namespace.createElement(React__namespace.Fragment, { key: idx }, plugin.renderPageLayer(renderProps))) : (React__namespace.createElement(React__namespace.Fragment, { key: idx }));\n        }))); },\n        renderViewer: function (props) {\n            var slot = props.slot;\n            plugins.forEach(function (plugin) {\n                if (plugin.renderViewer) {\n                    slot = plugin.renderViewer(__assign(__assign({}, props), { slot: slot }));\n                }\n            });\n            return slot;\n        },\n        uninstall: function (pluginFunctions) {\n            plugins.forEach(function (plugin) {\n                if (plugin.uninstall) {\n                    plugin.uninstall(pluginFunctions);\n                }\n            });\n        },\n        onDocumentLoad: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onDocumentLoad) {\n                    plugin.onDocumentLoad(props);\n                }\n            });\n        },\n        onAnnotationLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onAnnotationLayerRender) {\n                    plugin.onAnnotationLayerRender(props);\n                }\n            });\n        },\n        onTextLayerRender: function (props) {\n            plugins.forEach(function (plugin) {\n                if (plugin.onTextLayerRender) {\n                    plugin.onTextLayerRender(props);\n                }\n            });\n        },\n        onViewerStateChange: function (viewerState) {\n            var newState = viewerState;\n            plugins.forEach(function (plugin) {\n                if (plugin.onViewerStateChange) {\n                    newState = plugin.onViewerStateChange(newState);\n                }\n            });\n            return newState;\n        },\n        renderDefaultToolbar: renderDefaultToolbar,\n        Toolbar: ToolbarDecorator,\n    };\n};\n\nexports.MoreActionsPopover = MoreActionsPopover;\nexports.MoreIcon = MoreIcon;\nexports.toolbarPlugin = toolbarPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvY2pzL3Rvb2xiYXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFrQztBQUM5RCxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQStCO0FBQ3hELGNBQWMsbUJBQU8sQ0FBQywwRkFBNEI7QUFDbEQsV0FBVyxtQkFBTyxDQUFDLGtGQUF3QjtBQUMzQyxxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBbUM7QUFDaEUsWUFBWSxtQkFBTyxDQUFDLG9GQUF5QjtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBOEI7QUFDdkQsYUFBYSxtQkFBTyxDQUFDLHNGQUEwQjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBK0I7QUFDeEQsYUFBYSxtQkFBTyxDQUFDLHNGQUEwQjtBQUMvQyxZQUFZLG1CQUFPLENBQUMsb0ZBQXlCO0FBQzdDLFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLG9EQUFvRCxVQUFVO0FBQzNGLDZDQUE2QywwVUFBMFU7O0FBRXZYLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELG1JQUFtSSx1R0FBdUc7QUFDelMsd0ZBQXdGLGVBQWUseUJBQXlCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx3RUFBd0U7QUFDNUgsc0VBQXNFLGlCQUFpQjtBQUN2RixvREFBb0Qsd0VBQXdFO0FBQzVILDBFQUEwRSxpQkFBaUI7QUFDM0Ysb0RBQW9ELHdFQUF3RTtBQUM1SDtBQUNBLG9EQUFvRCx3RUFBd0U7QUFDNUgsZ0VBQWdFLGlCQUFpQjtBQUNqRixvREFBb0Qsd0VBQXdFO0FBQzVILG1FQUFtRSxpQkFBaUI7QUFDcEYsb0RBQW9ELHdFQUF3RTtBQUM1SDtBQUNBLG9FQUFvRSxpQkFBaUI7QUFDckYsb0RBQW9ELHdFQUF3RTtBQUM1SCwyRUFBMkUsaUJBQWlCO0FBQzVGLG9EQUFvRCx3RUFBd0U7QUFDNUgsdUVBQXVFLGlCQUFpQjtBQUN4RixtRUFBbUUsaUJBQWlCO0FBQ3BGO0FBQ0Esb0VBQW9FLGlCQUFpQjtBQUNyRixxRUFBcUUsaUJBQWlCO0FBQ3RGO0FBQ0EsMEVBQTBFLHlEQUF5RDtBQUNuSSwwRUFBMEUseURBQXlEO0FBQ25JO0FBQ0EsdUVBQXVFLGlEQUFpRDtBQUN4SCx1RUFBdUUsbURBQW1EO0FBQzFILHVFQUF1RSxnREFBZ0Q7QUFDdkg7QUFDQSxxRUFBcUUsaUJBQWlCO0FBQ3RGO0FBQ0EsMkRBQTJELGlOQUFpTjtBQUM1UTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlFQUFpRSxrREFBa0Q7QUFDbkg7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQSxhQUFhLHNEQUFzRDtBQUNuRSxvREFBb0QsZ0NBQWdDO0FBQ3BGLHdEQUF3RCxnQ0FBZ0M7QUFDeEY7QUFDQSx3REFBd0QsdUVBQXVFO0FBQy9ILDREQUE0RCxnQ0FBZ0M7QUFDNUY7QUFDQSx3REFBd0QsZ0NBQWdDO0FBQ3hGO0FBQ0EsNkRBQTZELGlDQUFpQztBQUM5RjtBQUNBLHdEQUF3RCx1RUFBdUU7QUFDL0gsNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLG9EQUFvRCxrQ0FBa0M7QUFDdEYsd0RBQXdELGdDQUFnQztBQUN4RjtBQUNBLHdEQUF3RCx1RUFBdUU7QUFDL0gsNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCxnQ0FBZ0M7QUFDeEY7QUFDQSxvREFBb0QsaUNBQWlDO0FBQ3JGLHdEQUF3RCx3RUFBd0U7QUFDaEksNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCx3RUFBd0U7QUFDaEksNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCx3RUFBd0U7QUFDaEksNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCx3RUFBd0U7QUFDaEksNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCx3RUFBd0U7QUFDaEksNERBQTRELGdDQUFnQztBQUM1RjtBQUNBLHdEQUF3RCxnQ0FBZ0M7QUFDeEYseUVBQXlFLDBCQUEwQjtBQUNuRztBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IscUNBQXFDO0FBQ3JDO0FBQ0Esb0VBQW9FO0FBQ3BFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0dBQWtHO0FBQ2xHLHNGQUFzRjtBQUN0RiwwRUFBMEU7QUFDMUUsa0hBQWtIO0FBQ2xILDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEYsOEdBQThHO0FBQzlHO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxXQUFXO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsa0RBQWtEO0FBQ2xELHlHQUF5RyxVQUFVLHVHQUF1RyxVQUFVO0FBQ3BPLFNBQVMsTUFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFlBQVksWUFBWTtBQUMzRjtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCLGdCQUFnQjtBQUNoQixxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByZWFjdC1wZGYtdmlld2VyL3Rvb2xiYXIvbGliL2Nqcy90b29sYmFyLmpzPzlkNDAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29yZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2NvcmUnKTtcbnZhciBzZWxlY3Rpb25Nb2RlID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvc2VsZWN0aW9uLW1vZGUnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgZnVsbFNjcmVlbiA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2Z1bGwtc2NyZWVuJyk7XG52YXIgZ2V0RmlsZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL2dldC1maWxlJyk7XG52YXIgb3BlbiA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL29wZW4nKTtcbnZhciBwYWdlTmF2aWdhdGlvbiA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3BhZ2UtbmF2aWdhdGlvbicpO1xudmFyIHByaW50ID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvcHJpbnQnKTtcbnZhciBwcm9wZXJ0aWVzID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvcHJvcGVydGllcycpO1xudmFyIHJvdGF0ZSA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3JvdGF0ZScpO1xudmFyIHNjcm9sbE1vZGUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9zY3JvbGwtbW9kZScpO1xudmFyIHNlYXJjaCA9IHJlcXVpcmUoJ0ByZWFjdC1wZGYtdmlld2VyL3NlYXJjaCcpO1xudmFyIHRoZW1lID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvdGhlbWUnKTtcbnZhciB6b29tID0gcmVxdWlyZSgnQHJlYWN0LXBkZi12aWV3ZXIvem9vbScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgTW9yZUljb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuSWNvbiwgeyBzaXplOiAxNiB9LFxuICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiwwLjVjMS4zODEsMCwyLjUsMS4xMTksMi41LDIuNVMxMy4zODEsNS41LDEyLDUuNVM5LjUsNC4zODEsOS41LDNTMTAuNjE5LDAuNSwxMiwwLjV6XFxuICAgICAgICAgICAgTTEyLDkuNVxcbiAgICAgICAgICAgIGMxLjM4MSwwLDIuNSwxLjExOSwyLjUsMi41cy0xLjExOSwyLjUtMi41LDIuNVM5LjUsMTMuMzgxLDkuNSwxMlMxMC42MTksOS41LDEyLDkuNXpcXG4gICAgICAgICAgICBNMTIsMTguNWMxLjM4MSwwLDIuNSwxLjExOSwyLjUsMi41XFxuICAgICAgICAgICAgcy0xLjExOSwyLjUtMi41LDIuNVM5LjUsMjIuMzgxLDkuNSwyMVMxMC42MTksMTguNSwxMiwxOC41elwiIH0pKSk7IH07XG5cbnZhciBQT1JUQUxfT0ZGU0VUID0geyBsZWZ0OiAwLCB0b3A6IDggfTtcbnZhciBNb3JlQWN0aW9uc1BvcG92ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgdG9vbGJhclNsb3QgPSBfYS50b29sYmFyU2xvdDtcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGRpcmVjdGlvbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLlRoZW1lQ29udGV4dCkuZGlyZWN0aW9uO1xuICAgIHZhciBwb3J0YWxQb3NpdGlvbiA9IGRpcmVjdGlvbiA9PT0gY29yZS5UZXh0RGlyZWN0aW9uLlJpZ2h0VG9MZWZ0ID8gY29yZS5Qb3NpdGlvbi5Cb3R0b21MZWZ0IDogY29yZS5Qb3NpdGlvbi5Cb3R0b21SaWdodDtcbiAgICB2YXIgRG93bmxvYWRNZW51SXRlbSA9IHRvb2xiYXJTbG90LkRvd25sb2FkTWVudUl0ZW0sIEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtID0gdG9vbGJhclNsb3QuRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW0sIEdvVG9GaXJzdFBhZ2VNZW51SXRlbSA9IHRvb2xiYXJTbG90LkdvVG9GaXJzdFBhZ2VNZW51SXRlbSwgR29Ub0xhc3RQYWdlTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Hb1RvTGFzdFBhZ2VNZW51SXRlbSwgR29Ub05leHRQYWdlTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Hb1RvTmV4dFBhZ2VNZW51SXRlbSwgR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtLCBPcGVuTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5PcGVuTWVudUl0ZW0sIFByaW50TWVudUl0ZW0gPSB0b29sYmFyU2xvdC5QcmludE1lbnVJdGVtLCBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtID0gdG9vbGJhclNsb3QuUm90YXRlQmFja3dhcmRNZW51SXRlbSwgUm90YXRlRm9yd2FyZE1lbnVJdGVtID0gdG9vbGJhclNsb3QuUm90YXRlRm9yd2FyZE1lbnVJdGVtLCBTaG93UHJvcGVydGllc01lbnVJdGVtID0gdG9vbGJhclNsb3QuU2hvd1Byb3BlcnRpZXNNZW51SXRlbSwgU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtID0gdG9vbGJhclNsb3QuU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtLCBTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Td2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW0sIFN3aXRjaFRoZW1lTWVudUl0ZW0gPSB0b29sYmFyU2xvdC5Td2l0Y2hUaGVtZU1lbnVJdGVtO1xuICAgIHZhciByZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiAodG9nZ2xlLCBvcGVuZWQpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnRvb2xiYXIgPyBsMTBuLnRvb2xiYXIubW9yZUFjdGlvbnMgOiAnTW9yZSBhY3Rpb25zJztcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5Ub29sdGlwLCB7IGFyaWFDb250cm9sc1N1ZmZpeDogXCJ0b29sYmFyLW1vcmUtYWN0aW9uc1wiLCBwb3NpdGlvbjogcG9ydGFsUG9zaXRpb24sIHRhcmdldDogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWluaW1hbEJ1dHRvbiwgeyBhcmlhTGFiZWw6IGxhYmVsLCBpc1NlbGVjdGVkOiBvcGVuZWQsIHRlc3RJZDogXCJ0b29sYmFyX19tb3JlLWFjdGlvbnMtcG9wb3Zlci10YXJnZXRcIiwgb25DbGljazogdG9nZ2xlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KE1vcmVJY29uLCBudWxsKSksIGNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhYmVsOyB9LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQgfSkpO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAodG9nZ2xlKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudSwgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChTd2l0Y2hUaGVtZU1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrIHJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChPcGVuTWVudUl0ZW0sIG51bGwpKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0tYmxvY2sgcnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbi1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChQcmludE1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWJsb2NrIHJwdi1jb3JlX19kaXNwbGF5LS1oaWRkZW4tbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoRG93bmxvYWRNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1ibG9jayBycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChHb1RvRmlyc3RQYWdlTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1ibG9jayBycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSkpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi1jb3JlX19kaXNwbGF5LS1ibG9jayBycHYtY29yZV9fZGlzcGxheS0taGlkZGVuLW1lZGl1bVwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZU1lbnVJdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZSB9KSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoR29Ub0xhc3RQYWdlTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJvdGF0ZUZvcndhcmRNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUm90YXRlQmFja3dhcmRNZW51SXRlbSwgeyBvbkNsaWNrOiB0b2dnbGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51RGl2aWRlciwgbnVsbCksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtLCB7IG1vZGU6IHNlbGVjdGlvbk1vZGUuU2VsZWN0aW9uTW9kZS5UZXh0LCBvbkNsaWNrOiB0b2dnbGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtLCB7IG1vZGU6IHNlbGVjdGlvbk1vZGUuU2VsZWN0aW9uTW9kZS5IYW5kLCBvbkNsaWNrOiB0b2dnbGUgfSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NZW51RGl2aWRlciwgbnVsbCksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtLCB7IG1vZGU6IGNvcmUuU2Nyb2xsTW9kZS5WZXJ0aWNhbCwgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgeyBtb2RlOiBjb3JlLlNjcm9sbE1vZGUuSG9yaXpvbnRhbCwgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbSwgeyBtb2RlOiBjb3JlLlNjcm9sbE1vZGUuV3JhcHBlZCwgb25DbGljazogdG9nZ2xlIH0pLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3dQcm9wZXJ0aWVzTWVudUl0ZW0sIHsgb25DbGljazogdG9nZ2xlIH0pKSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlBvcG92ZXIsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInRvb2xiYXItbW9yZS1hY3Rpb25zXCIsIGFyaWFIYXNQb3B1cDogXCJtZW51XCIsIHBvc2l0aW9uOiBwb3J0YWxQb3NpdGlvbiwgdGFyZ2V0OiByZW5kZXJUYXJnZXQsIGNvbnRlbnQ6IHJlbmRlckNvbnRlbnQsIG9mZnNldDogUE9SVEFMX09GRlNFVCwgY2xvc2VPbkNsaWNrT3V0c2lkZTogdHJ1ZSwgY2xvc2VPbkVzY2FwZTogdHJ1ZSB9KSk7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciByZW5kZXJEZWZhdWx0VG9vbGJhciA9IGZ1bmN0aW9uICh0cmFuc2Zvcm1Ub29sYmFyU2xvdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGVmYXVsdFRvb2xiYXJTbG90KSB7XG4gICAgICAgIHZhciB0b29sYmFyU2xvdCA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFuc2Zvcm1Ub29sYmFyU2xvdChkZWZhdWx0VG9vbGJhclNsb3QpOyB9LCBbXSk7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSBjb3JlLlRleHREaXJlY3Rpb24uUmlnaHRUb0xlZnQ7XG4gICAgICAgIHZhciBDdXJyZW50UGFnZUlucHV0ID0gdG9vbGJhclNsb3QuQ3VycmVudFBhZ2VJbnB1dCwgRG93bmxvYWQgPSB0b29sYmFyU2xvdC5Eb3dubG9hZCwgRW50ZXJGdWxsU2NyZWVuID0gdG9vbGJhclNsb3QuRW50ZXJGdWxsU2NyZWVuLCBHb1RvTmV4dFBhZ2UgPSB0b29sYmFyU2xvdC5Hb1RvTmV4dFBhZ2UsIEdvVG9QcmV2aW91c1BhZ2UgPSB0b29sYmFyU2xvdC5Hb1RvUHJldmlvdXNQYWdlLCBOdW1iZXJPZlBhZ2VzID0gdG9vbGJhclNsb3QuTnVtYmVyT2ZQYWdlcywgT3BlbiA9IHRvb2xiYXJTbG90Lk9wZW4sIFByaW50ID0gdG9vbGJhclNsb3QuUHJpbnQsIFNob3dTZWFyY2hQb3BvdmVyID0gdG9vbGJhclNsb3QuU2hvd1NlYXJjaFBvcG92ZXIsIFN3aXRjaFRoZW1lID0gdG9vbGJhclNsb3QuU3dpdGNoVGhlbWUsIFpvb20gPSB0b29sYmFyU2xvdC5ab29tLCBab29tSW4gPSB0b29sYmFyU2xvdC5ab29tSW4sIFpvb21PdXQgPSB0b29sYmFyU2xvdC5ab29tT3V0O1xuICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJ0b29sYmFyXCIsIGNsYXNzTmFtZTogY29yZS5jbGFzc05hbWVzKHtcbiAgICAgICAgICAgICAgICAncnB2LXRvb2xiYXInOiB0cnVlLFxuICAgICAgICAgICAgICAgICdycHYtdG9vbGJhci0tcnRsJzogaXNSdGwsXG4gICAgICAgICAgICB9KSwgcm9sZTogXCJ0b29sYmFyXCIsIFwiYXJpYS1vcmllbnRhdGlvblwiOiBcImhvcml6b250YWxcIiB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19sZWZ0XCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoU2hvd1NlYXJjaFBvcG92ZXIsIG51bGwpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stc21hbGxcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9QcmV2aW91c1BhZ2UsIG51bGwpKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEN1cnJlbnRQYWdlSW5wdXQsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19sYWJlbFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoTnVtYmVyT2ZQYWdlcywgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stc21hbGxcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEdvVG9OZXh0UGFnZSwgbnVsbCkpKSksXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2NlbnRlclwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXQsIG51bGwpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stc21hbGxcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb20sIG51bGwpKSksXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21JbiwgbnVsbCkpKSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9fcmlnaHRcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0taGlkZGVuIHJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFN3aXRjaFRoZW1lLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0taGlkZGVuIHJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KEVudGVyRnVsbFNjcmVlbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LWNvcmVfX2Rpc3BsYXktLWhpZGRlbiBycHYtY29yZV9fZGlzcGxheS0tYmxvY2stbWVkaXVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJwdi10b29sYmFyX19pdGVtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChPcGVuLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0taGlkZGVuIHJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KERvd25sb2FkLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtY29yZV9fZGlzcGxheS0taGlkZGVuIHJwdi1jb3JlX19kaXNwbGF5LS1ibG9jay1tZWRpdW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicnB2LXRvb2xiYXJfX2l0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFByaW50LCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJycHYtdG9vbGJhcl9faXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChNb3JlQWN0aW9uc1BvcG92ZXIsIHsgdG9vbGJhclNsb3Q6IHRvb2xiYXJTbG90IH0pKSkpKTtcbiAgICB9O1xufTtcblxudmFyIGRlZmF1bHRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoc2xvdCkge1xuICAgIHZhciBOdW1iZXJPZlBhZ2VzID0gc2xvdC5OdW1iZXJPZlBhZ2VzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzbG90LCB7XG4gICAgICAgIE51bWJlck9mUGFnZXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgIFwiLyBcIixcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChOdW1iZXJPZlBhZ2VzLCBudWxsKSkpOyB9LFxuICAgIH0pO1xufTtcbnZhciBEZWZhdWx0VG9vYmFyID0gZnVuY3Rpb24gKHRvb2xiYXJTbG90KSB7XG4gICAgcmV0dXJuIHJlbmRlckRlZmF1bHRUb29sYmFyKGRlZmF1bHRUcmFuc2Zvcm0pKHRvb2xiYXJTbG90KTtcbn07XG5cbnZhciBUb29sYmFyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHNsb3QgPSBfYS5zbG90O1xuICAgIHZhciByZW5kZXIgPSBjaGlsZHJlbiB8fCBEZWZhdWx0VG9vYmFyO1xuICAgIHJldHVybiByZW5kZXIoc2xvdCk7XG59O1xuXG52YXIgdG9vbGJhclBsdWdpbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBmdWxsU2NyZWVuUGx1Z2luSW5zdGFuY2UgPSBmdWxsU2NyZWVuLmZ1bGxTY3JlZW5QbHVnaW4ocHJvcHMgPyBwcm9wcy5mdWxsU2NyZWVuUGx1Z2luIDoge30pO1xuICAgIHZhciBnZXRGaWxlUGx1Z2luSW5zdGFuY2UgPSBnZXRGaWxlLmdldEZpbGVQbHVnaW4ocHJvcHMgPyBwcm9wcy5nZXRGaWxlUGx1Z2luIDoge30pO1xuICAgIHZhciBvcGVuUGx1Z2luSW5zdGFuY2UgPSBvcGVuLm9wZW5QbHVnaW4ocHJvcHMgPyBwcm9wcy5vcGVuUGx1Z2luIDoge30pO1xuICAgIHZhciBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlID0gcGFnZU5hdmlnYXRpb24ucGFnZU5hdmlnYXRpb25QbHVnaW4ocHJvcHMgPyBwcm9wcy5wYWdlTmF2aWdhdGlvblBsdWdpbiA6IHt9KTtcbiAgICB2YXIgcHJpbnRQbHVnaW5JbnN0YW5jZSA9IHByaW50LnByaW50UGx1Z2luKHByb3BzID8gcHJvcHMucHJpbnRQbHVnaW4gOiB7fSk7XG4gICAgdmFyIHByb3BlcnRpZXNQbHVnaW5JbnN0YW5jZSA9IHByb3BlcnRpZXMucHJvcGVydGllc1BsdWdpbigpO1xuICAgIHZhciByb3RhdGVQbHVnaW5JbnN0YW5jZSA9IHJvdGF0ZS5yb3RhdGVQbHVnaW4oKTtcbiAgICB2YXIgc2Nyb2xsTW9kZVBsdWdpbkluc3RhbmNlID0gc2Nyb2xsTW9kZS5zY3JvbGxNb2RlUGx1Z2luKCk7XG4gICAgdmFyIHNlYXJjaFBsdWdpbkluc3RhbmNlID0gc2VhcmNoLnNlYXJjaFBsdWdpbihwcm9wcyA/IHByb3BzLnNlYXJjaFBsdWdpbiA6IHt9KTtcbiAgICB2YXIgc2VsZWN0aW9uTW9kZVBsdWdpbkluc3RhbmNlID0gc2VsZWN0aW9uTW9kZS5zZWxlY3Rpb25Nb2RlUGx1Z2luKHByb3BzID8gcHJvcHMuc2VsZWN0aW9uTW9kZVBsdWdpbiA6IHt9KTtcbiAgICB2YXIgdGhlbWVQbHVnaW5JbnN0YW5jZSA9IHRoZW1lLnRoZW1lUGx1Z2luKCk7XG4gICAgdmFyIHpvb21QbHVnaW5JbnN0YW5jZSA9IHpvb20uem9vbVBsdWdpbihwcm9wcyA/IHByb3BzLnpvb21QbHVnaW4gOiB7fSk7XG4gICAgdmFyIHBsdWdpbnMgPSBbXG4gICAgICAgIGZ1bGxTY3JlZW5QbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgZ2V0RmlsZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICBvcGVuUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHByaW50UGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHByb3BlcnRpZXNQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgcm90YXRlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNjcm9sbE1vZGVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgc2VhcmNoUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNlbGVjdGlvbk1vZGVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgdGhlbWVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgem9vbVBsdWdpbkluc3RhbmNlLFxuICAgIF07XG4gICAgdmFyIFRvb2xiYXJEZWNvcmF0b3IgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB2YXIgRW50ZXJGdWxsU2NyZWVuID0gZnVsbFNjcmVlblBsdWdpbkluc3RhbmNlLkVudGVyRnVsbFNjcmVlbiwgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW0gPSBmdWxsU2NyZWVuUGx1Z2luSW5zdGFuY2UuRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW07XG4gICAgICAgIHZhciBEb3dubG9hZCA9IGdldEZpbGVQbHVnaW5JbnN0YW5jZS5Eb3dubG9hZCwgRG93bmxvYWRNZW51SXRlbSA9IGdldEZpbGVQbHVnaW5JbnN0YW5jZS5Eb3dubG9hZE1lbnVJdGVtO1xuICAgICAgICB2YXIgT3BlbiA9IG9wZW5QbHVnaW5JbnN0YW5jZS5PcGVuLCBPcGVuTWVudUl0ZW0gPSBvcGVuUGx1Z2luSW5zdGFuY2UuT3Blbk1lbnVJdGVtO1xuICAgICAgICB2YXIgQ3VycmVudFBhZ2VJbnB1dCA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuQ3VycmVudFBhZ2VJbnB1dCwgQ3VycmVudFBhZ2VMYWJlbCA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuQ3VycmVudFBhZ2VMYWJlbCwgR29Ub0ZpcnN0UGFnZSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub0ZpcnN0UGFnZSwgR29Ub0ZpcnN0UGFnZU1lbnVJdGVtID0gcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZS5Hb1RvRmlyc3RQYWdlTWVudUl0ZW0sIEdvVG9MYXN0UGFnZSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub0xhc3RQYWdlLCBHb1RvTGFzdFBhZ2VNZW51SXRlbSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub0xhc3RQYWdlTWVudUl0ZW0sIEdvVG9OZXh0UGFnZSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub05leHRQYWdlLCBHb1RvTmV4dFBhZ2VNZW51SXRlbSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub05leHRQYWdlTWVudUl0ZW0sIEdvVG9QcmV2aW91c1BhZ2UgPSBwYWdlTmF2aWdhdGlvblBsdWdpbkluc3RhbmNlLkdvVG9QcmV2aW91c1BhZ2UsIEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbSA9IHBhZ2VOYXZpZ2F0aW9uUGx1Z2luSW5zdGFuY2UuR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtLCBOdW1iZXJPZlBhZ2VzID0gcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZS5OdW1iZXJPZlBhZ2VzO1xuICAgICAgICB2YXIgUHJpbnQgPSBwcmludFBsdWdpbkluc3RhbmNlLlByaW50LCBQcmludE1lbnVJdGVtID0gcHJpbnRQbHVnaW5JbnN0YW5jZS5QcmludE1lbnVJdGVtO1xuICAgICAgICB2YXIgU2hvd1Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzUGx1Z2luSW5zdGFuY2UuU2hvd1Byb3BlcnRpZXMsIFNob3dQcm9wZXJ0aWVzTWVudUl0ZW0gPSBwcm9wZXJ0aWVzUGx1Z2luSW5zdGFuY2UuU2hvd1Byb3BlcnRpZXNNZW51SXRlbTtcbiAgICAgICAgdmFyIFJvdGF0ZSA9IHJvdGF0ZVBsdWdpbkluc3RhbmNlLlJvdGF0ZSwgUm90YXRlQmFja3dhcmRNZW51SXRlbSA9IHJvdGF0ZVBsdWdpbkluc3RhbmNlLlJvdGF0ZUJhY2t3YXJkTWVudUl0ZW0sIFJvdGF0ZUZvcndhcmRNZW51SXRlbSA9IHJvdGF0ZVBsdWdpbkluc3RhbmNlLlJvdGF0ZUZvcndhcmRNZW51SXRlbTtcbiAgICAgICAgdmFyIFN3aXRjaFNjcm9sbE1vZGUgPSBzY3JvbGxNb2RlUGx1Z2luSW5zdGFuY2UuU3dpdGNoU2Nyb2xsTW9kZSwgU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtID0gc2Nyb2xsTW9kZVBsdWdpbkluc3RhbmNlLlN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbTtcbiAgICAgICAgdmFyIFNlYXJjaCA9IHNlYXJjaFBsdWdpbkluc3RhbmNlLlNlYXJjaCwgU2hvd1NlYXJjaFBvcG92ZXIgPSBzZWFyY2hQbHVnaW5JbnN0YW5jZS5TaG93U2VhcmNoUG9wb3ZlcjtcbiAgICAgICAgdmFyIFN3aXRjaFNlbGVjdGlvbk1vZGUgPSBzZWxlY3Rpb25Nb2RlUGx1Z2luSW5zdGFuY2UuU3dpdGNoU2VsZWN0aW9uTW9kZSwgU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtID0gc2VsZWN0aW9uTW9kZVBsdWdpbkluc3RhbmNlLlN3aXRjaFNlbGVjdGlvbk1vZGVNZW51SXRlbTtcbiAgICAgICAgdmFyIFN3aXRjaFRoZW1lID0gdGhlbWVQbHVnaW5JbnN0YW5jZS5Td2l0Y2hUaGVtZSwgU3dpdGNoVGhlbWVNZW51SXRlbSA9IHRoZW1lUGx1Z2luSW5zdGFuY2UuU3dpdGNoVGhlbWVNZW51SXRlbTtcbiAgICAgICAgdmFyIEN1cnJlbnRTY2FsZSA9IHpvb21QbHVnaW5JbnN0YW5jZS5DdXJyZW50U2NhbGUsIFpvb20gPSB6b29tUGx1Z2luSW5zdGFuY2UuWm9vbSwgWm9vbUluID0gem9vbVBsdWdpbkluc3RhbmNlLlpvb21JbiwgWm9vbUluTWVudUl0ZW0gPSB6b29tUGx1Z2luSW5zdGFuY2UuWm9vbUluTWVudUl0ZW0sIFpvb21PdXQgPSB6b29tUGx1Z2luSW5zdGFuY2UuWm9vbU91dCwgWm9vbU91dE1lbnVJdGVtID0gem9vbVBsdWdpbkluc3RhbmNlLlpvb21PdXRNZW51SXRlbTtcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwgX19hc3NpZ24oe30sIHByb3BzLCB7IHNsb3Q6IHtcbiAgICAgICAgICAgICAgICBDdXJyZW50UGFnZUlucHV0OiBDdXJyZW50UGFnZUlucHV0LFxuICAgICAgICAgICAgICAgIEN1cnJlbnRQYWdlTGFiZWw6IEN1cnJlbnRQYWdlTGFiZWwsXG4gICAgICAgICAgICAgICAgQ3VycmVudFNjYWxlOiBDdXJyZW50U2NhbGUsXG4gICAgICAgICAgICAgICAgRG93bmxvYWQ6IERvd25sb2FkLFxuICAgICAgICAgICAgICAgIERvd25sb2FkTWVudUl0ZW06IERvd25sb2FkTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgRW50ZXJGdWxsU2NyZWVuOiBFbnRlckZ1bGxTY3JlZW4sXG4gICAgICAgICAgICAgICAgRW50ZXJGdWxsU2NyZWVuTWVudUl0ZW06IEVudGVyRnVsbFNjcmVlbk1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIEdvVG9GaXJzdFBhZ2U6IEdvVG9GaXJzdFBhZ2UsXG4gICAgICAgICAgICAgICAgR29Ub0ZpcnN0UGFnZU1lbnVJdGVtOiBHb1RvRmlyc3RQYWdlTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgR29Ub0xhc3RQYWdlOiBHb1RvTGFzdFBhZ2UsXG4gICAgICAgICAgICAgICAgR29Ub0xhc3RQYWdlTWVudUl0ZW06IEdvVG9MYXN0UGFnZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIEdvVG9OZXh0UGFnZTogR29Ub05leHRQYWdlLFxuICAgICAgICAgICAgICAgIEdvVG9OZXh0UGFnZU1lbnVJdGVtOiBHb1RvTmV4dFBhZ2VNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBHb1RvUHJldmlvdXNQYWdlOiBHb1RvUHJldmlvdXNQYWdlLFxuICAgICAgICAgICAgICAgIEdvVG9QcmV2aW91c1BhZ2VNZW51SXRlbTogR29Ub1ByZXZpb3VzUGFnZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIE51bWJlck9mUGFnZXM6IE51bWJlck9mUGFnZXMsXG4gICAgICAgICAgICAgICAgT3BlbjogT3BlbixcbiAgICAgICAgICAgICAgICBPcGVuTWVudUl0ZW06IE9wZW5NZW51SXRlbSxcbiAgICAgICAgICAgICAgICBQcmludDogUHJpbnQsXG4gICAgICAgICAgICAgICAgUHJpbnRNZW51SXRlbTogUHJpbnRNZW51SXRlbSxcbiAgICAgICAgICAgICAgICBSb3RhdGU6IFJvdGF0ZSxcbiAgICAgICAgICAgICAgICBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtOiBSb3RhdGVCYWNrd2FyZE1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFJvdGF0ZUZvcndhcmRNZW51SXRlbTogUm90YXRlRm9yd2FyZE1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFNlYXJjaDogU2VhcmNoLFxuICAgICAgICAgICAgICAgIFNob3dQcm9wZXJ0aWVzOiBTaG93UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBTaG93UHJvcGVydGllc01lbnVJdGVtOiBTaG93UHJvcGVydGllc01lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFNob3dTZWFyY2hQb3BvdmVyOiBTaG93U2VhcmNoUG9wb3ZlcixcbiAgICAgICAgICAgICAgICBTd2l0Y2hTY3JvbGxNb2RlOiBTd2l0Y2hTY3JvbGxNb2RlLFxuICAgICAgICAgICAgICAgIFN3aXRjaFNjcm9sbE1vZGVNZW51SXRlbTogU3dpdGNoU2Nyb2xsTW9kZU1lbnVJdGVtLFxuICAgICAgICAgICAgICAgIFN3aXRjaFNlbGVjdGlvbk1vZGU6IFN3aXRjaFNlbGVjdGlvbk1vZGUsXG4gICAgICAgICAgICAgICAgU3dpdGNoU2VsZWN0aW9uTW9kZU1lbnVJdGVtOiBTd2l0Y2hTZWxlY3Rpb25Nb2RlTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgU3dpdGNoVGhlbWU6IFN3aXRjaFRoZW1lLFxuICAgICAgICAgICAgICAgIFN3aXRjaFRoZW1lTWVudUl0ZW06IFN3aXRjaFRoZW1lTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgWm9vbTogWm9vbSxcbiAgICAgICAgICAgICAgICBab29tSW46IFpvb21JbixcbiAgICAgICAgICAgICAgICBab29tSW5NZW51SXRlbTogWm9vbUluTWVudUl0ZW0sXG4gICAgICAgICAgICAgICAgWm9vbU91dDogWm9vbU91dCxcbiAgICAgICAgICAgICAgICBab29tT3V0TWVudUl0ZW06IFpvb21PdXRNZW51SXRlbSxcbiAgICAgICAgICAgIH0gfSkpKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnVsbFNjcmVlblBsdWdpbkluc3RhbmNlOiBmdWxsU2NyZWVuUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIGdldEZpbGVQbHVnaW5JbnN0YW5jZTogZ2V0RmlsZVBsdWdpbkluc3RhbmNlLFxuICAgICAgICBvcGVuUGx1Z2luSW5zdGFuY2U6IG9wZW5QbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZTogcGFnZU5hdmlnYXRpb25QbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgcHJpbnRQbHVnaW5JbnN0YW5jZTogcHJpbnRQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgcHJvcGVydGllc1BsdWdpbkluc3RhbmNlOiBwcm9wZXJ0aWVzUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHJvdGF0ZVBsdWdpbkluc3RhbmNlOiByb3RhdGVQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgc2Nyb2xsTW9kZVBsdWdpbkluc3RhbmNlOiBzY3JvbGxNb2RlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHNlYXJjaFBsdWdpbkluc3RhbmNlOiBzZWFyY2hQbHVnaW5JbnN0YW5jZSxcbiAgICAgICAgc2VsZWN0aW9uTW9kZVBsdWdpbkluc3RhbmNlOiBzZWxlY3Rpb25Nb2RlUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHRoZW1lUGx1Z2luSW5zdGFuY2U6IHRoZW1lUGx1Z2luSW5zdGFuY2UsXG4gICAgICAgIHpvb21QbHVnaW5JbnN0YW5jZTogem9vbVBsdWdpbkluc3RhbmNlLFxuICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiAocGx1Z2luRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChwbHVnaW5GdW5jdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJQYWdlTGF5ZXI6IGZ1bmN0aW9uIChyZW5kZXJQcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsLCBwbHVnaW5zLm1hcChmdW5jdGlvbiAocGx1Z2luLCBpZHgpIHtcbiAgICAgICAgICAgIHJldHVybiBwbHVnaW4ucmVuZGVyUGFnZUxheWVyID8gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCB7IGtleTogaWR4IH0sIHBsdWdpbi5yZW5kZXJQYWdlTGF5ZXIocmVuZGVyUHJvcHMpKSkgOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIHsga2V5OiBpZHggfSkpO1xuICAgICAgICB9KSkpOyB9LFxuICAgICAgICByZW5kZXJWaWV3ZXI6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgdmFyIHNsb3QgPSBwcm9wcy5zbG90O1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLnJlbmRlclZpZXdlcikge1xuICAgICAgICAgICAgICAgICAgICBzbG90ID0gcGx1Z2luLnJlbmRlclZpZXdlcihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJvcHMpLCB7IHNsb3Q6IHNsb3QgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHVuaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLnVuaW5zdGFsbCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4udW5pbnN0YWxsKHBsdWdpbkZ1bmN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG9jdW1lbnRMb2FkOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkRvY3VtZW50TG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ub25Eb2N1bWVudExvYWQocHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkFubm90YXRpb25MYXllclJlbmRlcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25Bbm5vdGF0aW9uTGF5ZXJSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uQW5ub3RhdGlvbkxheWVyUmVuZGVyKHByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25UZXh0TGF5ZXJSZW5kZXI6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVGV4dExheWVyUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vblRleHRMYXllclJlbmRlcihwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uVmlld2VyU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uICh2aWV3ZXJTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gdmlld2VyU3RhdGU7XG4gICAgICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25WaWV3ZXJTdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHBsdWdpbi5vblZpZXdlclN0YXRlQ2hhbmdlKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyRGVmYXVsdFRvb2xiYXI6IHJlbmRlckRlZmF1bHRUb29sYmFyLFxuICAgICAgICBUb29sYmFyOiBUb29sYmFyRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLk1vcmVBY3Rpb25zUG9wb3ZlciA9IE1vcmVBY3Rpb25zUG9wb3ZlcjtcbmV4cG9ydHMuTW9yZUljb24gPSBNb3JlSWNvbjtcbmV4cG9ydHMudG9vbGJhclBsdWdpbiA9IHRvb2xiYXJQbHVnaW47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/toolbar/lib/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/toolbar/lib/index.js ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/toolbar.js */ \"./node_modules/@react-pdf-viewer/toolbar/lib/cjs/toolbar.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLDJIQUE0QztBQUNoRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvdG9vbGJhci9saWIvaW5kZXguanM/NjlkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvdG9vbGJhci5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy90b29sYmFyLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/toolbar/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar core = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar ZoomInIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\\n            M23.5,23.499\\n            l-5.929-5.929\\n            M5.5,10.499h10\\n            M10.5,5.499v10\" }))); };\n\nvar ZoomOutIcon = function () { return (React__namespace.createElement(core.Icon, { ignoreDirection: true, size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\\n            M23.5,23.499\\n            l-5.929-5.929\\n            M5.5,10.499h10\" }))); };\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar useZoom = function (store) {\n    var _a = React__namespace.useState(store.get('scale') || 0), scale = _a[0], setScale = _a[1];\n    var handleScaleChanged = function (currentScale) {\n        setScale(currentScale);\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('scale', handleScaleChanged);\n        return function () {\n            store.unsubscribe('scale', handleScaleChanged);\n        };\n    }, []);\n    return { scale: scale };\n};\n\nvar CurrentScale = function (_a) {\n    var children = _a.children, store = _a.store;\n    var scale = useZoom(store).scale;\n    var defaultChildren = function (props) { return React__namespace.createElement(React__namespace.Fragment, null, \"\".concat(Math.round(props.scale * 100), \"%\")); };\n    var render = children || defaultChildren;\n    return render({ scale: scale });\n};\n\nvar LEVELS = [\n    0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.4, 2.7, 3.0, 3.3, 3.7, 4.1, 4.6,\n    5.1, 5.7, 6.3, 7.0, 7.7, 8.5, 9.4, 10,\n];\nvar increase = function (currentLevel) {\n    var found = LEVELS.find(function (item) { return item > currentLevel; });\n    return found || currentLevel;\n};\nvar decrease = function (currentLevel) {\n    var found = LEVELS.findIndex(function (item) { return item >= currentLevel; });\n    return found === -1 || found === 0 ? currentLevel : LEVELS[found - 1];\n};\n\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey) {\n            return;\n        }\n        var isCommandPressed = core.isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !containerEle.contains(document.activeElement)) {\n            return;\n        }\n        var zoom = store.get('zoom');\n        if (!zoom) {\n            return;\n        }\n        var scale = store.get('scale') || 1;\n        var newScale = 1;\n        switch (e.key) {\n            case '-':\n                newScale = decrease(scale);\n                break;\n            case '=':\n                newScale = increase(scale);\n                break;\n            case '0':\n                newScale = 1;\n                break;\n            default:\n                newScale = scale;\n                break;\n        }\n        if (newScale !== scale) {\n            e.preventDefault();\n            zoom(newScale);\n        }\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar DEFAULT_LEVELS = [0.5, 0.75, 1, 1.25, 1.5, 2, 3, 4];\nvar PORTAL_OFFSET = { left: 0, top: 8 };\nvar ZoomPopover = function (_a) {\n    var _b = _a.levels, levels = _b === void 0 ? DEFAULT_LEVELS : _b, scale = _a.scale, onZoom = _a.onZoom;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var getSpcialLevelLabel = function (level) {\n        switch (level) {\n            case core.SpecialZoomLevel.ActualSize:\n                return l10n && l10n.zoom ? l10n.zoom.actualSize : 'Actual size';\n            case core.SpecialZoomLevel.PageFit:\n                return l10n && l10n.zoom ? l10n.zoom.pageFit : 'Page fit';\n            case core.SpecialZoomLevel.PageWidth:\n                return l10n && l10n.zoom ? l10n.zoom.pageWidth : 'Page width';\n        }\n    };\n    var zoomDocumentLabel = l10n && l10n.zoom ? l10n.zoom.zoomDocument : 'Zoom document';\n    var renderTarget = function (toggle) {\n        var click = function () {\n            toggle();\n        };\n        return (React__namespace.createElement(core.MinimalButton, { ariaLabel: zoomDocumentLabel, testId: \"zoom__popover-target\", onClick: click },\n            React__namespace.createElement(\"span\", { className: \"rpv-zoom__popover-target\" },\n                React__namespace.createElement(\"span\", { \"data-testid\": \"zoom__popover-target-scale\", className: core.classNames({\n                        'rpv-zoom__popover-target-scale': true,\n                        'rpv-zoom__popover-target-scale--ltr': !isRtl,\n                        'rpv-zoom__popover-target-scale--rtl': isRtl,\n                    }) },\n                    Math.round(scale * 100),\n                    \"%\"),\n                React__namespace.createElement(\"span\", { className: \"rpv-zoom__popover-target-arrow\" }))));\n    };\n    var renderContent = function (toggle) { return (React__namespace.createElement(core.Menu, null,\n        Object.keys(core.SpecialZoomLevel).map(function (k) {\n            var level = k;\n            var clickMenuItem = function () {\n                toggle();\n                onZoom(level);\n            };\n            return (React__namespace.createElement(core.MenuItem, { key: level, onClick: clickMenuItem }, getSpcialLevelLabel(level)));\n        }),\n        React__namespace.createElement(core.MenuDivider, null),\n        levels.map(function (level) {\n            var clickMenuItem = function () {\n                toggle();\n                onZoom(level);\n            };\n            return (React__namespace.createElement(core.MenuItem, { key: level, onClick: clickMenuItem }, \"\".concat(Math.round(level * 100), \"%\")));\n        }))); };\n    return (React__namespace.createElement(core.Popover, { ariaControlsSuffix: \"zoom\", ariaHasPopup: \"menu\", position: core.Position.BottomCenter, target: renderTarget, content: renderContent, offset: PORTAL_OFFSET, closeOnClickOutside: true, closeOnEscape: true }));\n};\n\nvar Zoom = function (_a) {\n    var children = _a.children, levels = _a.levels, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomTo = function (newLevel) {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            zoom(newLevel);\n        }\n    };\n    var defaultChildren = function (props) { return (React__namespace.createElement(ZoomPopover, { levels: levels, scale: props.scale, onZoom: props.onZoom })); };\n    var render = children || defaultChildren;\n    return render({\n        scale: scale,\n        onZoom: zoomTo,\n    });\n};\n\nvar TOOLTIP_OFFSET$1 = { left: 0, top: 8 };\nvar ZoomInButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomIn : 'Zoom in';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+=' : 'Ctrl+=') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"zoom-in\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"zoom__in-button\", onClick: onClick },\n            React__namespace.createElement(ZoomInIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET$1 }));\n};\n\nvar ZoomIn = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomIn = function () {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            var newLevel = increase(scale);\n            zoom(newLevel);\n        }\n    };\n    var render = children || ZoomInButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: zoomIn,\n    });\n};\n\nvar ZoomInMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomIn : 'Zoom in';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(ZoomInIcon, null), testId: \"zoom__in-menu\", onClick: onClick }, label));\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar ZoomOutButton = function (_a) {\n    var enableShortcuts = _a.enableShortcuts, onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomOut : 'Zoom out';\n    var ariaKeyShortcuts = enableShortcuts ? (core.isMac() ? 'Meta+-' : 'Ctrl+-') : '';\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"zoom-out\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaKeyShortcuts: ariaKeyShortcuts, ariaLabel: label, testId: \"zoom__out-button\", onClick: onClick },\n            React__namespace.createElement(ZoomOutIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar ZoomOut = function (_a) {\n    var children = _a.children, enableShortcuts = _a.enableShortcuts, store = _a.store;\n    var scale = useZoom(store).scale;\n    var zoomIn = function () {\n        var zoom = store.get('zoom');\n        if (zoom) {\n            var newLevel = decrease(scale);\n            zoom(newLevel);\n        }\n    };\n    var render = children || ZoomOutButton;\n    return render({\n        enableShortcuts: enableShortcuts,\n        onClick: zoomIn,\n    });\n};\n\nvar ZoomOutMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var label = l10n && l10n.zoom ? l10n.zoom.zoomOut : 'Zoom out';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(ZoomOutIcon, null), testId: \"zoom__out-menu\", onClick: onClick }, label));\n};\n\nvar zoomPlugin = function (props) {\n    var zoomPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () { return core.createStore({}); }, []);\n    var CurrentScaleDecorator = function (props) { return React__namespace.createElement(CurrentScale, __assign({}, props, { store: store })); };\n    var ZoomInDecorator = function (props) { return (React__namespace.createElement(ZoomIn, __assign({ enableShortcuts: zoomPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ZoomInButtonDecorator = function () { return React__namespace.createElement(ZoomInDecorator, null, function (props) { return React__namespace.createElement(ZoomInButton, __assign({}, props)); }); };\n    var ZoomInMenuItemDecorator = function (props) { return (React__namespace.createElement(ZoomInDecorator, null, function (p) { return (React__namespace.createElement(ZoomInMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ZoomOutDecorator = function (props) { return (React__namespace.createElement(ZoomOut, __assign({ enableShortcuts: zoomPluginProps.enableShortcuts }, props, { store: store }))); };\n    var ZoomOutButtonDecorator = function () { return React__namespace.createElement(ZoomOutDecorator, null, function (props) { return React__namespace.createElement(ZoomOutButton, __assign({}, props)); }); };\n    var ZoomOutMenuItemDecorator = function (props) { return (React__namespace.createElement(ZoomOutDecorator, null, function (p) { return (React__namespace.createElement(ZoomOutMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var ZoomDecorator = function (props) { return React__namespace.createElement(Zoom, __assign({}, props, { store: store })); };\n    var ZoomPopoverDecorator = function (zoomPopverProps) { return (React__namespace.createElement(ZoomDecorator, null, function (props) { return React__namespace.createElement(ZoomPopover, __assign({ levels: zoomPopverProps === null || zoomPopverProps === void 0 ? void 0 : zoomPopverProps.levels }, props)); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        if (!zoomPluginProps.enableShortcuts) {\n            return slot;\n        }\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        renderViewer: renderViewer,\n        install: function (pluginFunctions) {\n            store.update('zoom', pluginFunctions.zoom);\n        },\n        onViewerStateChange: function (viewerState) {\n            store.update('scale', viewerState.scale);\n            return viewerState;\n        },\n        zoomTo: function (scale) {\n            var zoom = store.get('zoom');\n            if (zoom) {\n                zoom(scale);\n            }\n        },\n        CurrentScale: CurrentScaleDecorator,\n        ZoomIn: ZoomInDecorator,\n        ZoomInButton: ZoomInButtonDecorator,\n        ZoomInMenuItem: ZoomInMenuItemDecorator,\n        ZoomOut: ZoomOutDecorator,\n        ZoomOutButton: ZoomOutButtonDecorator,\n        ZoomOutMenuItem: ZoomOutMenuItemDecorator,\n        Zoom: ZoomDecorator,\n        ZoomPopover: ZoomPopoverDecorator,\n    };\n};\n\nexports.ZoomInIcon = ZoomInIcon;\nexports.ZoomOutIcon = ZoomOutIcon;\nexports.zoomPlugin = zoomPlugin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvY2pzL3pvb20uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxXQUFXLG1CQUFPLENBQUMsa0ZBQXdCO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSwrQkFBK0Isb0RBQW9ELGlDQUFpQztBQUNwSCw2Q0FBNkMsOE1BQThNOztBQUUzUCxnQ0FBZ0Msb0RBQW9ELGlDQUFpQztBQUNySCw2Q0FBNkMsa0xBQWtMOztBQUUvTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsNkJBQTZCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4QkFBOEI7QUFDakY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDhFQUE4RTtBQUNuSixxREFBcUQsdUNBQXVDO0FBQzVGLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsR0FBRztBQUN4QjtBQUNBO0FBQ0EseURBQXlELDZDQUE2QztBQUN0RztBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0Usb0NBQW9DO0FBQ3hHLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0Usb0NBQW9DO0FBQ3hHLFNBQVM7QUFDVCwyREFBMkQsNk1BQTZNO0FBQ3hROztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxzREFBc0QsMERBQTBEO0FBQzdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGtJQUFrSSxtR0FBbUc7QUFDaFMsc0ZBQXNGLGVBQWUsNEJBQTRCO0FBQ2pJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsbUdBQW1HO0FBQy9KOztBQUVBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG1JQUFtSSxvR0FBb0c7QUFDbFMsdUZBQXVGLGVBQWUsMEJBQTBCO0FBQ2hJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQscUdBQXFHO0FBQ2pLOztBQUVBO0FBQ0EsaUVBQWlFLHVCQUF1QixJQUFJLHVCQUF1QixXQUFXO0FBQzlILHVEQUF1RCwwQkFBMEIsSUFBSTtBQUNyRixtREFBbUQsK0RBQStELFdBQVcsY0FBYztBQUMzSSw2Q0FBNkMsMERBQTBELGtEQUFrRCxXQUFXLGNBQWM7QUFDbEwsOENBQThDLGdGQUFnRiwrREFBK0QsWUFBWTtBQUN6TSxxREFBcUQsNkVBQTZFLHlEQUF5RDtBQUMzTDtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLDhDQUE4QywyREFBMkQsa0RBQWtELFdBQVcsY0FBYztBQUNwTCwrQ0FBK0MsaUZBQWlGLGdFQUFnRSxZQUFZO0FBQzVNLHNEQUFzRCw4RUFBOEUsMERBQTBEO0FBQzlMO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsMkNBQTJDLHVEQUF1RCxXQUFXLGNBQWM7QUFDM0gsNERBQTRELCtFQUErRSw4REFBOEQsa0dBQWtHLFlBQVk7QUFDdlQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0RBQWdEO0FBQ2xIO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkIsa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AcmVhY3QtcGRmLXZpZXdlci96b29tL2xpYi9janMvem9vbS5qcz84YWE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvcmUgPSByZXF1aXJlKCdAcmVhY3QtcGRmLXZpZXdlci9jb3JlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcE5hbWVzcGFjZShlKSB7XG4gICAgaWYgKGUgJiYgZS5fX2VzTW9kdWxlKSByZXR1cm4gZTtcbiAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKGUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5bXCJkZWZhdWx0XCJdID0gZTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xuXG52YXIgWm9vbUluSWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSwwLjQ5OWM1LjUyMywwLDEwLDQuNDc3LDEwLDEwcy00LjQ3NywxMC0xMCwxMHMtMTAtNC40NzctMTAtMTBTNC45NzcsMC40OTksMTAuNSwwLjQ5OXpcXG4gICAgICAgICAgICBNMjMuNSwyMy40OTlcXG4gICAgICAgICAgICBsLTUuOTI5LTUuOTI5XFxuICAgICAgICAgICAgTTUuNSwxMC40OTloMTBcXG4gICAgICAgICAgICBNMTAuNSw1LjQ5OXYxMFwiIH0pKSk7IH07XG5cbnZhciBab29tT3V0SWNvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5JY29uLCB7IGlnbm9yZURpcmVjdGlvbjogdHJ1ZSwgc2l6ZTogMTYgfSxcbiAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAuNSwwLjQ5OWM1LjUyMywwLDEwLDQuNDc3LDEwLDEwcy00LjQ3NywxMC0xMCwxMHMtMTAtNC40NzctMTAtMTBTNC45NzcsMC40OTksMTAuNSwwLjQ5OXpcXG4gICAgICAgICAgICBNMjMuNSwyMy40OTlcXG4gICAgICAgICAgICBsLTUuOTI5LTUuOTI5XFxuICAgICAgICAgICAgTTUuNSwxMC40OTloMTBcIiB9KSkpOyB9O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciB1c2Vab29tID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgdmFyIF9hID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZShzdG9yZS5nZXQoJ3NjYWxlJykgfHwgMCksIHNjYWxlID0gX2FbMF0sIHNldFNjYWxlID0gX2FbMV07XG4gICAgdmFyIGhhbmRsZVNjYWxlQ2hhbmdlZCA9IGZ1bmN0aW9uIChjdXJyZW50U2NhbGUpIHtcbiAgICAgICAgc2V0U2NhbGUoY3VycmVudFNjYWxlKTtcbiAgICB9O1xuICAgIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKCdzY2FsZScsIGhhbmRsZVNjYWxlQ2hhbmdlZCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9yZS51bnN1YnNjcmliZSgnc2NhbGUnLCBoYW5kbGVTY2FsZUNoYW5nZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBzY2FsZTogc2NhbGUgfTtcbn07XG5cbnZhciBDdXJyZW50U2NhbGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIgc2NhbGUgPSB1c2Vab29tKHN0b3JlKS5zY2FsZTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoUmVhY3RfX25hbWVzcGFjZS5GcmFnbWVudCwgbnVsbCwgXCJcIi5jb25jYXQoTWF0aC5yb3VuZChwcm9wcy5zY2FsZSAqIDEwMCksIFwiJVwiKSk7IH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IGRlZmF1bHRDaGlsZHJlbjtcbiAgICByZXR1cm4gcmVuZGVyKHsgc2NhbGU6IHNjYWxlIH0pO1xufTtcblxudmFyIExFVkVMUyA9IFtcbiAgICAwLjEsIDAuMiwgMC4zLCAwLjQsIDAuNSwgMC42LCAwLjcsIDAuOCwgMC45LCAxLCAxLjEsIDEuMywgMS41LCAxLjcsIDEuOSwgMi4xLCAyLjQsIDIuNywgMy4wLCAzLjMsIDMuNywgNC4xLCA0LjYsXG4gICAgNS4xLCA1LjcsIDYuMywgNy4wLCA3LjcsIDguNSwgOS40LCAxMCxcbl07XG52YXIgaW5jcmVhc2UgPSBmdW5jdGlvbiAoY3VycmVudExldmVsKSB7XG4gICAgdmFyIGZvdW5kID0gTEVWRUxTLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gPiBjdXJyZW50TGV2ZWw7IH0pO1xuICAgIHJldHVybiBmb3VuZCB8fCBjdXJyZW50TGV2ZWw7XG59O1xudmFyIGRlY3JlYXNlID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCkge1xuICAgIHZhciBmb3VuZCA9IExFVkVMUy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gPj0gY3VycmVudExldmVsOyB9KTtcbiAgICByZXR1cm4gZm91bmQgPT09IC0xIHx8IGZvdW5kID09PSAwID8gY3VycmVudExldmVsIDogTEVWRUxTW2ZvdW5kIC0gMV07XG59O1xuXG52YXIgU2hvcnRjdXRIYW5kbGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNvbnRhaW5lclJlZiA9IF9hLmNvbnRhaW5lclJlZiwgc3RvcmUgPSBfYS5zdG9yZTtcbiAgICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLmFsdEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NvbW1hbmRQcmVzc2VkID0gY29yZS5pc01hYygpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5O1xuICAgICAgICBpZiAoIWlzQ29tbWFuZFByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlIHx8ICFkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICFjb250YWluZXJFbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgem9vbSA9IHN0b3JlLmdldCgnem9vbScpO1xuICAgICAgICBpZiAoIXpvb20pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NhbGUgPSBzdG9yZS5nZXQoJ3NjYWxlJykgfHwgMTtcbiAgICAgICAgdmFyIG5ld1NjYWxlID0gMTtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgbmV3U2NhbGUgPSBkZWNyZWFzZShzY2FsZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgICAgICBuZXdTY2FsZSA9IGluY3JlYXNlKHNjYWxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzAnOlxuICAgICAgICAgICAgICAgIG5ld1NjYWxlID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbmV3U2NhbGUgPSBzY2FsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U2NhbGUgIT09IHNjYWxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB6b29tKG5ld1NjYWxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyRWxlID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghY29udGFpbmVyRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW2NvbnRhaW5lclJlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChSZWFjdF9fbmFtZXNwYWNlLkZyYWdtZW50LCBudWxsKTtcbn07XG5cbnZhciBERUZBVUxUX0xFVkVMUyA9IFswLjUsIDAuNzUsIDEsIDEuMjUsIDEuNSwgMiwgMywgNF07XG52YXIgUE9SVEFMX09GRlNFVCA9IHsgbGVmdDogMCwgdG9wOiA4IH07XG52YXIgWm9vbVBvcG92ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgX2IgPSBfYS5sZXZlbHMsIGxldmVscyA9IF9iID09PSB2b2lkIDAgPyBERUZBVUxUX0xFVkVMUyA6IF9iLCBzY2FsZSA9IF9hLnNjYWxlLCBvblpvb20gPSBfYS5vblpvb207XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBkaXJlY3Rpb24gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5UaGVtZUNvbnRleHQpLmRpcmVjdGlvbjtcbiAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09IGNvcmUuVGV4dERpcmVjdGlvbi5SaWdodFRvTGVmdDtcbiAgICB2YXIgZ2V0U3BjaWFsTGV2ZWxMYWJlbCA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICBjYXNlIGNvcmUuU3BlY2lhbFpvb21MZXZlbC5BY3R1YWxTaXplOlxuICAgICAgICAgICAgICAgIHJldHVybiBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS5hY3R1YWxTaXplIDogJ0FjdHVhbCBzaXplJztcbiAgICAgICAgICAgIGNhc2UgY29yZS5TcGVjaWFsWm9vbUxldmVsLlBhZ2VGaXQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnBhZ2VGaXQgOiAnUGFnZSBmaXQnO1xuICAgICAgICAgICAgY2FzZSBjb3JlLlNwZWNpYWxab29tTGV2ZWwuUGFnZVdpZHRoOlxuICAgICAgICAgICAgICAgIHJldHVybiBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS5wYWdlV2lkdGggOiAnUGFnZSB3aWR0aCc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB6b29tRG9jdW1lbnRMYWJlbCA9IGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnpvb21Eb2N1bWVudCA6ICdab29tIGRvY3VtZW50JztcbiAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKHRvZ2dsZSkge1xuICAgICAgICB2YXIgY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFMYWJlbDogem9vbURvY3VtZW50TGFiZWwsIHRlc3RJZDogXCJ6b29tX19wb3BvdmVyLXRhcmdldFwiLCBvbkNsaWNrOiBjbGljayB9LFxuICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJycHYtem9vbV9fcG9wb3Zlci10YXJnZXRcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBcImRhdGEtdGVzdGlkXCI6IFwiem9vbV9fcG9wb3Zlci10YXJnZXQtc2NhbGVcIiwgY2xhc3NOYW1lOiBjb3JlLmNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jwdi16b29tX19wb3BvdmVyLXRhcmdldC1zY2FsZSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1sdHInOiAhaXNSdGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAncnB2LXpvb21fX3BvcG92ZXItdGFyZ2V0LXNjYWxlLS1ydGwnOiBpc1J0bCxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChzY2FsZSAqIDEwMCksXG4gICAgICAgICAgICAgICAgICAgIFwiJVwiKSxcbiAgICAgICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInJwdi16b29tX19wb3BvdmVyLXRhcmdldC1hcnJvd1wiIH0pKSkpO1xuICAgIH07XG4gICAgdmFyIHJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAodG9nZ2xlKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudSwgbnVsbCxcbiAgICAgICAgT2JqZWN0LmtleXMoY29yZS5TcGVjaWFsWm9vbUxldmVsKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGs7XG4gICAgICAgICAgICB2YXIgY2xpY2tNZW51SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgICAgICAgICBvblpvb20obGV2ZWwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsga2V5OiBsZXZlbCwgb25DbGljazogY2xpY2tNZW51SXRlbSB9LCBnZXRTcGNpYWxMZXZlbExhYmVsKGxldmVsKSkpO1xuICAgICAgICB9KSxcbiAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudURpdmlkZXIsIG51bGwpLFxuICAgICAgICBsZXZlbHMubWFwKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgdmFyIGNsaWNrTWVudUl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgb25ab29tKGxldmVsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1lbnVJdGVtLCB7IGtleTogbGV2ZWwsIG9uQ2xpY2s6IGNsaWNrTWVudUl0ZW0gfSwgXCJcIi5jb25jYXQoTWF0aC5yb3VuZChsZXZlbCAqIDEwMCksIFwiJVwiKSkpO1xuICAgICAgICB9KSkpOyB9O1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuUG9wb3ZlciwgeyBhcmlhQ29udHJvbHNTdWZmaXg6IFwiem9vbVwiLCBhcmlhSGFzUG9wdXA6IFwibWVudVwiLCBwb3NpdGlvbjogY29yZS5Qb3NpdGlvbi5Cb3R0b21DZW50ZXIsIHRhcmdldDogcmVuZGVyVGFyZ2V0LCBjb250ZW50OiByZW5kZXJDb250ZW50LCBvZmZzZXQ6IFBPUlRBTF9PRkZTRVQsIGNsb3NlT25DbGlja091dHNpZGU6IHRydWUsIGNsb3NlT25Fc2NhcGU6IHRydWUgfSkpO1xufTtcblxudmFyIFpvb20gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgbGV2ZWxzID0gX2EubGV2ZWxzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBzY2FsZSA9IHVzZVpvb20oc3RvcmUpLnNjYWxlO1xuICAgIHZhciB6b29tVG8gPSBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIHpvb20obmV3TGV2ZWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Qb3BvdmVyLCB7IGxldmVsczogbGV2ZWxzLCBzY2FsZTogcHJvcHMuc2NhbGUsIG9uWm9vbTogcHJvcHMub25ab29tIH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgZGVmYXVsdENoaWxkcmVuO1xuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgIG9uWm9vbTogem9vbVRvLFxuICAgIH0pO1xufTtcblxudmFyIFRPT0xUSVBfT0ZGU0VUJDEgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFpvb21JbkJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrO1xuICAgIHZhciBsMTBuID0gUmVhY3RfX25hbWVzcGFjZS51c2VDb250ZXh0KGNvcmUuTG9jYWxpemF0aW9uQ29udGV4dCkubDEwbjtcbiAgICB2YXIgbGFiZWwgPSBsMTBuICYmIGwxMG4uem9vbSA/IGwxMG4uem9vbS56b29tSW4gOiAnWm9vbSBpbic7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErPScgOiAnQ3RybCs9JykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInpvb20taW5cIiwgcG9zaXRpb246IGNvcmUuUG9zaXRpb24uQm90dG9tQ2VudGVyLCB0YXJnZXQ6IFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLk1pbmltYWxCdXR0b24sIHsgYXJpYUtleVNob3J0Y3V0czogYXJpYUtleVNob3J0Y3V0cywgYXJpYUxhYmVsOiBsYWJlbCwgdGVzdElkOiBcInpvb21fX2luLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sXG4gICAgICAgICAgICBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbUluSWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCQxIH0pKTtcbn07XG5cbnZhciBab29tSW4gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBzdG9yZSA9IF9hLnN0b3JlO1xuICAgIHZhciBzY2FsZSA9IHVzZVpvb20oc3RvcmUpLnNjYWxlO1xuICAgIHZhciB6b29tSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB6b29tID0gc3RvcmUuZ2V0KCd6b29tJyk7XG4gICAgICAgIGlmICh6b29tKSB7XG4gICAgICAgICAgICB2YXIgbmV3TGV2ZWwgPSBpbmNyZWFzZShzY2FsZSk7XG4gICAgICAgICAgICB6b29tKG5ld0xldmVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlbmRlciA9IGNoaWxkcmVuIHx8IFpvb21JbkJ1dHRvbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsXG4gICAgICAgIG9uQ2xpY2s6IHpvb21JbixcbiAgICB9KTtcbn07XG5cbnZhciBab29tSW5NZW51SXRlbSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnpvb20gPyBsMTBuLnpvb20uem9vbUluIDogJ1pvb20gaW4nO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Jbkljb24sIG51bGwpLCB0ZXN0SWQ6IFwiem9vbV9faW4tbWVudVwiLCBvbkNsaWNrOiBvbkNsaWNrIH0sIGxhYmVsKSk7XG59O1xuXG52YXIgVE9PTFRJUF9PRkZTRVQgPSB7IGxlZnQ6IDAsIHRvcDogOCB9O1xudmFyIFpvb21PdXRCdXR0b24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZW5hYmxlU2hvcnRjdXRzID0gX2EuZW5hYmxlU2hvcnRjdXRzLCBvbkNsaWNrID0gX2Eub25DbGljaztcbiAgICB2YXIgbDEwbiA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb3JlLkxvY2FsaXphdGlvbkNvbnRleHQpLmwxMG47XG4gICAgdmFyIGxhYmVsID0gbDEwbiAmJiBsMTBuLnpvb20gPyBsMTBuLnpvb20uem9vbU91dCA6ICdab29tIG91dCc7XG4gICAgdmFyIGFyaWFLZXlTaG9ydGN1dHMgPSBlbmFibGVTaG9ydGN1dHMgPyAoY29yZS5pc01hYygpID8gJ01ldGErLScgOiAnQ3RybCstJykgOiAnJztcbiAgICByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChjb3JlLlRvb2x0aXAsIHsgYXJpYUNvbnRyb2xzU3VmZml4OiBcInpvb20tb3V0XCIsIHBvc2l0aW9uOiBjb3JlLlBvc2l0aW9uLkJvdHRvbUNlbnRlciwgdGFyZ2V0OiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoY29yZS5NaW5pbWFsQnV0dG9uLCB7IGFyaWFLZXlTaG9ydGN1dHM6IGFyaWFLZXlTaG9ydGN1dHMsIGFyaWFMYWJlbDogbGFiZWwsIHRlc3RJZDogXCJ6b29tX19vdXQtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSxcbiAgICAgICAgICAgIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tT3V0SWNvbiwgbnVsbCkpLCBjb250ZW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYWJlbDsgfSwgb2Zmc2V0OiBUT09MVElQX09GRlNFVCB9KSk7XG59O1xuXG52YXIgWm9vbU91dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBlbmFibGVTaG9ydGN1dHMgPSBfYS5lbmFibGVTaG9ydGN1dHMsIHN0b3JlID0gX2Euc3RvcmU7XG4gICAgdmFyIHNjYWxlID0gdXNlWm9vbShzdG9yZSkuc2NhbGU7XG4gICAgdmFyIHpvb21JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHpvb20gPSBzdG9yZS5nZXQoJ3pvb20nKTtcbiAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgIHZhciBuZXdMZXZlbCA9IGRlY3JlYXNlKHNjYWxlKTtcbiAgICAgICAgICAgIHpvb20obmV3TGV2ZWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVuZGVyID0gY2hpbGRyZW4gfHwgWm9vbU91dEJ1dHRvbjtcbiAgICByZXR1cm4gcmVuZGVyKHtcbiAgICAgICAgZW5hYmxlU2hvcnRjdXRzOiBlbmFibGVTaG9ydGN1dHMsXG4gICAgICAgIG9uQ2xpY2s6IHpvb21JbixcbiAgICB9KTtcbn07XG5cbnZhciBab29tT3V0TWVudUl0ZW0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgb25DbGljayA9IF9hLm9uQ2xpY2s7XG4gICAgdmFyIGwxMG4gPSBSZWFjdF9fbmFtZXNwYWNlLnVzZUNvbnRleHQoY29yZS5Mb2NhbGl6YXRpb25Db250ZXh0KS5sMTBuO1xuICAgIHZhciBsYWJlbCA9IGwxMG4gJiYgbDEwbi56b29tID8gbDEwbi56b29tLnpvb21PdXQgOiAnWm9vbSBvdXQnO1xuICAgIHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KGNvcmUuTWVudUl0ZW0sIHsgaWNvbjogUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRJY29uLCBudWxsKSwgdGVzdElkOiBcInpvb21fX291dC1tZW51XCIsIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgbGFiZWwpKTtcbn07XG5cbnZhciB6b29tUGx1Z2luID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIHpvb21QbHVnaW5Qcm9wcyA9IFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB7IGVuYWJsZVNob3J0Y3V0czogdHJ1ZSB9LCBwcm9wcyk7IH0sIFtdKTtcbiAgICB2YXIgc3RvcmUgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS5jcmVhdGVTdG9yZSh7fSk7IH0sIFtdKTtcbiAgICB2YXIgQ3VycmVudFNjYWxlRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoQ3VycmVudFNjYWxlLCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKTsgfTtcbiAgICB2YXIgWm9vbUluRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21JbiwgX19hc3NpZ24oeyBlbmFibGVTaG9ydGN1dHM6IHpvb21QbHVnaW5Qcm9wcy5lbmFibGVTaG9ydGN1dHMgfSwgcHJvcHMsIHsgc3RvcmU6IHN0b3JlIH0pKSk7IH07XG4gICAgdmFyIFpvb21JbkJ1dHRvbkRlY29yYXRvciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tSW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21JbkJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH0pOyB9O1xuICAgIHZhciBab29tSW5NZW51SXRlbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0X19uYW1lc3BhY2UuY3JlYXRlRWxlbWVudChab29tSW5EZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21Jbk1lbnVJdGVtLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHAub25DbGljaygpO1xuICAgICAgICAgICAgcHJvcHMub25DbGljaygpO1xuICAgICAgICB9IH0pKTsgfSkpOyB9O1xuICAgIHZhciBab29tT3V0RGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXQsIF9fYXNzaWduKHsgZW5hYmxlU2hvcnRjdXRzOiB6b29tUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzIH0sIHByb3BzLCB7IHN0b3JlOiBzdG9yZSB9KSkpOyB9O1xuICAgIHZhciBab29tT3V0QnV0dG9uRGVjb3JhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRCdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9KTsgfTtcbiAgICB2YXIgWm9vbU91dE1lbnVJdGVtRGVjb3JhdG9yID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXREZWNvcmF0b3IsIG51bGwsIGZ1bmN0aW9uIChwKSB7IHJldHVybiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb21PdXRNZW51SXRlbSwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwLm9uQ2xpY2soKTtcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2soKTtcbiAgICAgICAgfSB9KSk7IH0pKTsgfTtcbiAgICB2YXIgWm9vbURlY29yYXRvciA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFpvb20sIF9fYXNzaWduKHt9LCBwcm9wcywgeyBzdG9yZTogc3RvcmUgfSkpOyB9O1xuICAgIHZhciBab29tUG9wb3ZlckRlY29yYXRvciA9IGZ1bmN0aW9uICh6b29tUG9wdmVyUHJvcHMpIHsgcmV0dXJuIChSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbURlY29yYXRvciwgbnVsbCwgZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiBSZWFjdF9fbmFtZXNwYWNlLmNyZWF0ZUVsZW1lbnQoWm9vbVBvcG92ZXIsIF9fYXNzaWduKHsgbGV2ZWxzOiB6b29tUG9wdmVyUHJvcHMgPT09IG51bGwgfHwgem9vbVBvcHZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tUG9wdmVyUHJvcHMubGV2ZWxzIH0sIHByb3BzKSk7IH0pKTsgfTtcbiAgICB2YXIgcmVuZGVyVmlld2VyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHZhciBzbG90ID0gcHJvcHMuc2xvdDtcbiAgICAgICAgaWYgKCF6b29tUGx1Z2luUHJvcHMuZW5hYmxlU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlU2xvdCA9IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFJlYWN0X19uYW1lc3BhY2UuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVFbGVtZW50KFNob3J0Y3V0SGFuZGxlciwgeyBjb250YWluZXJSZWY6IHByb3BzLmNvbnRhaW5lclJlZiwgc3RvcmU6IHN0b3JlIH0pLFxuICAgICAgICAgICAgICAgIHNsb3QuY2hpbGRyZW4pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBzbG90KSwgdXBkYXRlU2xvdCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJWaWV3ZXI6IHJlbmRlclZpZXdlcixcbiAgICAgICAgaW5zdGFsbDogZnVuY3Rpb24gKHBsdWdpbkZ1bmN0aW9ucykge1xuICAgICAgICAgICAgc3RvcmUudXBkYXRlKCd6b29tJywgcGx1Z2luRnVuY3Rpb25zLnpvb20pO1xuICAgICAgICB9LFxuICAgICAgICBvblZpZXdlclN0YXRlQ2hhbmdlOiBmdW5jdGlvbiAodmlld2VyU3RhdGUpIHtcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZSgnc2NhbGUnLCB2aWV3ZXJTdGF0ZS5zY2FsZSk7XG4gICAgICAgICAgICByZXR1cm4gdmlld2VyU3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHpvb21UbzogZnVuY3Rpb24gKHNjYWxlKSB7XG4gICAgICAgICAgICB2YXIgem9vbSA9IHN0b3JlLmdldCgnem9vbScpO1xuICAgICAgICAgICAgaWYgKHpvb20pIHtcbiAgICAgICAgICAgICAgICB6b29tKHNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQ3VycmVudFNjYWxlOiBDdXJyZW50U2NhbGVEZWNvcmF0b3IsXG4gICAgICAgIFpvb21JbjogWm9vbUluRGVjb3JhdG9yLFxuICAgICAgICBab29tSW5CdXR0b246IFpvb21JbkJ1dHRvbkRlY29yYXRvcixcbiAgICAgICAgWm9vbUluTWVudUl0ZW06IFpvb21Jbk1lbnVJdGVtRGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0OiBab29tT3V0RGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0QnV0dG9uOiBab29tT3V0QnV0dG9uRGVjb3JhdG9yLFxuICAgICAgICBab29tT3V0TWVudUl0ZW06IFpvb21PdXRNZW51SXRlbURlY29yYXRvcixcbiAgICAgICAgWm9vbTogWm9vbURlY29yYXRvcixcbiAgICAgICAgWm9vbVBvcG92ZXI6IFpvb21Qb3BvdmVyRGVjb3JhdG9yLFxuICAgIH07XG59O1xuXG5leHBvcnRzLlpvb21Jbkljb24gPSBab29tSW5JY29uO1xuZXhwb3J0cy5ab29tT3V0SWNvbiA9IFpvb21PdXRJY29uO1xuZXhwb3J0cy56b29tUGx1Z2luID0gem9vbVBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js\n");

/***/ }),

/***/ "./node_modules/@react-pdf-viewer/zoom/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@react-pdf-viewer/zoom/lib/index.js ***!
  \**********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/**\n * A React component to view a PDF document\n *\n * @see https://react-pdf-viewer.dev\n * @license https://react-pdf-viewer.dev/license\n * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>\n */\n\n\n\nif (false) {} else {\n    module.exports = __webpack_require__(/*! ./cjs/zoom.js */ \"./node_modules/@react-pdf-viewer/zoom/lib/cjs/zoom.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixJQUFJLGtIQUF5QztBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXBkZi12aWV3ZXIvem9vbS9saWIvaW5kZXguanM/ZDkwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRvIHZpZXcgYSBQREYgZG9jdW1lbnRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXZcbiAqIEBsaWNlbnNlIGh0dHBzOi8vcmVhY3QtcGRmLXZpZXdlci5kZXYvbGljZW5zZVxuICogQGNvcHlyaWdodCAyMDE5LTIwMjIgTmd1eWVuIEh1dSBQaHVvYyA8bWVAcGh1b2Mubmc+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvem9vbS5taW4uanMnKTtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy96b29tLmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@react-pdf-viewer/zoom/lib/index.js\n");

/***/ }),

/***/ "./pages/guru/dashboard.js":
/*!*********************************!*\
  !*** ./pages/guru/dashboard.js ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var components_layout_guru__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/layout/guru */ \"./components/layout/guru.js\");\n/* harmony import */ var _react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-pdf-viewer/default-layout */ \"./node_modules/@react-pdf-viewer/default-layout/lib/index.js\");\n/* harmony import */ var _react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_default_layout__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-pdf-viewer/core */ \"./node_modules/@react-pdf-viewer/core/lib/index.js\");\n/* harmony import */ var _react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-pdf-viewer/core/lib/styles/index.css */ \"./node_modules/@react-pdf-viewer/core/lib/styles/index.css\");\n/* harmony import */ var _react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_react_pdf_viewer_core_lib_styles_index_css__WEBPACK_IMPORTED_MODULE_5__);\nvar _this = undefined;\n\n\n\n\n\n\n\nvar Dashboard = function(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-screen overflow-y-scroll\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full h-auto relative px-4 pt-4 flex flex-col md:flex-row gap-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_4__.Worker, {\n                workerUrl: \"https://unpkg.com/pdfjs-dist@2.15.349/build/pdf.worker.min.js\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_pdf_viewer_core__WEBPACK_IMPORTED_MODULE_4__.Viewer, {\n                    fileUrl: \"/pdf/da.pdf\",\n                    plugins: [\n                        // Register plugins\n                        defaultLayoutPluginInstance, \n                    ]\n                }, void 0, false, {\n                    fileName: \"/home/fanvercel/Documents/React/FIX/NextSkensajsFIX/pages/guru/dashboard.js\",\n                    lineNumber: 14,\n                    columnNumber: 11\n                }, _this)\n            }, void 0, false, {\n                fileName: \"/home/fanvercel/Documents/React/FIX/NextSkensajsFIX/pages/guru/dashboard.js\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, _this)\n        }, void 0, false, {\n            fileName: \"/home/fanvercel/Documents/React/FIX/NextSkensajsFIX/pages/guru/dashboard.js\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, _this)\n    }, void 0, false, {\n        fileName: \"/home/fanvercel/Documents/React/FIX/NextSkensajsFIX/pages/guru/dashboard.js\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, _this);\n};\n_c = Dashboard;\nDashboard.getLayout = components_layout_guru__WEBPACK_IMPORTED_MODULE_2__.getLayout;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dashboard);\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9ndXJ1L2Rhc2hib2FyZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7QUFBMEI7QUFDeUI7QUFFb0I7QUFDdkI7QUFDQTtBQUNLO0FBRXJELElBQU1LLFNBQVMsR0FBRyxTQUFDQyxLQUFLLEVBQUs7SUFDM0IscUJBQ0UsOERBQUNDLEtBQUc7UUFBQ0MsU0FBUyxFQUFDLG1DQUFtQztrQkFDaEQsNEVBQUNELEtBQUc7WUFBQ0MsU0FBUyxFQUFDLGtFQUFrRTtzQkFDL0UsNEVBQUNMLDBEQUFNO2dCQUFDTSxTQUFTLEVBQUMsK0RBQStEOzBCQUMvRSw0RUFBQ0wsMERBQU07b0JBQ0xNLE9BQU8sRUFBQyxhQUFhO29CQUNyQkMsT0FBTyxFQUFFO3dCQUNQLG1CQUFtQjt3QkFDbkJDLDJCQUEyQjtxQkFDNUI7Ozs7O3lCQUNEOzs7OztxQkFDSzs7Ozs7aUJBQ0w7Ozs7O2FBQ0YsQ0FDTjtDQUNIO0FBaEJLUCxLQUFBQSxTQUFTO0FBa0JmQSxTQUFTLENBQUNKLFNBQVMsR0FBR0EsNkRBQVMsQ0FBQztBQUNoQywrREFBZUksU0FBUyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL2d1cnUvZGFzaGJvYXJkLmpzP2E0NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0TGF5b3V0IH0gZnJvbSBcImNvbXBvbmVudHMvbGF5b3V0L2d1cnVcIjtcblxuaW1wb3J0IHsgZGVmYXVsdExheW91dFBsdWdpbiB9IGZyb20gXCJAcmVhY3QtcGRmLXZpZXdlci9kZWZhdWx0LWxheW91dFwiO1xuaW1wb3J0IHsgV29ya2VyIH0gZnJvbSBcIkByZWFjdC1wZGYtdmlld2VyL2NvcmVcIjtcbmltcG9ydCB7IFZpZXdlciB9IGZyb20gXCJAcmVhY3QtcGRmLXZpZXdlci9jb3JlXCI7XG5pbXBvcnQgXCJAcmVhY3QtcGRmLXZpZXdlci9jb3JlL2xpYi9zdHlsZXMvaW5kZXguY3NzXCI7XG5cbmNvbnN0IERhc2hib2FyZCA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtc2NyZWVuIG92ZXJmbG93LXktc2Nyb2xsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gcmVsYXRpdmUgcHgtNCBwdC00IGZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgZ2FwLTRcIj5cbiAgICAgICAgPFdvcmtlciB3b3JrZXJVcmw9XCJodHRwczovL3VucGtnLmNvbS9wZGZqcy1kaXN0QDIuMTUuMzQ5L2J1aWxkL3BkZi53b3JrZXIubWluLmpzXCI+XG4gICAgICAgICAgPFZpZXdlclxuICAgICAgICAgICAgZmlsZVVybD1cIi9wZGYvZGEucGRmXCJcbiAgICAgICAgICAgIHBsdWdpbnM9e1tcbiAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgcGx1Z2luc1xuICAgICAgICAgICAgICBkZWZhdWx0TGF5b3V0UGx1Z2luSW5zdGFuY2UsXG4gICAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvV29ya2VyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5EYXNoYm9hcmQuZ2V0TGF5b3V0ID0gZ2V0TGF5b3V0O1xuZXhwb3J0IGRlZmF1bHQgRGFzaGJvYXJkO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiZ2V0TGF5b3V0IiwiZGVmYXVsdExheW91dFBsdWdpbiIsIldvcmtlciIsIlZpZXdlciIsIkRhc2hib2FyZCIsInByb3BzIiwiZGl2IiwiY2xhc3NOYW1lIiwid29ya2VyVXJsIiwiZmlsZVVybCIsInBsdWdpbnMiLCJkZWZhdWx0TGF5b3V0UGx1Z2luSW5zdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/guru/dashboard.js\n");

/***/ })

});